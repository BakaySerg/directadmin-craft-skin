(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"066b":function(t,e,a){t.exports={toolbar:"app-toolbar-horizontal_toolbar_Y9XLq bg-secondary row items-center",logo:"app-toolbar-horizontal_logo_11v_R",menu:"app-toolbar-horizontal_menu_TFOX_"}},"21a2":function(t,e,a){t.exports={box:"app-list-actions_box_3Oukv shadow-0",input:"app-list-actions_input_20MRH"}},"22b1":function(t,e,a){"use strict";var s=a("4822"),i=a.n(s);e["default"]=i.a},"2fa0":function(t,e,a){"use strict";var s=a("5eb1"),i=a.n(s);e["default"]=i.a},3597:function(t,e,a){t.exports={filesToolbar:"FilesView_filesToolbar_7s6mn row no-wrap items-center"}},4193:function(t,e,a){"use strict";var s=a("c24c"),i=a.n(s);e["default"]=i.a},"426f":function(t,e,a){},"433b":function(t,e,a){"use strict";var s=a("9e9d"),i=a.n(s);i.a},4822:function(t,e,a){t.exports={menu:"app-folders-tree_menu_255Xm shadow-1",list:"app-folders-tree_list_3XLp-"}},"4a89":function(t,e,a){"use strict";var s=a("f48b"),i=a.n(s);i.a},5404:function(t,e,a){t.exports={block:"app-selected-block_block_pPPPi row items-center no-wrap"}},"544f":function(t,e,a){"use strict";var s=a("5c01"),i=a.n(s);e["default"]=i.a},"5c01":function(t,e,a){t.exports={checkbox:"grid_checkbox_UtE7n absolute-center",fileCheckbox:"grid_fileCheckbox_3am_q grid_checkbox_UtE7n absolute-center",fileLabel:"grid_fileLabel_3TkFy text-no-wrap montserrat text-content text-weight-medium",fileMeta:"grid_fileMeta_1xYJI text-no-wrap montserrat text-muted",toolbarTitle:"grid_toolbarTitle_17_g9 text-weight-medium text-primary",empty:"grid_empty_24Eq2 row justify-start text-content text-size-primary text-weight-medium q-pa-lg"}},"5d70":function(t,e,a){"use strict";var s=a("066b"),i=a.n(s);e["default"]=i.a},"5eb1":function(t,e,a){t.exports={contextMenu:"app-context-menu_contextMenu_2IAOS shadow-1"}},"71d4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"files-view-container"},[a(t.layout,{tag:"component",staticClass:"files-view",attrs:{host:t.host},scopedSlots:t._u([{key:"default",fn:function(e){return a(t.filesContainer,t._b({tag:"component"},"component",e,!1),[a("div",{class:t.$style.filesToolbar,attrs:{slot:"toolbar"},slot:"toolbar"},[t.selected.length?a("selected-block",{attrs:{flat:""}}):[a("breadcrumbs"),a("q-space"),a("list-actions"),a("q-btn",{staticClass:"bg-secondary q-mx-md",attrs:{dense:"",round:"",color:"secondary",icon:"search"},on:{click:e.toggleSearchDialog}},[a("ui-tooltip",[a("translate",{staticClass:"text-no-wrap"},[t._v("\n                Show search dialog (Ctrl + F)\n              ")])],1)],1)],t.loading?a("q-linear-progress",{staticClass:"absolute-bottom",attrs:{indeterminate:"",color:"secondary",size:"2px"}}):t._e()],2)])}}])}),t.drop.show?a("div",{key:"drop-target-"+t.drop.path,staticClass:"drop-overlay rounded-borders",style:t.drop.style},[a("q-icon",{attrs:{color:"primary",name:"cloud_upload",size:"xl",left:""}}),a("translate",{staticClass:"text-weight-medium"},[t._v("Drop here to upload")])],1):t._e()],1)},i=[],n=(a("6762"),a("2fdb"),a("967e")),r=a.n(n),o=(a("96cf"),a("fa84")),l=a.n(o),c=(a("f559"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{class:t.$style.layout,attrs:{view:"lHh LpR lFr"},on:{keyup:[function(e){return(e.type.indexOf("key")||65===e.keyCode)&&e.ctrlKey?t.selectAll(e):null},function(e){return(e.type.indexOf("key")||97===e.keyCode)&&e.ctrlKey?t.selectAll(e):null}]}},[a("q-ajax-bar",{attrs:{color:"secondary",position:"bottom",size:"4px"}}),a("q-header",[t.layout.horizontal?a("toolbar-horizontal",{attrs:{"show-options":t.showOptions},on:{"update:showOptions":function(e){t.showOptions=e},"update:show-options":function(e){t.showOptions=e}}}):t._e(),a("q-resize-observer",{on:{resize:t.onHeaderResize}})],1),t.layout.vertical?a("toolbar-vertical",{attrs:{"show-options":t.showOptions},on:{"update:showOptions":function(e){t.showOptions=e},"update:show-options":function(e){t.showOptions=e}}}):t._e(),a("q-page-container",[a("q-page",[a("q-splitter",{attrs:{limits:t.hideTree?[0,0]:[380,t.maxTreeWidth],unit:"px"},model:{value:t.splitterModel,callback:function(e){t.splitterModel=e},expression:"splitterModel"}},[!1===t.hideTree?a("div",{class:t.$style["treeWrapper-"+t.layout.key],attrs:{slot:"before"},slot:"before"},[a("folders-tree")],1):t._e(),a("div",{class:t.$style["filesWrapper-"+t.layout.key],attrs:{slot:"after","data-file-path":t.path},on:{click:function(e){t.showDetachedTree=!1},contextmenu:function(e){t.showDetachedTree=!1}},slot:"after"},[t._t("default",null,null,{toggleSearchDialog:t.toggleSearchDialog}),a("context-menu"),t.detachTree&&t.showTree?a("q-menu",{attrs:{"content-class":t.$style.detachedTree,anchor:"top left",seft:"top left",target:"div[class^=Desktop_filesWrapper]","no-parent-event":"",persistent:""},model:{value:t.showDetachedTree,callback:function(e){t.showDetachedTree=e},expression:"showDetachedTree"}},[a("folders-tree")],1):t._e()],2)]),t.detachTree&&t.showTree?a("q-page-sticky",{attrs:{position:"top-left",offset:[t.showDetachedTree?460:10,20]}},[a("q-btn",{attrs:{"fab-mini":"",color:"secondary",padding:"xs",icon:t.showDetachedTree?"chevron_left":"chevron_right"},on:{click:function(e){t.showDetachedTree=!t.showDetachedTree}}},[a("ui-tooltip",[a("span",{staticClass:"text-no-wrap"},[t._v("\n              "+t._s(t.showDetachedTree?t.$gettext("Hide folders tree"):t.$gettext("Show folders tree"))+"\n            ")])])],1)],1):t._e()],1)],1),t.showOptions?a("options-drawer",{on:{close:function(e){t.showOptions=!1}}}):t._e(),a("q-dialog",{attrs:{position:"top","full-width":""},model:{value:t.showSearch,callback:function(e){t.showSearch=e},expression:"showSearch"}},[a("app-search",{attrs:{wide:""}})],1)],1)}),p=[],d=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),u=a.n(d),m=a("2f62"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-drawer",{attrs:{value:!0,side:"left",mini:"","mini-width":80}},[a("aside",{class:t.$style.drawer},[a("q-list",[a("q-item",{class:t.$style.item,attrs:{to:{name:"files",query:{path:"/"}}}},[a("q-item-section",{attrs:{avatar:""}},[a("img",{attrs:{src:t.logoUrl,alt:"DirectAdmin",width:"32px"}})])],1),a("q-item",{staticClass:"q-mt-lg",class:t.$style.item,attrs:{clickable:""},on:{click:function(e){return t.$root.$dialogs.createFolder()}}},[a("q-item-section",{attrs:{avatar:""}},[a("svg-icon",{attrs:{name:"create-directory",size:"30px",color:"white"}})],1),a("ui-tooltip",{attrs:{anchor:"center right",self:"center left"}},[a("translate",[t._v("Create new folder")])],1)],1),a("q-item",{class:t.$style.item,attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("svg-icon",{attrs:{name:"create-text-file",size:"30px",color:"white"}})],1),a("ui-tooltip",{attrs:{anchor:"center right",self:"center left"}},[a("translate",[t._v("Create text file")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"chevron_right",color:"white"}})],1),a("q-menu",{attrs:{anchor:"top right",self:"top left","content-class":t.$style.contextMenu}},[a("q-list",[a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("New File","txt")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Plain Text")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("script","js")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("JavaScript")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("style","css")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("CSS")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("index","php")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("PHP")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("readme","md")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Markdown")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile()}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Other...")])],1)],1)],1)],1)],1)],1),a("q-item",{class:t.$style.item,attrs:{clickable:""},on:{click:t.upload}},[a("q-item-section",{attrs:{avatar:""}},[a("svg-icon",{attrs:{name:"upload-files",size:"30px",color:"white"}})],1),a("ui-tooltip",{attrs:{anchor:"center right",self:"center left"}},[a("translate",[t._v("Upload files")])],1)],1)],1),a("q-space"),a("q-list",[a("q-item",{class:t.$style.item,attrs:{clickable:""},on:{click:function(e){return t.$emit("update:showOptions",!t.showOptions)}}},[a("q-item-section",{attrs:{avatar:""}},[a("svg-icon",{attrs:{name:"settings",size:"30px",color:"white"}})],1),a("ui-tooltip",{attrs:{anchor:"center right",self:"center left"}},[a("translate",[t._v("Show settings")])],1)],1),a("q-separator",{attrs:{dark:""}}),a("q-item",{class:t.$style.item,attrs:{clickable:""},on:{click:t.logout}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"logout",size:"24px",color:"white"}})],1),a("ui-tooltip",{attrs:{anchor:"center right",self:"center left"}},[a("translate",[t._v("Logout")])],1)],1)],1)],1)])},f=[],b={name:"ToolbarVertical",props:{showOptions:{type:Boolean,required:!0,default:!1}},data:function(){return{showSearch:!1}},computed:{logoUrl:function(){var t=Date.now();return"/IMG_SYMBOL?cache-busting=".concat(t)}},methods:{createFile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$root.$dialogs.createFile({name:t,extension:e})},upload:function(){return this.$root.$dialogs.upload({url:"/CMD_FILE_MANAGER?json=yes",formFields:[{name:"action",value:"upload"},{name:"json",value:"yes"},{name:"path",value:this.$store.state.root.path}],fieldName:"file0",multiple:!0,maxFileSize:this.$store.state.files.settings.maxFileSize})},logout:function(){window.location.href="/CMD_LOGOUT"}}},g=b,v=a("bcb1"),y=a("2877"),q=a("9404"),x=a("1c1c"),w=a("66e5"),_=a("4074"),O=a("0016"),k=a("4e73"),z=a("0170"),$=a("2c91"),S=a("eb85"),C=a("b498"),P=a("eebe"),j=a.n(P);function D(t){this["$style"]=v["default"].locals||v["default"]}var T=Object(y["a"])(g,h,f,!1,D,null,null),Q=T.exports;j()(T,"components",{QDrawer:q["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QIcon:O["a"],QMenu:k["a"],QItemLabel:z["a"],QSpace:$["a"],QSeparator:S["a"],QColor:C["a"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-toolbar",{class:t.$style.toolbar,attrs:{elevated:""}},[a("img",{class:t.$style.logo,attrs:{src:t.logoUrl,alt:"DirectAdmin"}}),a("q-btn",{staticClass:"q-ml-lg",staticStyle:{"margin-left":"64px"},attrs:{flat:"",stretch:""},on:{click:function(e){return t.$root.$dialogs.createFolder()}}},[a("svg-icon",{attrs:{name:"create-directory",size:"30px",color:"white"}}),a("ui-tooltip",[t._v("Create new folder")])],1),a("q-separator",{attrs:{vertical:"",dark:""}}),a("q-btn",{attrs:{flat:"",stretch:""}},[a("svg-icon",{attrs:{name:"create-text-file",size:"30px",color:"white"}}),a("ui-tooltip",[a("translate",[t._v("Create text file")])],1),a("q-menu",{attrs:{"content-class":t.$style.menu}},[a("q-list",[a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("New File","txt")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Plain Text")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("script","js")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("JavaScript")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("style","css")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("CSS")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("index","php")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("PHP")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile("readme","md")}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Markdown")])],1)],1)],1),a("q-item",{attrs:{clickable:""},on:{click:function(e){return t.createFile()}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Other...")])],1)],1)],1)],1)],1)],1),a("q-separator",{attrs:{vertical:"",dark:""}}),a("q-btn",{attrs:{flat:"",stretch:""},on:{click:t.upload}},[a("svg-icon",{attrs:{name:"upload-files",size:"30px",color:"white"}}),a("ui-tooltip",[a("translate",[t._v("Upload files")])],1)],1),a("q-space"),a("q-btn",{attrs:{flat:"",stretch:"",disabled:t.showOptions},on:{click:function(e){return t.$emit("update:showOptions",!0)}}},[a("svg-icon",{attrs:{name:"settings",size:"30px",color:"white"}}),!1===t.showOptions?a("ui-tooltip",[a("translate",[t._v("Show Settings")])],1):t._e()],1),a("q-separator",{attrs:{vertical:"",dark:""}}),a("q-btn",{attrs:{flat:"",stretch:""},on:{click:t.logout}},[a("q-icon",{attrs:{name:"logout",size:"24px",color:"white"}}),a("ui-tooltip",[a("translate",[t._v("Logout")])],1)],1)],1)},E=[],L={name:"ToolbarHorizontal",extends:Q,computed:{logoUrl:function(){var t=Date.now();return"/IMG_LOGO2?cache-busting=".concat(t)}}},A=L,F=a("5d70"),N=a("65c6"),R=a("9c40");function M(t){this["$style"]=F["default"].locals||F["default"]}var B=Object(y["a"])(A,I,E,!1,M,null,null),H=B.exports;j()(B,"components",{QToolbar:N["a"],QBtn:R["a"],QSeparator:S["a"],QMenu:k["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QSpace:$["a"],QIcon:O["a"]});var K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("quick-navigation"),a("ui-scroll-area",{staticStyle:{"margin-top":"6px"},attrs:{height:t.scrollHeight}},[a("q-tree",{key:"tree-folders-"+t.sortBy,ref:"tree",staticClass:"tree-scroll folders-tree",attrs:{nodes:t.visibleNodes,"node-key":"path","label-key":"name","no-connectors":"",selected:t.path,expanded:t.expanded,accordion:""},on:{"update:expanded":function(e){t.expanded=e},"lazy-load":t.lazyLoad},scopedSlots:t._u([{key:"default-header",fn:function(e){var s=e.node;return["/.trash"===s.path?a("div",{staticClass:"width-100% row no-wrap items-center col"},[a("router-link",{staticClass:"folder-tree-list-item col row no-wrap items-center fit text-weight-medium q-hoverable cursor-pointer trash-tree-list-item trash-bin",class:{"text-primary":"trash"===t.$route.name},attrs:{to:{name:"files",query:{path:"/.trash"}}}},[a("svg-icon",{attrs:{name:"trash-empty",size:t.iconSize+"px",left:"",color:"primary",original:""}}),a("translate",{staticClass:"text-no-wrap text-weight-medium montserrat text-content"},[t._v("\n              Trash Bin\n            ")])],1),a("q-btn",{attrs:{size:"sm",flat:"",round:"",color:"negative",icon:"delete_forever"},on:{click:t.clearTrash}},[a("ui-tooltip",[a("translate",[t._v("Clear Trash Bin")])],1)],1)],1):"/"===s.path?a("router-link",{staticClass:"folder-tree-list-item row no-wrap items-center fit text-weight-medium text-primary",attrs:{"data-path":s.path,to:{name:"files",query:{path:"/"}},"data-file-path":"/","data-upload-path":"/"}},[a("svg-icon",{attrs:{name:"directory-open",size:t.iconSize+"px",left:"",original:""}}),a("translate",{staticClass:"text-no-wrap"},[t._v("My Files")]),a("q-space"),a("q-btn",{staticClass:"q-mr-md",attrs:{flat:"",round:"",size:"xs"}},[a("q-icon",{attrs:{name:"settings",color:"muted",size:"xs"}}),a("q-menu",{attrs:{"content-class":t.$style.menu,anchor:"bottom right",self:"center middle"}},[a("q-list",{class:t.$style.list,attrs:{clickable:""}},[a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{color:"muted",name:"palette"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary text-weight-medium"},[a("translate",[t._v("View")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"chevron_right",color:"muted"}})],1),a("q-menu",{attrs:{anchor:"top right",self:"top left",offset:[4,0],"content-class":t.$style.menu,"content-style":"min-width: 250px;"}},[a("q-list",[a("q-item-label",{staticClass:"text-table-header text-size-secondary text-weight-medium q-ml-sm",attrs:{header:""}},[a("translate",[t._v("Icon Size")])],1),t._l(t.iconSizeLabels,(function(e,s){return a("q-item",{key:e,attrs:{clickable:"",tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:Number(s),color:t.iconSize===Number(s)?"secondary":"muted",size:"sm"},model:{value:t.iconSize,callback:function(e){t.iconSize=e},expression:"iconSize"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:t.iconSize===Number(s)?"text-secondary":"text-content",domProps:{textContent:t._s(e)}})],1)],1)})),a("q-separator",{attrs:{spaced:"",color:"muted"}}),a("q-item",{attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-checkbox",{attrs:{color:t.showInfo?"secondary":"muted",size:"sm"},model:{value:t.showInfo,callback:function(e){t.showInfo=e},expression:"showInfo"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:t.showInfo?"text-secondary":"text-content"},[a("translate",[t._v("Show Additional Info")])],1)],1)],1)],2)],1)],1),a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"sort",color:"muted"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary text-weight-medium"},[a("translate",[t._v("Sort")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"chevron_right",color:"muted"}})],1),a("q-menu",{attrs:{anchor:"top right",self:"top left",offset:[4,0],"content-class":t.$style.menu,"content-style":"min-width: 250px;"}},[a("q-list",[a("q-item-label",{staticClass:"text-table-header text-size-secondary text-weight-medium q-ml-sm",attrs:{header:""}},[a("translate",[t._v("By")])],1),a("q-item",{attrs:{clickable:"",tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"children",size:"xs",color:"children"===t.sortBy?"secondary":"muted"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}})],1),a("q-item-section",{staticClass:"text-size-primary text-weight-medium",class:"children"===t.sortBy?"text-secondary":"text-content"},[a("translate",[t._v("\n                            Children Count\n                          ")])],1)],1),a("q-item",{attrs:{clickable:"",tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"name",size:"xs",color:"name"===t.sortBy?"secondary":"muted"},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}})],1),a("q-item-section",{staticClass:"text-size-primary text-weight-medium",class:"name"===t.sortBy?"text-secondary":"text-content"},[a("translate",[t._v("\n                            Name\n                          ")])],1)],1),a("q-separator",{attrs:{spaced:""}}),a("q-item-label",{staticClass:"text-table-header text-size-secondary text-weight-medium q-ml-sm",attrs:{header:""}},[a("translate",[t._v("Order")])],1),a("q-item",{attrs:{clickable:"",tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"asc",size:"xs",color:"asc"===t.sortOrder?"secondary":"muted"},model:{value:t.sortOrder,callback:function(e){t.sortOrder=e},expression:"sortOrder"}})],1),a("q-item-section",{staticClass:"text-size-primary text-weight-medium",class:"asc"===t.sortOrder?"text-secondary":"text-content"},[a("translate",[t._v("\n                            Ascending\n                          ")])],1)],1),a("q-item",{attrs:{clickable:"",tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"desc",size:"xs",color:"desc"===t.sortOrder?"secondary":"muted"},model:{value:t.sortOrder,callback:function(e){t.sortOrder=e},expression:"sortOrder"}})],1),a("q-item-section",{staticClass:"text-size-primary text-weight-medium",class:"desc"===t.sortOrder?"text-secondary":"text-content"},[a("translate",[t._v("\n                            Descending\n                          ")])],1)],1)],1)],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.detachTree=!t.detachTree}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"close_fullscreen",color:"muted"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-weight-medium text-size-primary"},[t._v("\n                      "+t._s(t.detachTree?t.$gettext("Attach"):t.$gettext("Detach"))+"\n                    ")])],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){t.showTree=!1}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"close",color:"muted"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-weight-medium text-size-primary"},[a("translate",[t._v("Hide")])],1)],1)],1)],1)],1)],1)],1):a("router-link",{staticClass:"folder-tree-list-item row no-wrap items-center fit",attrs:{"data-path":s.path,to:{name:"files",query:{path:s.linkpath||s.path}},"data-file-path":s.path,"data-upload-path":s.linkpath||s.path}},[a("div",{staticClass:"relative-position q-mr-sm"},[a("svg-icon",{attrs:{name:t.getIcon(s),size:t.iconSize+"px",original:""}}),s.linkpath?a("q-icon",{staticClass:"absolute-bottom-right",attrs:{name:"reply",color:"content",size:"xs"}}):t._e()],1),s.linkpath?a("ui-tooltip",[a("translate",{attrs:{"translate-params":{path:s.linkpath}}},[t._v("\n              Link to: %{ path }\n            ")])],1):t._e(),a("div",{staticClass:"column"},[a("span",{staticClass:"text-no-wrap text-weight-medium",class:t.path===s.path?"text-primary":"text-content",domProps:{textContent:t._s(s.name)}}),t.showInfo&&(s.size||s.dirs||s.files)?a("span",{staticClass:"text-no-wrap text-caption text-muted montserrat"},[s.size?a("span",[t._v("\n                "+t._s(t.toReadableSize(s.size))+"\n              ")]):t._e(),s.size&&(s.dirs||s.files)?a("span",[t._v(", ")]):t._e(),s.dirs?a("translate",{attrs:{"translate-params":{n:s.dirs},"translate-n":s.dirs,"translate-plural":"%{n} folders"}},[t._v("\n                %{n} folder\n              ")]):t._e(),s.files&&s.dirs?[t._v(", ")]:t._e(),s.files?a("translate",{attrs:{"translate-params":{n:s.files},"translate-n":s.files,"translate-plural":"%{n} files"}},[t._v("\n                %{n} file\n              ")]):t._e()],2):t._e()]),a("q-menu",{attrs:{"context-menu":"","content-class":t.$style.menu}},[a("q-list",{class:t.$style.list},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-content text-size-primary",attrs:{clickable:""},on:{click:function(e){return t.$root.$dialogs.createFolder({path:s.path})}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("New sub-folder")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-content text-size-primary",attrs:{clickable:""},on:{click:function(e){return t.compressDownload(s)}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Download")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-content text-size-primary text-weight-medium",attrs:{clickable:"",to:{name:"files",query:{path:s.path}},target:"_blank"}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Open in new tab")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-content text-size-primary",attrs:{clickable:""},on:{click:function(e){return t.$root.$dialogs.copymove({select:[s.path],path:s.parent})}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Copy/Move")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-content text-size-primary",attrs:{clickable:""},on:{click:function(e){return t.$root.$dialogs.rename({path:s.parent,name:s.name,directory:!0})}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Rename")])],1)],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"text-content text-size-primary",attrs:{clickable:""},on:{click:function(e){return t.$root.$dialogs.removeFromTree({node:s})}}},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Remove")])],1)],1)],1)],1)],1)],1)]}}])})],1)],1)},U=[],W=(a("28a5"),a("f751"),a("7514"),a("868f")),G=a("28c9"),V=a("0278"),J=a("b0db"),X=a("53f6"),Y=a("08a9"),Z=a("61f3"),tt=a("c4e2"),et=a("6433"),at=a("c800"),st=a("b518"),it=a("bc1e"),nt=a("505f"),rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{autocomplete:"off"}},[a("q-input",{ref:"input",class:t.$style.input,attrs:{dense:"",borderless:"",value:t.path,loading:t.loading},on:{input:t.onInput,keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"tab",9,e.key,"Tab")?null:(e.stopPropagation(),e.preventDefault(),t.onTab(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.navigateToPath(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.stopPropagation(),e.preventDefault(),t.onDown(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.stopPropagation(),e.preventDefault(),t.onUp(e))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:(e.stopPropagation(),e.preventDefault(),t.onEsc(e))}]},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-btn",{attrs:{flat:"",icon:"subdirectory_arrow_right",color:"content",round:"",size:"sm"},on:{click:t.navigateToPath}},[a("ui-tooltip",{attrs:{anchor:"center right",self:"center left",color:"grey-7"}},[a("q-item",[a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium"},[t._v("Quick Navigation (Ctrl + Q)")]),a("q-item-label",{staticClass:"text-grey-5",attrs:{caption:""}},[a("translate",[t._v("Tab for suggestion, Enter to change current path")])],1)],1)],1)],1)],1)]},proxy:!0}])},[a("q-menu",{ref:"dropdown",attrs:{fit:"","no-focus":"",offset:[0,4],"content-class":"shadow-1"}},[a("q-list",{directives:[{name:"show",rawName:"v-show",value:t.folders.length,expression:"folders.length"}],ref:"dropdownItems",attrs:{dense:"",bordered:"",separator:""}},t._l(t.folders,(function(e,s){var i;return a("q-item",{key:e,class:(i={},i[t.$style.selectedItem]=s===t.selected,i),attrs:{clickable:"",to:{name:"files",query:{path:e}},"data-folder":e}},[a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-content row items-center"},[a("svg-icon",{attrs:{name:"directory",size:"16px",color:"primary",left:""}}),t._v("\n            "+t._s(e)+"\n            ")],1)],1)],1)})),1)],1)],1)],1)},ot=[],lt=(a("a481"),a("cfc8")),ct=a("66e1"),pt=a("0f97"),dt=a("67b3");function ut(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function mt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ut(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var ht=function(t){return"/"+t.slice(1).split("/").slice(0,-1).join("/")},ft={name:"QuickNavigation",data:function(){return{path:"",selected:null,loaded:[],loading:!1}},computed:mt({},Object(m["e"])("tree",{folders:function(t){var e=this,a=ht(this.path),s=G["a"](lt["a"]([function(t){return t.parent===a},function(t){return t.path.startsWith(e.path)},function(t){return t.path!==e.path}]));return W["a"](s,ct["a"],pt["a"]([tt["a"](dt["a"]),tt["a"]((function(t){return t}))]))(t.folders)}})),watch:{path:function(){this.selected=null}},mounted:function(){document.addEventListener("keyup",this.hotkeyHandler)},beforeDestroy:function(){document.removeEventListener("keyup",this.hotkeyHandler)},methods:{hotkeyHandler:function(t){if("q"===t.key&&t.ctrlKey)return this.$refs.input.focus(),t.stopPropagation(),void t.preventDefault()},onInput:function(t){""!==t?("/"!==t[0]&&(t="/"+t),this.$refs.dropdown&&this.$refs.dropdown.show(),this.setModel(t)):this.setModel(t)},loadDir:function(t){var e=this;return l()(r.a.mark((function a(){return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.loaded.includes(t)){a.next=2;break}return a.abrupt("return");case 2:return e.loaded.push(t),e.loading=!0,a.next=6,e.$store.dispatch("tree/LOAD_TREE",t);case 6:e.loading=!1;case 7:case"end":return a.stop()}}),a)})))()},setModel:function(t){if(this.folders.includes(t))this.loadDir(t);else{var e=ht(t);this.loadDir(e)}this.path=t},onTab:function(t){var e=this.folders;if(t.preventDefault(),t.stopPropagation(),0!==e.length)if(this.selected)this.setModel(this.folders[this.selected]);else if(1!==e.length){var a=this.path,s=e.shift().replace(a,"").split("");s.forEach((function(t){var s=a+t;e.every((function(t){return t.startsWith(s)}))&&(a=s)})),this.setModel(a)}else this.setModel(e[0])},scrollSelected:function(){if(this.selected&&this.$refs.dropdownItems){var t=this.folders[this.selected],e=this.$refs.dropdownItems.$el.querySelector('[data-folder="'.concat(t,'"]'));e&&(e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded():e.scrollIntoView&&e.scrollIntoView())}},onDown:function(){if(0!==this.folders.length){switch(this.selected){case null:this.selected=0;break;case this.folders.length-1:this.selected=null;break;default:this.selected=this.selected+1;break}this.scrollSelected()}},onUp:function(){if(0!==this.folders.length){switch(this.selected){case null:this.selected=this.folders.length-1;break;case 0:this.selected=null;break;default:this.selected=this.selected-1;break}this.scrollSelected()}},onEsc:function(){this.$refs.dropdown&&this.$refs.dropdown.hide()},navigateToPath:function(){var t=this;return l()(r.a.mark((function e(){var a;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null===t.selected?t.path||"/":t.folders[t.selected],t.setModel(a,!1),a===t.$store.state.root.path){e.next=5;break}return e.next=5,t.$router.push({name:"files",query:{path:a}});case 5:setTimeout(t.onEsc,0);case 6:case"end":return e.stop()}}),e)})))()}}},bt=ft,gt=a("d65b"),vt=a("27f9");function yt(t){this["$style"]=gt["default"].locals||gt["default"]}var qt=Object(y["a"])(bt,rt,ot,!1,yt,null,null),xt=qt.exports;function wt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function _t(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}j()(qt,"components",{QInput:vt["a"],QBtn:R["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QMenu:k["a"],QList:x["a"]});var Ot={components:{QuickNavigation:xt},props:{mobile:{type:Boolean,required:!1,default:!1}},data:function(){return{selected:"",expanded:["/"],sortBy:"name",sortOrder:"asc"}},computed:_t(_t(_t({},Object(it["mapOptions"])({showTree:"tree",iconSize:"tree/icon-size",showInfo:"tree/show-info",detachTree:"tree/detach",layout:"layout"})),Object(m["e"])({path:function(t){return t.root.path},haveTrash:function(t){return t.files.settings.trash},options:function(t){return t.options},folders:function(t){return t.tree.folders}})),{},{scrollHeight:function(){return"calc(100vh - ".concat("v"===this.layout?"66":"126","px)")},nodes:function(){var t=this,e=function e(a,s){var i=W["a"](G["a"](V["a"]("parent",a.path)),J["a"]((function(t){return e(t,s)})),t.sortFunc);if(a.linkpath)return _t({},a);var n=i(s);return n.length?_t(_t({},a),{},{children:n}):_t(_t({},a),{},{lazy:0!==a.dirs})},a=e({path:"/"},X["a"](this.folders)).children||[];return a},sortFunc:function(){var t="name"===this.sortBy?W["a"](Y["a"]("name"),Z["a"]):function(t){return(t.files||0)+(t.dirs||0)},e="asc"===this.sortOrder?tt["a"](t):et["a"](t);return at["a"](e)},needDeepExpand:function(){return"/"!==this.path},iconSizeLabels:function(){return{24:this.$gettext("Extra Small"),32:this.$gettext("Small"),40:this.$gettext("Normal"),48:this.$gettext("Large")}},trashNode:function(){return this.nodes.find(V["a"]("path","/.trash"))},visibleNodes:function(){var t=[{children:G["a"](st["a"](V["a"]("path","/.trash")),this.nodes),name:this.$gettext("My Files"),path:"/",parent:null}],e=this.nodes.find(V["a"]("path","/.trash"));return e&&t.push(Object.assign(e,{name:this.$gettext("Trash Bin"),lazy:!1,children:[]})),t}}),watch:{path:function(t){this.expand(t,!0)}},created:function(){"/"!==this.path&&this.expand(this.path,!0)},methods:_t(_t(_t({clearTrash:nt["a"],toReadableSize:it["toReadableSize"],compressDownload:function(t){this.$root.$dialogs.compressDownloadDialog({file:t})}},Object(m["b"])({loadTree:"tree/LOAD_TREE"})),Object(m["d"])({setOption:"options/SET_OPTION"})),{},{expand:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.expanded.includes(t)&&"/"!==t)if(a){var s=t.split("/").filter(Boolean).map((function(t,e,a){return a.slice(0,e+1).join("/")})).map((function(t){return"/".concat(t)}));s.forEach((function(t){return e.expanded.push(t)}))}else try{this.$refs.tree.setExpanded(t,!0)}catch(i){}},getIcon:function(t){return this.expanded.includes(t.path)?"directory-open":"directory"},lazyLoad:function(t){var e=this;return l()(r.a.mark((function a(){var s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.key,i=t.done,a.next=3,e.loadTree(s);case 3:i(),e.$nextTick((function(){e.expand(s)}));case 5:case"end":return a.stop()}}),a)})))()}})},kt=Ot,zt=(a("7f16"),a("22b1")),$t=a("7f41"),St=a("3786"),Ct=a("8f8e"),Pt=a("7f67");function jt(t){this["$style"]=zt["default"].locals||zt["default"]}var Dt=Object(y["a"])(kt,K,U,!1,jt,null,null),Tt=Dt.exports;j()(Dt,"components",{QTree:$t["a"],QBtn:R["a"],QSpace:$["a"],QIcon:O["a"],QMenu:k["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QRadio:St["a"],QSeparator:S["a"],QCheckbox:Ct["a"],QColor:C["a"]}),j()(Dt,"directives",{ClosePopup:Pt["a"]});var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-drawer",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{width:450,breakpoint:500,side:"right",overlay:"",bordered:"",value:"",elevated:"","content-style":{background:"var(--options-bg)"}}},[a("q-scroll-area",{staticClass:"fit"},[a("q-list",[a("q-toolbar",{staticClass:"row q-px-lg q-py-md items-center"},[a("translate",{staticClass:"text-content text-size-secondary text-weight-medium"},[t._v("Preferences")]),a("q-space"),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{size:"sm",flat:"",round:"",icon:"close"},on:{click:function(e){return t.$emit("close")}}})],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-lg",attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary"},[a("translate",[t._v("Preferred Archive Type")])],1),a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[a("translate",[t._v("\n              Will be used for fast compression and downloads\n            ")])],1)],1),a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",{staticClass:"text-weight-medium q-pa-sm text-size-secondary text-content"},[t._v("\n            "+t._s(t.archiveType)+"\n          ")])],1),a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-secondary"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"zip",size:"sm"},model:{value:t.archiveType,callback:function(e){t.archiveType=e},expression:"archiveType"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-disabled text-size-primary"},[t._v("\n                  zip\n                ")])],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"tar.gz",size:"sm"},model:{value:t.archiveType,callback:function(e){t.archiveType=e},expression:"archiveType"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-disabled text-size-primary"},[t._v("\n                  tar.gz\n                ")])],1)],1)],1)],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-lg",attrs:{tag:"label"}},[a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary"},[a("translate",[t._v("Folder Sizes")])],1),a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[t._v("\n            "+t._s(t.$gettext("Request and display folder sizes; noticeably increases data loading time when enabled."))+"\n          ")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{color:"secondary"},model:{value:t.diskUsage,callback:function(e){t.diskUsage=e},expression:"diskUsage"}})],1)],1),a("q-separator"),a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium q-px-lg q-py-md",attrs:{header:""}},[a("translate",[t._v("View Options")])],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-lg",attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary"},[a("translate",[t._v("\n              Layout\n            ")])],1),a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[a("translate",[t._v("Toolbar placement")])],1)],1),a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",{staticClass:"text-weight-medium q-pa-sm text-size-secondary text-content"},[t._v("\n            "+t._s("v"===t.layout?t.$gettext("Vertical"):t.$gettext("Horizontal"))+"\n          ")])],1),a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-secondary"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"h",size:"sm"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary"},[a("translate",[t._v("Horizontal")])],1)],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"v",size:"sm"},model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary"},[a("translate",[t._v("Vertical")])],1)],1)],1)],1)],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-lg",attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary"},[a("translate",[t._v("\n              Show files as...\n            ")])],1),a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[a("translate",[t._v("Choose one of possible container modes")])],1)],1),a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",{staticClass:"text-weight-medium q-pa-sm text-size-secondary text-content"},[t._v("\n            "+t._s("grid"===t.filesContainer?t.$gettext("Grid"):t.$gettext("Table"))+"\n          ")])],1),a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-secondary"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"grid",size:"sm"},model:{value:t.filesContainer,callback:function(e){t.filesContainer=e},expression:"filesContainer"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary"},[a("translate",[t._v("Grid")])],1)],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"table",size:"sm"},model:{value:t.filesContainer,callback:function(e){t.filesContainer=e},expression:"filesContainer"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary"},[a("translate",[t._v("Table")])],1)],1)],1)],1)],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-lg",attrs:{tag:"label"}},[a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary"},[a("translate",[t._v("Folders Tree")])],1),a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[t._v("\n            "+t._s(t.$gettext("Show folders tree for faster navigation."))+"\n          ")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-toggle",{attrs:{color:"secondary"},model:{value:t.showTree,callback:function(e){t.showTree=e},expression:"showTree"}})],1)],1),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"q-pa-lg",attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary"},[a("translate",[t._v("\n              Language\n            ")])],1),a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[t._v("\n            "+t._s(t.$gettext("Customize application language"))+"\n          ")])],1),a("q-item-section",{attrs:{avatar:""}},[a("q-item-label",{staticClass:"text-weight-medium q-pa-sm text-size-secondary text-content"},[t._v("\n            "+t._s(t.language.label)+"\n          ")])],1),a("q-menu",{attrs:{fit:""}},[a("q-list",{staticClass:"text-secondary"},t._l(t.languages,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.value,attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:e,size:"sm"},model:{value:t.language,callback:function(e){t.language=e},expression:"language"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-primary"},[t._v("\n                  "+t._s(e.label)+"\n                ")])],1)],1)})),1)],1)],1)],1)],1)],1)},It=[],Et=a("f3e3"),Lt=a.n(Et);a("ffc1");function At(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ft(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?At(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Nt={computed:Ft(Ft(Ft({},Object(m["e"])("lang",{languages:function(t){return Object.entries(t.list).map((function(e){var a=Lt()(e,2),s=a[0],i=a[1];return{label:i,value:s,disabled:s===t.current}}))}})),Object(m["e"])("options",{options:function(t){return t}})),{},{showLanguageSelect:function(){return this.$store.getters["lang/count"]>1},language:{get:function(){var t=this;return this.languages.find((function(e){var a=e.value;return a===t.$store.state.lang.current}))},set:function(t){var e=t.value;return this.$store.dispatch("lang/SET",e)}},archiveType:{get:function(){return this.options["archive-type"]},set:function(t){return this.setOption("archive-type",t)}},diskUsage:{get:function(){return this.options["disk-usage"]},set:function(t){this.setOption("disk-usage",t),this.$store.dispatch("files/LOAD_DIR"),this.$store.dispatch("tree/LOAD_TREE",this.$store.state.root.path)}},filesContainer:{get:function(){return this.options["files-container"]},set:function(t){this.setOption("files-container",t)}},showTree:{get:function(){return this.options["tree"]},set:function(t){this.setOption("tree",t)}},drawerMini:{get:function(){return this.options["drawer/mini"]},set:function(t){this.setOption("drawer/mini",t)}},layout:{get:function(){return this.options.layout},set:function(t){this.setOption("layout",t)}}}),methods:{setOption:function(t,e){this.$store.commit("options/SET_OPTION",{key:t,value:e})}}},Rt=Nt,Mt=a("4983"),Bt=a("9564"),Ht=a("714f"),Kt=Object(y["a"])(Rt,Qt,It,!1,null,null,null),Ut=Kt.exports;j()(Kt,"components",{QDrawer:q["a"],QScrollArea:Mt["a"],QList:x["a"],QToolbar:N["a"],QSpace:$["a"],QBtn:R["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QMenu:k["a"],QRadio:St["a"],QToggle:Bt["a"],QSeparator:S["a"]}),j()(Kt,"directives",{ClosePopup:Pt["a"],Ripple:Ht["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-menu",{attrs:{"context-menu":"","touch-position":"","content-class":t.$style.contextMenu}},[a("q-list",[a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{left:"",name:"settings",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium"},[a("translate",[t._v("View")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"chevron_right",color:"muted"}})],1),a("q-menu",{attrs:{anchor:"top right",self:"top left","content-class":t.$style.contextMenu,offset:[4,0]}},[a("q-list",[a("q-item-label",{staticClass:"text-table-header text-size-secondary",attrs:{header:""}},[a("translate",[t._v("Icon Size")])],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:16,size:"sm"},model:{value:t.iconSize,callback:function(e){t.iconSize=e},expression:"iconSize"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:16===t.iconSize?"text-secondary":"text-content"},[a("translate",[t._v("Tiny icons")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:32,size:"sm"},model:{value:t.iconSize,callback:function(e){t.iconSize=e},expression:"iconSize"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:32===t.iconSize?"text-secondary":"text-content"},[a("translate",[t._v("Small icons")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:48,size:"sm"},model:{value:t.iconSize,callback:function(e){t.iconSize=e},expression:"iconSize"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:48===t.iconSize?"text-secondary":"text-content"},[a("translate",[t._v("Normal icons")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:64,size:"sm"},model:{value:t.iconSize,callback:function(e){t.iconSize=e},expression:"iconSize"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:64===t.iconSize?"text-secondary":"text-content"},[a("translate",[t._v("Large icons")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:80,size:"sm"},model:{value:t.iconSize,callback:function(e){t.iconSize=e},expression:"iconSize"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium",class:80===t.iconSize?"text-secondary":"text-content"},[a("translate",[t._v("Huge icons")])],1)],1)],1),a("q-separator",{attrs:{spaced:"",color:"muted"}}),a("q-item-label",{staticClass:"text-table-header text-size-secondary",attrs:{header:""}},[a("translate",[t._v("View As...")])],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"grid",size:"sm"},model:{value:t.container,callback:function(e){t.container=e},expression:"container"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium text-content"},[a("translate",[t._v("Grid")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{side:""}},[a("q-radio",{attrs:{val:"table",size:"sm"},model:{value:t.container,callback:function(e){t.container=e},expression:"container"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-primary text-weight-medium text-content"},[a("translate",[t._v("Table")])],1)],1)],1)],1)],1)],1),a("q-item",{attrs:{clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{left:"",name:"sort",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium"},[a("translate",[t._v("Sort")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"chevron_right",color:"muted",size:"sm"}})],1),a("q-menu",{attrs:{anchor:"top right",self:"top left","content-class":t.$style.contextMenu,offset:[4,0]}},[a("q-list",[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{value:t.sort.column,val:"name",color:"secondary",size:"sm"},on:{input:function(e){return t.setSortColumn("name")}}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium",class:"name"===t.sort.column?"text-secondary":"text-content"},[a("translate",[t._v("Name")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{value:t.sort.column,val:"size",color:"secondary",size:"sm"},on:{input:function(e){return t.setSortColumn("size")}}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium",class:"size"===t.sort.column?"text-secondary":"text-content"},[a("translate",[t._v("Size")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{value:t.sort.column,val:"date",color:"secondary",size:"sm"},on:{input:function(e){return t.setSortColumn("date")}}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium",class:"date"===t.sort.column?"text-secondary":"text-content"},[a("translate",[t._v("Date")])],1)],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{value:t.sort.order,val:"asc",color:"secondary",size:"sm"},on:{input:function(e){return t.setSortOrder("asc")}}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium",class:"asc"===t.sort.order?"text-secondary":"text-content"},[a("translate",[t._v("Ascending")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{tag:"label",clickable:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"desc",color:"secondary",size:"sm"},on:{input:function(e){return t.setSortOrder("desc")}},model:{value:t.sort.order,callback:function(e){t.$set(t.sort,"order",e)},expression:"sort.order"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium",class:"desc"===t.sort.order?"text-secondary":"text-content"},[a("translate",[t._v("Descending")])],1)],1)],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.clearSort}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:"clear_all",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium text-content"},[a("translate",[t._v("Clear Sorting")])],1)],1)],1)],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.$store.dispatch("files/LOAD_DIR")}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{left:"",name:"refresh",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium"},[a("translate",[t._v("Reload")])],1)],1)],1),a("q-separator",{attrs:{color:"muted"}}),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.$root.$dialogs.createFolder()}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{left:"",name:"create_new_folder",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium"},[a("translate",[t._v("Create Folder")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(e){return t.createFile()}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{left:"",name:"note_add",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium"},[a("translate",[t._v("Create File")])],1)],1)],1),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:t.upload}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{left:"",name:"upload_file",color:"muted",size:"sm"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-content text-size-secondary text-weight-medium"},[a("translate",[t._v("Upload Files")])],1)],1)],1)],1)],1)},Gt=[];function Vt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Jt(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Xt={computed:Jt(Jt({},Object(it["mapOptions"])({iconSize:"grid/icon-size",container:"files-container"})),Object(m["e"])("files",{sort:"sort"})),methods:Jt(Jt({createFile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$root.$dialogs.createFile({name:t,extension:e})},upload:function(){return this.$root.$dialogs.upload({url:"/CMD_FILE_MANAGER?json=yes",formFields:[{name:"action",value:"upload"},{name:"json",value:"yes"},{name:"path",value:this.$store.state.root.path}],fieldName:"file0",multiple:!0,maxFileSize:this.$store.state.files.settings.maxFileSize})}},Object(m["b"])({setSort:"files/SORT"})),{},{setSortColumn:function(t){this.setSort({sortBy:t,descending:"desc"===this.sort.order})},setSortOrder:function(t){this.setSort({sortBy:this.sort.column,descending:"desc"===t})},clearSort:function(){this.setSort({sortBy:null})}})},Yt=Xt,Zt=a("2fa0");function te(t){this["$style"]=Zt["default"].locals||Zt["default"]}var ee=Object(y["a"])(Yt,Wt,Gt,!1,te,null,null),ae=ee.exports;j()(ee,"components",{QMenu:k["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QIcon:O["a"],QItemLabel:z["a"],QRadio:St["a"],QSeparator:S["a"]}),j()(ee,"directives",{ClosePopup:Pt["a"]});var se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"relative-position"},[a("q-input",t._b({ref:"input",class:t.wide?t.$style.wideInput:t.$style.input,attrs:{placeholder:t.$gettext("Search criteria in here…"),loading:t.loading,outlined:"",clearable:"",autofocus:"",debounce:"500"},on:{input:t.doSearch,clear:t.clear,focus:function(e){return t.doSearch()}},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},"q-input",t.$attrs,!1),[a("q-icon",{attrs:{slot:"prepend",name:"search",color:"primary",size:"24px"},slot:"prepend"}),a("q-btn",{attrs:{slot:"append",flat:"",round:"",dense:""},on:{click:function(e){t.showOptions=!t.showOptions,t.showFiles=!1}},slot:"append"},[a("svg-icon",{attrs:{name:"search-options",size:"24px",original:""}}),a("q-menu",{attrs:{target:t.$refs.input,fit:"","no-parent-event":"","content-class":t.$style.dropdown,offset:[0,5],"no-focus":"","transition-show":"jump-down","transition-hide":"jump-up"},model:{value:t.showOptions,callback:function(e){t.showOptions=e},expression:"showOptions"}},[a("q-list",[a("q-item-label",{staticClass:"text-size-secondary text-content text-weight-medium",attrs:{header:""}},[t._v("Search For")]),a("q-item",{attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"all"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("q-item-section",[a("q-item-label",{class:t.$style.listLabel},[t._v("Files & Folders")])],1)],1),a("q-item",{attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"files"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("q-item-section",[a("q-item-label",{class:t.$style.listLabel},[t._v("Only Files")])],1)],1),a("q-item",{attrs:{tag:"label"}},[a("q-item-section",{attrs:{avatar:""}},[a("q-radio",{attrs:{val:"directories"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("q-item-section",[a("q-item-label",{class:t.$style.listLabel},[t._v("Only Folders")])],1)],1)],1)],1),a("q-menu",{attrs:{target:t.$refs.input,fit:"","no-parent-event":"","content-class":t.$style.dropdown,offset:[0,2],"no-focus":"","transition-show":"jump-down","transition-hide":"jump-up"},model:{value:t.showFiles,callback:function(e){t.showFiles=e},expression:"showFiles"}},[a("q-list",t._l(t.files,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.path,staticClass:"q-py-md q-px-lg",attrs:{clickable:""},on:{click:function(a){return t.openFile(e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("svg-icon",{attrs:{original:"",name:"file"===e.type?"file-type-unknown":"directory",size:"md"}})],1),a("q-item-section",{staticClass:"q-pr-lg"},[a("q-item-label",{staticClass:"text-content text-weight-medium text-size-primary text-no-wrap"},[t._v("\n                  "+t._s(e.name)+"\n                ")]),a("q-item-label",{staticClass:"text-no-wrap text-muted",attrs:{caption:""}},[t._v("\n                  "+t._s(e.parent)+"\n                ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{staticClass:"text-muted",attrs:{caption:""}},[t._v("\n                  "+t._s(t.toReadableSize(e.size))+"\n                ")])],1)],1)})),1)],1)],1)],1)],1)},ie=[],ne=a("4db1"),re=a.n(ne),oe=(a("c5f6"),a("34a4")),le=function(t,e){return Object.entries(e).map((function(e){var a=Lt()(e,2),s=a[0],i=a[1],n=/^(.*)\/(.*)$/.exec(s);return n?{type:t,size:Number(i),path:s,name:n[2]||s,parent:n[1]||"/"}:{type:t,size:Number(i),path:s,name:s,parent:"/"}}))},ce={props:{wide:Boolean},data:function(){return{loading:!1,showOptions:!1,showFiles:!0,path:"/",query:"",files:[],type:"all"}},computed:{inputStyles:function(){return this.showOptions?{"border-bottom-left-radius":0,"border-bottom-right-radius":0,boxShadow:"0 1px 5px rgb(0 0 0 / 20%)"}:{}}},watch:{type:function(){this.doSearch()},query:{handler:function(){var t=this;(this.showOptions||this.showFiles)&&(this.showOptions=!1,this.showFiles=!1,this.$nextTick((function(){t.$refs.input.focus()})))}}},methods:{toReadableSize:it["toReadableSize"],doSearch:function(){var t=arguments,e=this;return l()(r.a.mark((function a(){var s,i;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.length>0&&void 0!==t[0]?t[0]:e.query,!(s&&s.length>=2)){a.next=11;break}return e.loading=!0,a.next=5,Object(oe["a"])({search:s,type:e.type,path:e.path});case 5:i=a.sent,e.files=[].concat(re()(le("directory",i.directories||[])),re()(le("file",i.files||[]))),e.loading=!1,e.showFiles=!0,a.next=13;break;case 11:e.files=[],e.showFiles=!1;case 13:case"end":return a.stop()}}),a)})))()},clear:function(){this.showFiles=!1,this.files=[]},openFile:function(t){this.$setPath(t.parent)}}},pe=ce,de=a("8205"),ue=a("8572");function me(t){this["$style"]=de["default"].locals||de["default"]}var he=Object(y["a"])(pe,se,ie,!1,me,null,null),fe=he.exports;function be(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function ge(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?be(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}j()(he,"components",{QInput:vt["a"],QIcon:O["a"],QBtn:R["a"],QMenu:k["a"],QList:x["a"],QItemLabel:z["a"],QItem:w["a"],QItemSection:_["a"],QRadio:St["a"],QField:ue["a"]}),j()(he,"directives",{Ripple:Ht["a"]});var ve={name:"DesktopLayout",components:{ToolbarHorizontal:H,ToolbarVertical:Q,FoldersTree:Tt,OptionsDrawer:Ut,ContextMenu:ae,AppSearch:fe},data:function(){return{splitterModel:531,showOptions:!1,showDetachedTree:!1,searchCollapsed:!1,showSearch:!1}},computed:ge(ge(ge({},Object(m["e"])("options",{showTree:"tree",detachTree:"tree/detach",layout:function(t){return{key:t.layout,vertical:"v"===t.layout,horizontal:"v"!==t.layout}}})),Object(m["e"])("root",["path","selected"])),{},{hideTree:function(){return!1===this.showTree||this.detachTree},maxTreeWidth:function(){return Math.min(this.$q.screen.width/2,this.$q.screen.width-680)}}),watch:{path:function(){this.showDetachedTree=!1},hideTree:{handler:function(t){this.splitterModel=t?0:531},immediate:!0},detachTree:function(t){this.showDetachedTree=t}},mounted:function(){document.addEventListener("keydown",this.handleShortcuts)},beforeDestroy:function(){document.removeEventListener("keydown",this.handleShortcuts)},methods:{onHeaderResize:function(t){var e=t.width;this.searchCollapsed=e<860},toggleSearchDialog:function(){this.showSearch=!this.showSearch},handleShortcuts:function(t){if("f"===t.key&&t.ctrlKey)return this.toggleSearchDialog(),t.stopPropagation(),void t.preventDefault()}}},ye=ve,qe=a("e783"),xe=a("4d5a"),we=a("7ea5"),_e=a("e359"),Oe=a("3980"),ke=a("09e3"),ze=a("9989"),$e=a("8562"),Se=a("de5e"),Ce=a("24e8");function Pe(t){this["$style"]=qe["default"].locals||qe["default"]}var je=Object(y["a"])(ye,c,p,!1,Pe,null,null),De=je.exports;j()(je,"components",{QLayout:xe["a"],QAjaxBar:we["a"],QHeader:_e["a"],QResizeObserver:Oe["a"],QPageContainer:ke["a"],QPage:ze["a"],QSplitter:$e["a"],QMenu:k["a"],QPageSticky:Se["a"],QBtn:R["a"],QDialog:Ce["a"],QColor:C["a"]});var Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-secondary text-white q-pa-sm",attrs:{reveal:""}},[a("toolbar",{attrs:{host:t.host,"show-options":t.showOptions},on:{"update:showOptions":function(e){t.showOptions=e},"update:show-options":function(e){t.showOptions=e},"update:host":function(e){return t.$emit("update:host",e)}}})],1),a("q-page-container",[a("q-page",{staticClass:"q-mt-sm",staticStyle:{overflow:"hidden"}},[t._t("default"),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,28]}},[a("q-btn",{attrs:{"fab-mini":"",icon:"account_tree",color:"primary",size:"xl"},on:{click:function(e){t.showTree=!0}}})],1),a("q-dialog",{attrs:{seamless:"",value:t.showSelection,position:"bottom"}},[a("selected-block")],1)],2)],1),a("q-drawer",{staticClass:"folders-tree-drawer",attrs:{side:"left",overlay:""},model:{value:t.showTree,callback:function(e){t.showTree=e},expression:"showTree"}},[a("q-toolbar",[a("q-toolbar-title",[a("translate",{staticClass:"text-table-header text-size-secondary text-weight-medium"},[t._v("Folders Tree")])],1),a("q-space"),a("q-btn",{attrs:{flat:"",stretch:"",color:"muted",icon:"close"},on:{click:function(e){t.showTree=!1}}})],1),a("folders-tree",{attrs:{mobile:""}})],1),t.showOptions?a("options-drawer",{on:{close:function(e){t.showOptions=!1}}}):t._e()],1)},Qe=[],Ie=a("750b"),Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-toolbar",[a("router-link",{staticStyle:{height:"40px"},attrs:{to:{name:"files",query:{path:"/"}}}},[a("img",{staticClass:"da-logo",staticStyle:{height:"40px"},attrs:{src:"/IMG_LOGO2",alt:"DirectAdmin logo"}})]),a("q-space"),a("q-btn",{attrs:{flat:"",stretch:"",icon:"search",color:"white"}},[a("q-menu",{attrs:{"content-class":"box-rounded overflow-hidden",anchor:"top left",self:"bottom right",cover:""}},[a("app-search",{attrs:{autofocus:""}})],1)],1),a("q-btn",{attrs:{flat:"",stretch:"",color:"white",icon:"more_vert"}},[a("q-menu",{attrs:{"content-class":"dialog-round","content-style":"min-width: 300px;"}},[a("q-list",[t._l(t.menuItems,(function(e){return[e.separator?a("q-separator",{key:"separator-"+e.icon}):t._e(),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:e.icon,attrs:{clickable:""},on:{click:e.handler}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon,color:"muted"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-no-wrap text-content text-size-secondary text-weight-medium",domProps:{textContent:t._s(e.label)}})],1)],1)]}))],2)],1)],1)],1)},Le=[];function Ae(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Fe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ne={extends:Q,components:{AppSearch:fe},computed:Fe(Fe({},Object(it["mapOptions"])({container:"files-container"})),{},{menuItems:function(){var t=this;return[{icon:"create_new_folder",label:this.$gettext("New Folder"),handler:function(){return t.$root.$dialogs.createFolder()}},{icon:"text_snippet",label:this.$gettext("New File"),handler:function(){return t.$root.$dialogs.createFile()}},{icon:"cloud_upload",label:this.$gettext("Upload Files"),handler:function(){return t.upload()}},{icon:"refresh",label:this.$gettext("Reload"),handler:function(){return t.$store.dispatch("files/LOAD_DIR")},separator:!0},{icon:"grid"===this.host?"table_view":"view_module",label:"grid"===this.host?this.$gettext("Display Mode: Grid"):this.$gettext("Display Mode: Table"),handler:function(){return t.toggleHost()},separator:!0},{icon:"settings",label:this.$gettext("Options"),handler:function(){return t.$emit("update:showOptions",!t.showOptions)}},{icon:"logout",label:this.$gettext("Logout"),handler:function(){return t.logout()}}]}}),methods:{toggleHost:function(){this.container="grid"===this.container?"table":"grid"}}},Re=Ne,Me=Object(y["a"])(Re,Ee,Le,!1,null,null,null),Be=Me.exports;j()(Me,"components",{QToolbar:N["a"],QSpace:$["a"],QBtn:R["a"],QMenu:k["a"],QList:x["a"],QSeparator:S["a"],QItem:w["a"],QItemSection:_["a"],QIcon:O["a"],QItemLabel:z["a"]}),j()(Me,"directives",{ClosePopup:Pt["a"]});var He=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.selected.length?a("div",{class:t.$style.block},[a("span",{staticClass:"cursor-pointer",on:{click:function(e){t.selectAll=!t.selectAll}}},[a("q-icon",{attrs:{name:t.selectAll?"remove_done":"select_all",size:"24px",color:"content",left:""}}),a("translate",{staticClass:"text-muted text-size-secondary"},[t._v("Selected:")]),a("span",{staticClass:"text-size-secondary q-ml-md"},[t._v("\n      "+t._s(t.selected.length)+" / "+t._s(t.files.length)+"\n    ")]),a("ui-tooltip",[t._v("\n      "+t._s(t.selectAll?t.$gettext("Clear selection"):t.$gettext("Select all files"))+"\n    ")])],1),a("q-space"),a("q-btn-group",{attrs:{dense:"",flat:""}},[a("q-btn",{attrs:{flat:"",left:""},on:{click:function(e){t.selected=[]}}},[a("q-icon",{attrs:{name:"remove_done",color:"muted",size:"24px"}}),a("ui-tooltip",[t._v("Clear Selection")])],1),a("q-btn",{attrs:{flat:""}},[a("q-icon",{attrs:{name:"more_horiz",size:"24px",color:"muted"}}),a("context-menu",{attrs:{item:t.selected[0],usual:""}}),a("ui-tooltip",[t._v("More...")])],1)],1)],1):t._e()},Ke=[],Ue=a("658f");function We(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ge(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?We(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ve={components:{ContextMenu:Ue["a"]},computed:Ge(Ge({},Object(m["e"])("files",{files:"list"})),{},{selected:{set:function(t){this.$store.commit("root/SELECT",t)},get:function(){return this.$store.state.root.selected}},selectAll:{get:function(){return!!this.selected.length&&(this.selected.length===this.files.length||null)},set:function(t){this.selected=t?this.files:[]}}})},Je=Ve,Xe=a("ebc0"),Ye=a("e7a9");function Ze(t){this["$style"]=Xe["default"].locals||Xe["default"]}var ta=Object(y["a"])(Je,He,Ke,!1,Ze,null,null),ea=ta.exports;j()(ta,"components",{QIcon:O["a"],QSpace:$["a"],QBtnGroup:Ye["a"],QBtn:R["a"]});var aa=Object(Ie["c"])({name:"MobileLayout",components:{Toolbar:Be,FoldersTree:Tt,OptionsDrawer:Ut,SelectedBlock:ea},props:{host:{type:String,required:!0,default:"grid"}},data:function(){return{showTree:!1,showOptions:!1}},computed:{showSelection:function(){return this.$store.state.root.selected.length>0}}}),sa=aa,ia=(a("b34f"),a("6ac5")),na=Object(y["a"])(sa,Te,Qe,!1,null,null,null),ra=na.exports;j()(na,"components",{QLayout:xe["a"],QHeader:_e["a"],QPageContainer:ke["a"],QPage:ze["a"],QPageSticky:Se["a"],QBtn:R["a"],QDialog:Ce["a"],QDrawer:q["a"],QToolbar:N["a"],QToolbarTitle:ia["a"],QSpace:$["a"]});var oa={Mobile:ra,Desktop:De},la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{"data-file-path":t.path}},[t._t("toolbar"),a("q-table",{key:"sort-"+t.pagination.sortBy+"-"+t.pagination.descending,staticClass:"files-table",style:{maxHeight:t.scrollHeight},attrs:{"row-key":"path",columns:t.tableColumns,data:t.files,pagination:t.pagination,filter:t.filter,flat:"",square:"","hide-bottom":"","no-route-fullscreen-exit":"","virtual-scroll":"","virtual-scroll-slice-size":100,"virtual-scroll-item-size":t.iconSize+15,selection:"multiple",selected:t.selected},on:{"update:selected":function(e){t.selected=e},request:t.onRequest,"virtual-scroll":t.onScroll},scopedSlots:t._u([{key:"header",fn:function(e){return[a("q-tr",{staticStyle:{"text-align":"left"},attrs:{props:e}},[a("q-th",{attrs:{"auto-width":""}},[a("div",{staticClass:"row align-center no-wrap justify-center"},[a("q-checkbox",{attrs:{value:e.selected,size:"md",dense:""},on:{input:t.toggleAllSelect}})],1)]),t._l(e.cols,(function(s){return a("q-th",{key:s.name,class:[t.$style.header,{"text-secondary":t.pagination.sortBy===s.name}],attrs:{props:e}},[t._v("\n          "+t._s(s.label)+"\n        ")])}))],2)]}},{key:"body",fn:function(e){return[a("q-tr",{class:{directory:e.row.flags.directory},attrs:{props:e,"data-index":e.rowIndex,"data-file-path":e.row.path,"data-upload-path":e.row.linkpath||e.row.path,"data-file-type":e.row.flags.directory?"folder":"file"},on:{dblclick:function(a){return t.open(e.row)}},nativeOn:{click:[function(a){return a.shiftKey?a.ctrlKey||a.altKey||a.metaKey?null:t.selectRange(e.rowIndex):null},function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey?null:t.selectRow(e.row)}],mousedown:function(e){return t.stopPropagation(e)},touchstart:function(e){return t.stopPropagation(e)},contextmenu:function(e){return t.stopPropagation(e)}}},[a("q-td",{attrs:{"auto-width":""}},[a("div",{staticClass:"row align-center no-wrap justify-center q-ml-lg"},[a("file-icon",t._b({attrs:{size:t.iconSize+"px",original:""}},"file-icon",e.row,!1)),a("q-checkbox",{class:t.$style.checkbox,attrs:{value:t.selectedPaths,val:e.row.path,"data-type":e.row.flags.directory?"directory":"file",size:"md",dense:""},on:{input:function(a){return t.selectRow(e.row)}}})],1)]),t._l(e.cols,(function(s){return a("q-td",{key:s.name,attrs:{props:e}},["name"===s.name?[a("span",{class:t.$style.cell},[t._v("\n              "+t._s(e.row.name)+"\n            ")])]:"size"===s.name?[t.diskUsage||!1===e.row.flags.directory?a("span",{class:t.$style.cell},[t._v("\n              "+t._s(t.toReadableSize(e.row.size))+"\n            ")]):t._e()]:"permissions"===s.name?[a("span",{class:t.$style.cell,on:{click:function(a){return a.stopPropagation(),t.$root.$dialogs.chmod({files:[e.row]})}}},[t._v("\n              "+t._s(t.toReadablePermissions(e.row.permissions))+"\n              ("+t._s(e.row.permissions)+")\n            ")])]:"date"===s.name?[a("span",{class:t.$style.cell},[t._v("\n              "+t._s(t.toReadableDate(e.row.time.updated))+"\n            ")]),a("q-tooltip",{attrs:{self:"center left",anchor:"center left","content-class":"text-content text-size-primary text-weight-medium shadow-1 no-padding","content-style":{background:"var(--c-bg-widget)"}}},[a("q-list",[a("q-item",{staticClass:"q-px-lg"},[a("q-item-section",[a("q-item-label",{staticClass:"text-size-secondary text-weight-medium"},[a("translate",[t._v("Created:")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{staticClass:"text-muted",domProps:{textContent:t._s(t.toReadableDate(e.row.time.created,"datetime"))}})],1)],1),a("q-item",{staticClass:"q-px-lg"},[a("q-item-section",[a("q-item-label",{staticClass:"text-content"},[a("translate",[t._v("Updated:")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{staticClass:"text-muted",domProps:{textContent:t._s(t.toReadableDate(e.row.time.updated,"datetime"))}})],1)],1),a("q-item",{staticClass:"q-px-lg"},[a("q-item-section",[a("q-item-label",[a("translate",[t._v("Accessed:")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{staticClass:"text-muted",domProps:{textContent:t._s(t.toReadableDate(e.row.time.accessed,"datetime"))}})],1)],1)],1)],1)]:[t._v("\n            "+t._s(s.value)+"\n          ")]],2)})),a("context-menu",{attrs:{item:e.row}})],2)]}},{key:"body-cell-name",fn:function(e){return[a("q-td",{attrs:{props:e},on:{click:function(a){return t.setPath(e.row.path)}}},[a("file-icon",t._b({attrs:{size:"md",original:""}},"file-icon",e.row,!1))],1)]}}])}),t.$_platform.desktop?a("drag",{attrs:{container:"table"}}):t._e()],2)},ca=[],pa=a("db4e"),da=a("ebd3"),ua=a("574c"),ma=a("499e"),ha=a("e417"),fa=a("abb4"),ba=a("762d"),ga=a("6935"),va=a("7839"),ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.target?a("q-tooltip",{attrs:{target:t.target,value:!0,"content-class":"bg-white rounded-borders","content-style":"border: 1px solid var(--q-color-"+("remove"===t.type?"negative":"primary")+");"}},[a("q-item",{class:"remove"===t.type?"text-negative":"text-primary"},[a("q-item-section",{attrs:{side:""}},["remove"===t.type?a("q-icon",{attrs:{size:"md",name:"delete",color:"negative"}}):a("q-icon",{attrs:{size:"md",name:"file_copy",color:"primary"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-subtitle2"},["move"===t.type?a("translate",{key:"moveFiles",attrs:{"translate-plural":"Move Files","translate-n":t.selected.length}},[t._v("\n          Move File\n        ")]):a("translate",{key:"removeFiles",attrs:{"translate-plural":"Remove File","translate-n":t.selected.length}},[t._v("\n          Remove Files\n        ")])],1),a("q-item-label",{staticClass:"text-caption"},["move"===t.type?a("translate",{key:"moveFilesCaption"},[t._v("\n          Hold ⌘ or control key to copy\n        ")]):a("translate",{key:"removeFilesCaption"},[t._v("\n          Hold Shift key to remove completely\n        ")])],1)],1)],1)],1):t._e()},qa=[],xa=(a("7f7f"),a("6d5f")),wa=a.n(xa),_a=a("5014"),Oa=a.n(_a),ka=a("25b8"),za=a("6fd6"),$a=a("ce5e");function Sa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ca(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Sa(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Sa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Pa={props:{drag:{type:Boolean,required:!1,default:!1},container:{type:String,required:!0,default:"table"}},data:function(){return{target:null,type:"remove"}},computed:{files:function(){return this.$store.state.files.list},selected:function(){return this.$store.state.root.selected},selectedPaths:function(){return this.selected.map((function(t){return t.path}))},path:function(){return this.$store.state.root.path},selectedEls:function(){return this.selectedPaths.map((function(t){return window.document.querySelector('[data-file-path="'.concat(t,'"]'))}))},selectors:function(){return"table"===this.container?{container:".files-table > .q-table__middle",selectables:".q-virtual-scroll__content > .q-tr",draggable:".q-virtual-scroll__content > .q-tr.selected",dropzone:".q-virtual-scroll__content > .q-tr.directory:not(.selected)",treeDropzone:".folders-tree .folder-tree-list-item:not(.trash-tree-list-item)",trashDropzone:".trash-bin"}:{container:".files-grid",selectables:".files-grid-section > .files-grid-item",draggable:".files-grid-section > .files-grid-item.selected",dropzone:".files-grid-section > .files-grid-item.folder:not(.selected)",treeDropzone:".folders-tree .folder-tree-list-item:not(.trash-tree-list-item)",trashDropzone:".trash-bin"}}},mounted:function(){this.initSelection(),this.gridDraggable(),this.gridDropzone(),this.treeDropzone(),this.trashDropzone()},methods:Ca(Ca({},Object(m["d"])({select:"root/SELECT"})),{},{clearSelection:function(){this.select([])},notify:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.$q.notify({type:e,message:t})},dismissNotification:function(){this.notification&&(this.notification(),this.notification=null)},initSelection:function(){var t=this;this.selection=new wa.a(u()({class:"selection",singleClick:!1,disableTouch:!0,mode:"touch",startThreshold:10,boundaries:[this.selectors.container],selectables:this.selectors.selectables,selectionAreaContainer:this.selectors.container},"selectionAreaContainer",".q-notifications")).on("beforestart",(function(e){var a=e.inst,s=e.oe;if(0!==s.button)return!1;if(0===t.selected.length)return!0;a.clearSelection(),a.select(t.selectedEls),a.resolveSelectables();var i=s.target.closest("[data-file-path]");return!i||!1===i.classList.contains("selected")})).on("start",(function(e){var a=e.inst,s=e.oe;s.ctrlKey||s.metaKey||(t.clearSelection(),a.clearSelection())})).on("move",(function(e){var a=e.changed,s=function(e){var a=Number(e.dataset.index);return t.files[a]},i=J["a"](W["a"](s,Y["a"]("path")),a.removed);t.select(t.selected.concat(a.added.map(s)).filter((function(t){return t&&!i.includes(t.path)})))}))},gridDraggable:function(){var t=this;this.gridDrag=Oa()(this.selectors.draggable).draggable({listeners:{start:function(e){var a=e.currentTarget.dataset.filePath;0===t.selected.length&&t.select(t.files.filter((function(t){return t.path===a}))),t.$emit("update:drag",!0)},move:function(e){e.currentTarget.classList.add("--dragged"),t.selectedEls.forEach((function(t){return t.classList.add("--dragged")}))},end:function(){window.document.querySelectorAll("".concat(t.selectors.draggable,".--dragged")).forEach((function(t){return t.classList.remove("--dragged")})),t.$emit("update:drag",!1)}}})},gridDropzone:function(){var t=this;Oa()(this.selectors.dropzone).dropzone({ondragenter:function(e){t.target=e.currentTarget,t.type="move",e.currentTarget.classList.add("--drop-active")},ondragleave:function(e){e.currentTarget.classList.remove("--drop-active"),t.target=null},ondrop:function(){var e=l()(r.a.mark((function e(a){var s,i,n;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=a.currentTarget,s.classList.remove("--drop-active"),t.target=null,i=s.dataset.filePath,n=a.dragEvent.ctrlKey||a.dragEvent.metaKey?za["b"]:za["c"],ka["a"].progress.setbypath([i].concat(re()(t.selectedPaths))),e.next=8,n({path:t.path,target:i,select:t.selectedPaths,overwrite:!0});case 8:ka["a"].progress.clear(),t.clearSelection();case 10:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()})},treeDropzone:function(){var t=this,e=function(e){var a=e.dataset.path,s=t.selected[0],i=s.path.replace("/".concat(s.name),"");return t.selectedPaths.includes(a)||i===a};Oa()(this.selectors.treeDropzone).dropzone({ondragenter:function(a){e(a.currentTarget)?t.notify("You could not copy/move file into itself","warning"):(t.type="move",t.target=a.currentTarget,a.currentTarget.classList.add("text-secondary"))},ondragleave:function(e){e.currentTarget.classList.remove("text-secondary"),t.target=null},ondrop:function(){var a=l()(r.a.mark((function a(s){var i,n;return r.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=s.currentTarget,!e(i)){a.next=3;break}return a.abrupt("return");case 3:return i.classList.remove("text-secondary"),t.target=null,n=s.dragEvent.ctrlKey||s.dragEvent.metaKey?za["b"]:za["c"],a.next=8,n({path:t.path,target:i.dataset.path,select:t.selectedPaths,overwrite:!1});case 8:t.clearSelection();case 9:case"end":return a.stop()}}),a)})));function s(t){return a.apply(this,arguments)}return s}()})},trashDropzone:function(){var t=this;Oa()(this.selectors.trashDropzone).dropzone({ondragenter:function(e){e.currentTarget.classList.add("-drop-active"),t.target=e.currentTarget,t.type="remove"},ondragleave:function(t){t.currentTarget.classList.remove("-drop-active")},ondrop:function(){var e=l()(r.a.mark((function e(a){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.currentTarget.classList.remove("-drop-active"),e.next=3,Object($a["a"])({select:t.selectedPaths,trash:!a.shiftKey},(function(){return ka["a"].loadDir()}));case 3:t.clearSelection(),t.target=null,t.$store.dispatch("tree/LOAD_TREE",t.path);case 6:case"end":return e.stop()}}),e)})));function a(t){return e.apply(this,arguments)}return a}()})}}),destroyed:function(){this.selection.destroy()}},ja=Pa,Da=a("05c0"),Ta=a("eaac"),Qa=a("a12b"),Ia=a("bd08"),Ea=Object(y["a"])(ja,ya,qa,!1,null,null,null),La=Ea.exports;function Aa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Fa(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Aa(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Aa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}j()(Ea,"components",{QTooltip:Da["a"],QColor:C["a"],QItem:w["a"],QItemSection:_["a"],QIcon:O["a"],QItemLabel:z["a"],QTable:Ta["a"],QVirtualScroll:Qa["a"],QTr:Ia["a"]});var Na={components:{FileIcon:pa["a"],Drag:La,ContextMenu:Ue["a"]},data:function(){return{fullscreen:!0,rangeDirection:"bottom",select:[],lastSelectedIndex:null}},computed:Fa(Fa(Fa(Fa(Fa(Fa({},Object(m["e"])("root",{path:"path"})),Object(m["e"])("files",{files:"list",loading:"loading"})),Object(m["e"])("options",{diskUsage:"disk-usage"})),Object(m["c"])({pagination:"files/pagination"})),it["mapOptions"]({iconSize:"grid/icon-size"})),{},{filter:{get:function(){return this.$store.state.files.filter},set:function(t){this.$store.commit("files/SET_FILTER",t)}},tableColumns:function(){return[{name:"name",label:this.$gettext("Name"),field:"name",required:!0,sortable:!0,align:"left"},{name:"size",label:this.$gettext("Size"),field:"size",required:!0,sortable:!0,align:"left"},{name:"permissions",label:this.$gettext("Permissions"),field:"permissions",required:!1,align:"left"},{name:"date",label:this.$gettext("Date"),field:"time",required:!0,align:"left",sortable:!0,format:function(t){return t.updated.toUTCString()}},{name:"owner",label:this.$gettext("UID/GID"),field:"owner",required:!1,align:"left",format:function(t){var e=t.user,a=t.group;return"".concat(e,"/").concat(a)}}].filter((function(t){return!t.hidden}))},selected:{set:function(t){this.$store.commit("root/SELECT",t)},get:function(){return this.$store.state.root.selected}},selectedPaths:function(){return this.selected.map((function(t){return t.path}))},selectAll:{get:function(){return!!this.selected.length&&(this.selected.length===this.files.length||null)},set:function(t){this.selected=t?this.files:[]}},currentSelectedRange:function(){var t=this;if(0===this.selected.length)return[0,0];var e=J["a"]((function(e){return da["a"](e,t.files)}),this.selected);return[ua["a"](Math.min,e),ua["a"](Math.max,e)]},currentName:function(){return"/"===this.path?this.$gettext("My Files"):"./trash"===this.path?this.$gettext("Trash Bin"):this.path.split("/").pop()},parent:function(){return"/"===this.path?null:this.path.split("/").slice(0,-1).join("/")||"/"},scrollHeight:function(){return"h"===this.$store.state.options.layout?"calc(100vh - 128px)":"calc(100vh - 72px)"}}),watch:{path:function(){this.filter=""}},methods:Fa(Fa(Fa({},Object(m["b"])({setPath:"root/SET_PATH",paginate:"files/PAGINATE",loadNextPage:"files/LOAD_NEXT_PAGE",loadDir:"files/LOAD_DIR"})),it),{},{loadAll:function(){this.paginate({pagination:{page:1,rowsPerPage:this.pagination.rowsNumber}})},onRequest:function(t){this.paginate({pagination:{page:t.pagination.page,rowsPerPage:t.pagination.rowsPerPage},sort:{sortBy:t.pagination.sortBy,descending:t.pagination.descending},filter:t.filter})},onScroll:function(t){var e=t.to,a=this.files.length-1;!this.loading&&this.pagination.hasNextPage&&a===e&&this.loadNextPage()},toggleAllSelect:function(t){this.selected=t?this.files:[]},selectRow:function(t){var e=ma["a"](ha["a"](t),fa["a"]([t]),ba["a"]([t]));this.selected=e(this.selected),this.lastSelectedIndex=this.files.indexOf(t)},selectRange:function(t){var e=Math.min(this.lastSelectedIndex,t),a=Math.max(this.lastSelectedIndex,t);this.selected=W["a"](ga["a"](e,a+1),ba["a"](this.selected),va["a"](Y["a"]("path")))(this.files),this.lastSelectedIndex=t},open:function(t){var e=this,a=this.getFileType(t);switch(a){case"directory":this.$setPath(t.linkpath||t.path);break;case"archive":this.$root.$dialogs.extract({file:t});break;case"image":this.$root.$dialogs.imagePreview({file:t});break;case"audio":this.$root.$dialogs.audioPreview({file:t});break;case"video":this.$root.$dialogs.videoPreview({file:t});break;case"text":this.$root.$dialogs.edit({file:t});break;case"binary":this.$q.dialog({title:this.$gettext("Confirm edit"),message:this.$gettext("Do you want to edit non text type file?"),cancel:!0,persistent:!0}).onOk((function(){e.$root.$dialogs.edit({file:t})}));break;default:break}},checkSelection:function(t){this.selected.length&&!1===this.selected.includes(t)&&(this.selected=[])},selectedOrRow:function(t){return this.selected.length?this.selected:[t]},stopPropagation:function(t){t.stopPropagation()}})},Ra=Na,Ma=(a("b2e4"),a("4193")),Ba=a("357e"),Ha=a("db86");function Ka(t){this["$style"]=Ma["default"].locals||Ma["default"]}var Ua=Object(y["a"])(Ra,la,ca,!1,Ka,null,null),Wa=Ua.exports;j()(Ua,"components",{QTable:Ta["a"],QTr:Ia["a"],QTh:Ba["a"],QCheckbox:Ct["a"],QTd:Ha["a"],QTooltip:Da["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QColor:C["a"]});var Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-breadcrumbs",{staticClass:"breadcrumbs",attrs:{gutter:"sm"},scopedSlots:t._u([{key:"separator",fn:function(){return[a("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"primary"}})]},proxy:!0}])},[t.nodes.length<3?t._l(t.nodes,(function(e){return a("q-breadcrumbs-el",{key:e.path,staticClass:"cursor-pointer all-pointer-events",attrs:{to:{name:"files",query:{path:e.path}}}},[a("svg-icon",{staticClass:"q-mr-sm",attrs:{size:"32px",name:e.icon,color:"primary"}}),a("span",{staticClass:"text-weight-medium",domProps:{textContent:t._s(e.name)}}),"/"!==e.path&&"/.trash"!==e.path?a("q-btn",{attrs:{round:"",flat:"",size:"xs",color:"primary",icon:"expand_more"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("q-menu",{attrs:{anchor:"bottom middle",self:"top middle"}},[a("q-list",{attrs:{dense:""}},t._l(t.getSiblings(e),(function(s){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:"sibling-"+s.path,staticClass:"text-grey-9 q-px-md",class:{"text-weight-medium":e.path===s.path},attrs:{dense:"",clickable:s.path!==e.path,to:{name:"files",query:{path:s.path}}}},[a("q-item-section",{attrs:{side:""}},[a("svg-icon",{attrs:{size:"24px",name:"directory",color:"primary"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                  "+t._s(s.name)+"\n                ")])],1)],1)})),1)],1)],1):t._e()],1)})):[a("q-breadcrumbs-el",[a("span",{staticClass:"text-weight-medium"},[t._v("...")]),a("q-popup-proxy",{attrs:{target:t.$el,anchor:"center left",self:"center left",offset:[12,0]}},[a("q-breadcrumbs",{staticClass:"q-ma-md bg-white",class:{"q-pa-md":t.$_platform.mobile},scopedSlots:t._u([{key:"separator",fn:function(){return[a("q-icon",{attrs:{size:"1.5em",name:"chevron_right",color:"primary"}})]},proxy:!0}])},t._l(t.nodes,(function(e){return a("q-breadcrumbs-el",{key:e.path,staticClass:"cursor-pointer all-pointer-events",attrs:{to:{name:"files",query:{path:e.path}}}},[a("svg-icon",{staticClass:"q-mr-sm",attrs:{size:"32px",name:e.icon,color:"primary"}}),a("span",{staticClass:"text-weight-medium",domProps:{textContent:t._s(e.name)}}),"/"!==e.path&&"/.trash"!==e.path?a("q-btn",{attrs:{round:"",flat:"",size:"xs",color:"primary",icon:"expand_more"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("q-menu",{attrs:{anchor:"bottom middle",self:"top middle"}},[a("q-list",{attrs:{dense:""}},t._l(t.getSiblings(e),(function(s){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:"sibling-"+s.path,staticClass:"text-grey-9 q-px-md",class:{"text-weight-medium":e.path===s.path},attrs:{dense:"",clickable:s.path!==e.path,to:{name:"files",query:{path:s.path}}}},[a("q-item-section",{attrs:{side:""}},[a("svg-icon",{attrs:{size:"24px",name:"directory",color:"primary"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                        "+t._s(s.name)+"\n                      ")])],1)],1)})),1)],1)],1):t._e()],1)})),1)],1)],1),t._l(t.trailNodes,(function(e){return a("q-breadcrumbs-el",{key:e.path,staticClass:"cursor-pointer all-pointer-events",attrs:{to:{name:"files",query:{path:e.path}}}},[a("svg-icon",{staticClass:"q-mr-sm",attrs:{size:"24px",name:e.icon,color:"primary"}}),a("span",{staticClass:"text-weight-medium",domProps:{textContent:t._s(e.name)}}),e.path!==t.path&&"/"!==e.path&&"/.trash"!==e.path?a("q-btn",{attrs:{round:"",flat:"",size:"xs",color:"primary",icon:"expand_more"},on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[a("q-menu",{attrs:{anchor:"bottom middle",self:"top middle",fit:""}},[a("q-list",{attrs:{dense:""}},t._l(t.getSiblings(e),(function(s){return a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],key:"sibling-"+s.path,staticClass:"text-grey-9 q-px-md",class:{"text-weight-medium":e.path===s.path},attrs:{dense:"",clickable:s.path!==e.path,to:{name:"files",query:{path:s.path}}}},[a("q-item-section",{attrs:{side:""}},[a("svg-icon",{attrs:{size:"24px",name:"directory",color:"primary"}})],1),a("q-item-section",[a("q-item-label",[t._v("\n                  "+t._s(s.name)+"\n                ")])],1)],1)})),1)],1)],1):t._e()],1)}))]],2)},Va=[],Ja=(a("8615"),a("2ada"));function Xa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Ya(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Xa(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Xa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Za={computed:Ya(Ya(Ya({},Object(m["e"])("root",{path:"path"})),Object(m["c"])({branch:"tree/currentFolderBranch"})),{},{foldersTree:function(){return Object.values(this.$store.state.tree.folders)},nodes:function(){var t=this,e=this.path.startsWith("/.trash/")?this.branch.slice(1):this.branch;return e.map((function(e){return Ya(Ya({},e),{},{name:t.getName(e),icon:t.getIcon(e)})}))},trailNodes:function(){return this.nodes.slice(-2)}}),methods:{getIcon:function(t){switch(t.path){case"/.trash":return"file-manager-bin";default:return"directory-open"}},getName:function(t){return"/.trash"===t.path?this.$gettext("Trash Bin"):t.name||this.$gettext("My Files")},getSiblings:function(t){var e=W["a"](G["a"](V["a"]("parent",t.parent)),Ja["a"](Y["a"]("name")));return e(this.foldersTree)}}},ts=Za,es=(a("4a89"),a("ead5")),as=a("079e"),ss=a("7cbe"),is=Object(y["a"])(ts,Ga,Va,!1,null,null,null),ns=is.exports;j()(is,"components",{QBreadcrumbs:es["a"],QIcon:O["a"],QBreadcrumbsEl:as["a"],QBtn:R["a"],QMenu:k["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QPopupProxy:ss["a"]}),j()(is,"directives",{ClosePopup:Pt["a"]});var rs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{"data-file-path":t.path}},[t._t("toolbar"),a("ui-scroll-area",{attrs:{height:t.scrollHeight}},[a("div",{staticClass:"files-grid-wrapper",class:{"-show-info-panel":t.showInfo&&t.selected.length}},[t.folders.length+t.files.length?a("q-card",{staticClass:"files-grid",attrs:{flat:""}},[a("q-card-section",{key:"folders-grid"},[a("transition-group",{staticClass:"files-grid-section --folders",attrs:{tag:"div",name:"q-transition--scale"}},[t._l(t.folders,(function(e){return a("q-item",{directives:[{name:"intersection",rawName:"v-intersection",value:t.onIntersection,expression:"onIntersection"}],key:e.path,staticClass:"files-grid-item folder",class:{selected:t.selected.includes(e)},attrs:{clickable:"","data-index":t.list.indexOf(e),"data-file-path":e.path,"data-upload-path":e.linkpath||e.path,"data-file-type":"folder"},on:{dblclick:function(a){return t.$setPath(e.linkpath||e.path)}},nativeOn:{click:[function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey?null:(a.stopPropagation(),t.selectItem(e))},function(a){return a.shiftKey?a.ctrlKey||a.altKey||a.metaKey?null:(a.stopPropagation(),t.selectRange(e)):null}],contextmenu:function(t){t.stopPropagation()}}},[a("q-item-section",{staticClass:"relative-position",attrs:{avatar:""}},[a("file-icon",t._b({attrs:{size:t.iconSize+"px",original:""}},"file-icon",e,!1)),a("q-checkbox",{class:t.$style.checkbox,attrs:{value:t.selectedPaths,val:e.path,size:"md",dense:""},on:{input:function(a){return t.selectItem(e)}}})],1),a("q-item-section",[a("q-item-label",{class:t.$style.fileLabel},[t._v("\n                  "+t._s(e.name)+"\n                ")]),a("q-item-label",{class:t.$style.fileMeta,attrs:{caption:""}},[t._v("\n                  "+t._s(t.getFolderCaption(e))+"\n                ")])],1),a("context-menu",{attrs:{item:e}})],1)})),t._l(t.files,(function(e){return a("q-item",{directives:[{name:"intersection",rawName:"v-intersection",value:t.onIntersection,expression:"onIntersection"}],key:e.path,staticClass:"files-grid-item file",class:{selected:t.selected.includes(e)},attrs:{clickable:!t.dragState,"data-index":t.list.indexOf(e),"data-file-path":e.path,"data-file-type":"file"},nativeOn:{click:[function(a){return a.ctrlKey||a.shiftKey||a.altKey||a.metaKey?null:(a.stopPropagation(),t.selectItem(e))},function(a){return a.shiftKey?a.ctrlKey||a.altKey||a.metaKey?null:(a.stopPropagation(),t.selectRange(e)):null}],dblclick:function(a){return t.openFile(e)},contextmenu:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[a("q-item-section",{staticClass:"relative-position",attrs:{avatar:""}},[a("file-icon",t._b({attrs:{size:t.iconSize+"px",original:""}},"file-icon",e,!1)),a("q-checkbox",{class:t.$style.fileCheckbox,attrs:{value:t.selectedPaths,val:e.path,size:"md",dense:""},on:{input:function(a){return t.selectItem(e)}}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-no-wrap montserrat text-content text-weight-medium"},[t._v("\n                  "+t._s(e.name)+"\n                ")]),a("q-item-label",{staticClass:"text-no-wrap montserrat text-muted",attrs:{caption:""}},[t._v("\n                  "+t._s(t.toReadableSize(e.size))+"\n                ")])],1),a("context-menu",{attrs:{item:e}})],1)}))],2)],1)],1):t._e(),t.selected.length&&t.showInfo?a("file-info"):t._e()],1),a("div",{directives:[{name:"show",rawName:"v-show",value:0===t.list.length&&!1===t.loading,expression:"list.length === 0 && loading === false"}],key:"empty-folder-label",class:t.$style.empty},[t._v("\n      "+t._s(t.filter?t.$gettext("No elements matching the search criteria."):t.$gettext("This folder is empty."))+"\n    ")])]),t.$_platform.desktop?a("drag",{attrs:{drag:t.dragState,container:"grid"},on:{"update:drag":function(e){t.dragState=e}}}):t._e()],2)},os=[],ls=(a("3846"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.singleView?a("q-card",{staticStyle:{"max-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"row items-center no-wrap"},[a("file-icon",t._b({attrs:{size:"lg"}},"file-icon",t.file,!1)),a("span",{staticClass:"text-h6 text-no-wrap",domProps:{textContent:t._s(t.file.name)}}),a("q-space")],1),a("div",{staticClass:"text-subtitle q-mt-sm text-no-wrap",attrs:{"translate-params":{parent:t.file.parent}},domProps:{textContent:t._s(t.file.path)}})]),a("q-separator"),a("q-card-section",[a("q-list",{staticClass:"text-primary"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Folder")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.file.parent)+"\n          ")])],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Size")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.toReadableSize(t.file.size))+"\n          ")])],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Permissions")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.toReadablePermissions(t.file.permissions,t.file.flags.directory))+"\n            ("+t._s(t.file.permissions)+")\n          ")])],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Created")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.toReadableDate(t.file.time.created,"datetime"))+"\n          ")])],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Modified")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.toReadableDate(t.file.time.updated,"datetime"))+"\n          ")])],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Accessed")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.toReadableDate(t.file.time.accessed,"datetime"))+"\n          ")])],1)],1),a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Owner")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.file.owner.user)+" / "+t._s(t.file.owner.group)+"\n          ")])],1)],1),t.file.dirs?a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Dirs")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.file.dirs)+"\n          ")])],1)],1):t._e(),t.file.files?a("q-item",[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Files")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n            "+t._s(t.file.files)+"\n          ")])],1)],1):t._e()],1)],1),t.file.name.includes(".mp3")?a("q-card-section",[a("audio",{attrs:{src:t.getDownloadPath(t.file.path),controls:""}})]):t._e()],1):a("q-card",[a("q-card-section",[a("q-list",[a("transition-group",{attrs:{name:"q-transition--scale"}},[t._l(t.files,(function(e,s){return[a("q-expansion-item",{key:"info-"+e.path,attrs:{"default-opened":0===s},scopedSlots:t._u([{key:"header",fn:function(){return[a("q-item-section",{attrs:{avatar:"",top:""}},[a("file-icon",t._b({attrs:{size:"md"}},"file-icon",e,!1))],1),a("q-item-section",[a("q-item-label",[t._v(t._s(e.name))]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.path))])],1)]},proxy:!0}],null,!0)},[a("q-list",{staticClass:"text-primary",attrs:{dense:""}},[a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Folder")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(e.parent)+"\n                  ")])],1)],1),a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Size")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(t.toReadableSize(e.size))+"\n                  ")])],1)],1),a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Permissions")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(t.toReadablePermissions(e.permissions,e.flags.directory))+"\n                    ("+t._s(e.permissions)+")\n                  ")])],1)],1),a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Created")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(t.toReadableDate(e.time.created))+"\n                  ")])],1)],1),a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Modified")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(t.toReadableDate(e.time.updated))+"\n                  ")])],1)],1),a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Accessed")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(t.toReadableDate(e.time.accessed))+"\n                  ")])],1)],1),a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Owner")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(e.owner.user)+" / "+t._s(e.owner.group)+"\n                  ")])],1)],1),e.dirs?a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Dirs")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(e.dirs)+"\n                  ")])],1)],1):t._e(),e.files?a("q-item",{attrs:{dense:""}},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[a("translate",[t._v("Files")])],1)],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("\n                    "+t._s(e.files)+"\n                  ")])],1)],1):t._e()],1)],1)]}))],2)],1)],1)],1)}),cs=[];function ps(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function ds(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ps(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ps(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var us={components:{FileIcon:pa["a"]},computed:{files:function(){return this.$store.state.root.selected},path:function(){return this.$store.state.root.path},singleView:function(){return 1===this.files.length},file:function(){return this.files[0]}},methods:ds({},it)},ms=us,hs=a("f09f"),fs=a("a370"),bs=a("3b73"),gs=Object(y["a"])(ms,ls,cs,!1,null,null,null),vs=gs.exports;function ys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function qs(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ys(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ys(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}j()(gs,"components",{QCard:hs["a"],QCardSection:fs["a"],QSpace:$["a"],QSeparator:S["a"],QList:x["a"],QItem:w["a"],QItemSection:_["a"],QItemLabel:z["a"],QTr:Ia["a"],QExpansionItem:bs["a"]}),j()(gs,"directives",{Ripple:Ht["a"]});var xs={name:"FilesGrid",components:{FileIcon:pa["a"],Drag:La,FileInfo:vs,ContextMenu:Ue["a"]},data:function(){return{dragState:!1,showInfo:!1,lastSelectedIndex:null}},computed:qs(qs(qs(qs(qs(qs({},Object(m["e"])("files",{list:"list",loading:"loading",files:function(t){return t.list.filter((function(t){return!1===t.flags.directory}))},folders:function(t){return t.list.filter((function(t){return!0===t.flags.directory}))}})),Object(m["e"])("root",{path:"path"})),Object(m["e"])("options",{archiveType:"archive-type",diskUsage:"disk-usage",layout:"layout"})),Object(m["c"])({pagination:"files/pagination"})),Object(it["mapOptions"])({iconSize:"grid/icon-size"})),{},{selected:{set:function(t){this.$store.commit("root/SELECT",t)},get:function(){return this.$store.state.root.selected}},selectAll:{get:function(){return!!this.selected.length&&(this.selected.length===this.list.length||null)},set:function(t){this.selected=t?this.list:[]}},singleSelect:function(){return 1===this.selected.length},selectedPaths:function(){return J["a"](Y["a"]("path"),this.selected)},filter:{get:function(){return this.$store.state.files.filter},set:function(t){this.$store.dispatch("files/FILTER",t)}},currentName:function(){return"/"===this.path?this.$gettext("My Files"):"./trash"===this.path?this.$gettext("Trash Bin"):this.path.split("/").pop()},parent:function(){return"/"===this.path?null:this.path.split("/").slice(0,-1).join("/")||"/"},scrollHeight:function(){return"v"===this.layout?"calc(100vh - 60px)":"calc(100vh - 128px)"}}),watch:{path:function(){this.filter=""}},methods:qs(qs({toReadableSize:it["toReadableSize"]},Object(m["b"])({paginate:"files/PAGINATE",loadNextPage:"files/LOAD_NEXT_PAGE"})),{},{getArchiveName:function(t){return"".concat(t.name,".").concat(this.archiveType)},getFolderCaption:function(t){var e=[];return t.size&&this.diskUsage&&e.push(Object(it["toReadableSize"])(t.size)),t.dirs&&e.push(this.$gettextInterpolate(this.$ngettext("%{n} folder","%{n} folders",t.dirs),{n:t.dirs})),t.files&&e.push(this.$gettextInterpolate(this.$ngettext("%{n} file","%{n} files",t.files),{n:t.files})),e.join(", ")},doPagination:function(t){this.paginate({pagination:{page:t,rowsPerPage:this.pagination.rowsPerPage},sort:{sortBy:this.pagination.sortBy,descending:this.pagination.descending},filter:this.filter})},selectedOrItem:function(t){return this.selected.length?this.selected:[t]},selectItem:function(t){var e=ma["a"](ha["a"](t),fa["a"]([t]),ba["a"]([t]));this.selected=e(this.selected),this.lastSelectedIndex=this.list.indexOf(t)},selectRange:function(t){var e=this.list.indexOf(t),a=Math.min(this.lastSelectedIndex,e),s=Math.max(this.lastSelectedIndex,e);this.selected=W["a"](ga["a"](a,s+1),ba["a"](this.selected),va["a"](Y["a"]("path")))(this.list),this.lastSelectedIndex=e},onIntersection:function(t){var e=Number(t.target.dataset.index),a=this.list.length-1;e===a&&t.isIntersecting&&this.loadNextPage()},openFile:function(t){var e=this,a=Object(it["getFileType"])(t);switch(a){case"directory":this.$setPath(t.linkpath||t.path);break;case"archive":this.$root.$dialogs.extract({file:t});break;case"image":this.$root.$dialogs.imagePreview({file:t});break;case"audio":this.$root.$dialogs.audioPreview({file:t});break;case"video":this.$root.$dialogs.videoPreview({file:t});break;case"text":this.$root.$dialogs.edit({file:t});break;case"binary":this.$q.dialog({title:this.$gettext("Confirm edit"),message:this.$gettext("Do you want to edit non text type file?"),cancel:!0,persistent:!0}).onOk((function(){e.$root.$dialogs.edit({file:t})}));break;default:break}},loadAll:function(){this.paginate({pagination:{page:1,rowsPerPage:this.pagination.rowsNumber}})}})},ws=xs,_s=(a("e353"),a("544f")),Os=a("9748");function ks(t){this["$style"]=_s["default"].locals||_s["default"]}var zs=Object(y["a"])(ws,rs,os,!1,ks,null,null),$s=zs.exports;j()(zs,"components",{QCard:hs["a"],QCardSection:fs["a"],QTr:Ia["a"],QItem:w["a"],QItemSection:_["a"],QCheckbox:Ct["a"],QItemLabel:z["a"]}),j()(zs,"directives",{Intersection:Os["a"]});var Ss=a("0613"),Cs=a("4d7f");function Ps(){return Boolean(window.document.querySelector(".upload-dialog"))}var js=function(){function t(t){this.$el=window.document,this.$path="",this.$leaveTimeout=null,this.onShowHandler=null,this.onHideHandler=null,this.onShowHandler=t.onShow,this.onHideHandler=t.onHide}return t.prototype.mount=function(){this.$el.addEventListener("dragenter",this.handleEnter.bind(this)),this.$el.addEventListener("dragover",this.handleOver.bind(this)),this.$el.addEventListener("dragleave",this.handleLeave.bind(this)),this.$el.addEventListener("drop",this.handleDrop.bind(this))},t.prototype.unmount=function(){this.$el.removeEventListener("dragenter",this.handleEnter),this.$el.removeEventListener("dragover",this.handleOver),this.$el.removeEventListener("dragleave",this.handleLeave),this.$el.removeEventListener("drop dragdrop",this.handleDrop)},t.prototype.__updateTarget=function(t){var e=t.dataset.uploadPath||t.dataset.filePath;if(this.$path!==e&&(this.$path=e,this.onShowHandler)){var a=t.getBoundingClientRect(),s=a.top,i=a.left,n=a.width,r=a.height;this.onShowHandler(e,{top:s+"px",left:i+"px",width:n+"px",height:r+"px"})}},t.prototype.__getDropPath=function(t){var e='[data-file-path]:not([data-file-type|="file"])',a=t.closest(e);if(a){if(t.closest(".files-grid-section.--folders")&&a.dataset.filePath===Ss["a"].state.root.path)return;this.__updateTarget(a)}},t.prototype.handleEnter=function(t){if(!Ps()){if(t.preventDefault(),t.dataTransfer){var e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",t.dataTransfer.setDragImage(e,0,0)}t.target&&this.__getDropPath(t.target)}},t.prototype.handleOver=function(t){if(!Ps()){if(t.preventDefault(),t.dataTransfer){var e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",t.dataTransfer.setDragImage(e,0,0)}this.$leaveTimeout&&clearTimeout(this.$leaveTimeout),t.target&&this.__getDropPath(t.target)}},t.prototype.handleLeave=function(){var t=this;Ps()||(this.$leaveTimeout=setTimeout((function(){t.$path="",t.onHideHandler&&t.onHideHandler()}),150))},t.prototype.handleDrop=function(t){if(!Ps()){if(t.preventDefault(),t.dataTransfer&&t.dataTransfer.files.length){var e=this.$path;Cs["a"].dragUpload({url:"/CMD_FILE_MANAGER?json=yes",formFields:[{name:"action",value:"upload"},{name:"json",value:"yes"},{name:"path",value:this.$path}],fieldName:"file0",multiple:!0,maxFileSize:Ss["a"].state.files.settings.maxFileSize,droppedFiles:t.dataTransfer.files,path:e})}this.$leaveTimeout&&clearTimeout(this.$leaveTimeout),this.onHideHandler&&this.onHideHandler(),this.$path=""}},t}(),Ds=js,Ts=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-list-actions row items-center no-wrap"},[t.list.length<t.pagination.rowsNumber?a("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",size:"sm",color:"disabled",icon:"all_inclusive"},on:{click:t.loadAll}},[a("ui-tooltip",[a("translate",{attrs:{"translate-params":{n:t.pagination.rowsNumber}}},[t._v("\n        Load all %{n} files in current folder\n      ")])],1)],1):t._e(),a("q-btn",{staticClass:"q-mr-sm",attrs:{flat:"",round:"",size:"sm",color:"disabled",icon:"refresh"},on:{click:function(e){return t.$store.dispatch("files/LOAD_DIR")}}},[a("ui-tooltip",[a("translate",[t._v("Reload files...")])],1)],1),a("q-input",{class:t.$style.input,attrs:{placeholder:t.$gettext("Filter files..."),outlined:"",clearable:"",autofocus:"",debounce:"300"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},[a("q-icon",{attrs:{slot:"prepend",name:"filter_alt",color:"primary",size:"24px"},slot:"prepend"})],1)],1)},Qs=[];function Is(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function Es(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(a),!0).forEach((function(e){u()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Is(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Ls={computed:Es(Es(Es(Es(Es({},Object(m["e"])("files",["list","loading"])),Object(m["e"])("root",["selected"])),Object(m["c"])({pagination:"files/pagination"})),Object(it["mapOptions"])({iconSize:"grid/icon-size",container:"files-container"})),{},{filter:{get:function(){return this.$store.state.files.filter},set:function(t){this.setFilter(t)}}}),methods:Es(Es({},Object(m["b"])("files",{setFilter:"FILTER",paginate:"PAGINATE"})),{},{loadAll:function(){this.list.length<this.pagination.rowsNumber&&this.paginate({pagination:{page:1,rowsPerPage:this.pagination.rowsNumber}})}})},As=Ls,Fs=a("b54c");function Ns(t){this["$style"]=Fs["default"].locals||Fs["default"]}var Rs=Object(y["a"])(As,Ts,Qs,!1,Ns,null,null),Ms=Rs.exports;j()(Rs,"components",{QBtn:R["a"],QInput:vt["a"],QIcon:O["a"],QField:ue["a"]});var Bs={grid:{basic:$s,trash:$s},table:{basic:Wa,trash:Wa}},Hs={components:{Breadcrumbs:ns,ListActions:Ms,SelectedBlock:ea},beforeRouteUpdate:function(t,e,a){this.$store.dispatch("tree/LOAD_TREE",t.query.path),a(!0)},data:function(){return{drop:{show:!1,path:"/skins/darwin",style:{}}}},computed:{dropTarget:function(){return'[data-file-path="'.concat(this.drop.path||this.path,'"]')},layout:function(){return this.$_platform.mobile?oa.Mobile:oa.Desktop},filesContainer:function(){var t=this.path.startsWith("/.trash")?"trash":"basic";return Bs[this.host][t]},path:function(){return this.$route.query.path||"/"},host:function(){return this.$store.state.options["files-container"]},selected:function(){return this.$store.state.root.selected},loading:function(){return this.$store.state.files.loading}},watch:{path:{handler:function(t){this.$store.dispatch("root/SET_PATH",t)},immediate:!0},host:function(t){this.$q.localStorage.set("da-fm:files-host",t)}},created:function(){var t=this;return l()(r.a.mark((function e(){return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dropzone=new Ds({onShow:function(e,a){t.drop.show=!0,t.drop.path=e,t.drop.style=a},onHide:function(){t.drop.show=!1}}),e.next=3,t.$store.dispatch("tree/LOAD_TREE","/");case 3:"/"!==t.path&&t.$store.dispatch("tree/LOAD_TREE",t.path);case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){this.dropzone&&this.dropzone.unmount(),this.dropzone.mount(),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){this.dropzone.unmount(),window.removeEventListener("keyup",this.onKeyUp)},methods:{onKeyUp:function(t){var e=t.ctrlKey||t.metaKey,a=["a","A"].includes(t.key),s=null!==window.document.querySelector(".q-dialog");if(e&&a&&!s)return t.preventDefault(),t.stopPropagation(),this.$store.dispatch("root/SELECT_ALL"),!1}}},Ks=Hs,Us=(a("433b"),a("78f3")),Ws=a("6b1d");function Gs(t){this["$style"]=Us["default"].locals||Us["default"]}var Vs=Object(y["a"])(Ks,s,i,!1,Gs,null,null);e["default"]=Vs.exports;j()(Vs,"components",{QSpace:$["a"],QBtn:R["a"],QLinearProgress:Ws["a"],QIcon:O["a"],QDialog:Ce["a"]})},"78f3":function(t,e,a){"use strict";var s=a("3597"),i=a.n(s);e["default"]=i.a},"7f16":function(t,e,a){"use strict";var s=a("b530"),i=a.n(s);i.a},8205:function(t,e,a){"use strict";var s=a("8cb8"),i=a.n(s);e["default"]=i.a},"8cb8":function(t,e,a){t.exports={input:"app-search_input_2BLvF shadow-1",wideInput:"app-search_wideInput_1E6oU app-search_input_2BLvF shadow-1 shadow-0",dropdown:"app-search_dropdown_1LMJp shadow-1",listLabel:"app-search_listLabel_1nJTy text-content text-size-primary text-weight-medium",optionsMenu:"app-search_optionsMenu_3VUGD",checkbox:"app-search_checkbox_b2Rm7"}},"9e9d":function(t,e,a){},b2e4:function(t,e,a){"use strict";var s=a("426f"),i=a.n(s);i.a},b34f:function(t,e,a){"use strict";var s=a("d935"),i=a.n(s);i.a},b3b8:function(t,e,a){t.exports={drawer:"app-toolbar-vertical_drawer_2tTbc column",logo:"app-toolbar-vertical_logo_1bUkV",item:"app-toolbar-vertical_item_3F8bQ app-toolbar-vertical_item_3F8bQ",contextMenu:"app-toolbar-vertical_contextMenu_1oD1i",detachedTree:"app-toolbar-vertical_detachedTree_pNg1a"}},b530:function(t,e,a){},b54c:function(t,e,a){"use strict";var s=a("21a2"),i=a.n(s);e["default"]=i.a},bcb1:function(t,e,a){"use strict";var s=a("b3b8"),i=a.n(s);e["default"]=i.a},c24c:function(t,e,a){t.exports={checkbox:"table_checkbox_VBj7W absolute-center",header:"table_header_wQNU7",cell:"table_cell_iHRU_",toolbarTitle:"table_toolbarTitle_3KICQ text-weight-medium text-primary"}},c508:function(t,e,a){t.exports={layout:"Desktop_layout_3vBAc",drawer:"Desktop_drawer_391MB",title:"Desktop_title_1OcA2 montserrat text-content text-weight-bold",pageToolbar:"Desktop_pageToolbar_zYj_y",refreshButton:"Desktop_refreshButton_Dn3nx",pageHeader:"Desktop_pageHeader_2IjLV","treeWrapper-h":"Desktop_treeWrapper-h_1va1W","treeWrapper-v":"Desktop_treeWrapper-v_1-l4t Desktop_treeWrapper-h_1va1W","filesWrapper-h":"Desktop_filesWrapper-h_1Q8ii","filesWrapper-v":"Desktop_filesWrapper-v_KDEJd Desktop_filesWrapper-h_1Q8ii",actionsWrapper:"Desktop_actionsWrapper_2_MY2",breadcrumbs:"Desktop_breadcrumbs_261Ty row items-center",detachedTree:"Desktop_detachedTree_1aRCX",detachTreeButton:"Desktop_detachTreeButton_19rPl"}},d65b:function(t,e,a){"use strict";var s=a("f9ca"),i=a.n(s);e["default"]=i.a},d935:function(t,e,a){},e353:function(t,e,a){"use strict";var s=a("f62b"),i=a.n(s);i.a},e783:function(t,e,a){"use strict";var s=a("c508"),i=a.n(s);e["default"]=i.a},ebc0:function(t,e,a){"use strict";var s=a("5404"),i=a.n(s);e["default"]=i.a},f48b:function(t,e,a){},f62b:function(t,e,a){},f9ca:function(t,e,a){t.exports={input:"app-quick-navigation_input_ad6UB",selectedItem:"app-quick-navigation_selectedItem_1QqP1"}}}]);