(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[1129],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js");var o=t("./node_modules/vue-codemirror/dist/vue-codemirror.js");t("./node_modules/codemirror/mode/javascript/javascript.js"),t("./node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),t("./node_modules/codemirror/mode/css/css.js"),t("./node_modules/codemirror/mode/php/php.js"),t("./node_modules/codemirror/mode/perl/perl.js"),t("./node_modules/codemirror/mode/properties/properties.js"),t("./node_modules/codemirror/mode/xml/xml.js"),t("./node_modules/codemirror/mode/sql/sql.js");t("./src/js/modules/utils/index.js");var l,n=t("./src/js/vue/mixins/local/inputValidation.js"),r=t("./src/js/vue/helpers.js"),a=["text","html","javascript","css","php","perl","ini","xml","sql","mysql","json"],d={components:{codemirror:o.codemirror},mixins:[n.$inputValidation],validate:"value",props:{value:{type:String,required:!0,default:""},readOnly:{type:Boolean,required:!1,default:!1},mode:{type:String,required:!1,default:"text",validator:(l=a,function(e){return l.includes(e)})},disableModes:{type:Boolean,required:!1,default:!1},disableThemes:{type:Boolean,required:!1,default:!1}},data:function(){return{editorMode:this.mode}},staticData:{modes:a,themes:["default","base16-light","base16-dark","monokai","solarized"]},computed:{theme:(0,r.options)("code-editor/theme"),cmMode:function(){switch(this.editorMode){case"json":return{name:"javascript",json:!0};case"mysql":return"sql";case"ini":return"properties";default:return this.editorMode}}}};s.Z=d},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/log.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.join.js");var l=t("./src/js/api/commands/user/stats.js"),n={components:{InputTextEditor:o(t("./src/js/components/local/inputs/input-text-editor.vue")).default},preload:function(e){var s=e.domain,t=e.type;return(0,l.getDomainLog)({domain:s,type:"usage"===t?"log":"error",lines:"100"})},api:[{command:l.getDomainLog,bind:"log"}],props:{domain:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{lines:100,show:"lines"}},computed:{rawLink:function(){var e="usage"===this.type?"log":"error",s="/CMD_SHOW_LOG?domain=".concat(this.domain,"&type=").concat(e);return"lines"===this.show?"".concat(s,"&lines=").concat(this.lines):s},log:function(){return this.$api.log.join("\n")}},methods:{loadLog:function(){var e="usage"===this.type?"log":"error";(0,l.getDomainLog)({domain:this.domain,type:e,lines:"lines"===this.show?this.lines:null})}}};s.Z=n},"./src/js/api/commands/user/stats.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),l=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"__esModule",{value:!0}),s.updateDiskUsage=s.unsetPublicStats=s.setUserStats=s.setUserSkin=s.setUserName=s.setUserEmail=s.setUserAwstats=s.setPublicStats=s.setMultiple=s.licenseVerify=s.getWebalizerReport=s.getStatsStatus=s.getStats=s.getDomainLog=void 0;var n=o(t("./node_modules/@babel/runtime/helpers/typeof.js")),r=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js"));t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.object.values.js"),t("./node_modules/core-js/modules/es.array.reduce.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.array.slice.js");var a=o(t("./src/js/api/command/index.js")),d=t("./src/js/api/commands/converters/customItems.ts"),u=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=i(s);if(t&&t.has(e))return t.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(o,r,a):o[r]=e[r]}o.default=e,t&&t.set(e,o);return o}(t("./node_modules/ramda/src/index.js"));function i(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:s})(e)}function c(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?c(Object(t),!0).forEach((function(s){(0,r.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var p="/CMD_USER_STATS",j="/CMD_CHANGE_INFO",v=a.default.get({id:"USER_STATS",url:p,params:{bytes:!0},domain:!0,pagination:!0,after:function(e){return e.flow(e.project({domains:"domains",stats:"stats","addons.webalizer":"webalizer","addons.awstats":"awstats",limitNotice:"stats",customItems:"custom_items"}),e.mapProps({stats:e.flow(e.deleteProp("info"),e.toArray,e.filter((function(e){return!!e.usage})),e.transformObject((function(e){return(0,r.default)({},e.setting,{usage:e.usage||void 0,limit:e.max_usage||void 0})})),e.mapValues((function(e){return["ON","OFF"].includes(e.usage)?{usage:"ON"===e.usage}:"object"===(0,n.default)(e.usage)?m(m({},e),{},{usage:Object.values(e.usage)}):e})),e.mapValues((function(s){return s.limit?e.toLimitedUsage(e.convert.toAppNumber)(s):s.usage})),e.mapProps({awstats:e.flow(e.toSelect,e.getProp("value"))})),domains:e.toTable(e.mapArray(e.flow((function(e){var s=e.subdomains||e.settings.subdomains||[];return void 0!==e.settings.subdomains&&delete e.settings.subdomains,e.subdomains=s,e}),e.mapProps({bandwidth:e.mapProp("usage",e.convert.toAppNumber),quota:e.convert.toAppNumber,log_usage:e.convert.toAppNumber,nsubdomains:e.convert.toAppNumber,suspended:e.convert.toAppBoolean,settings:e.mapValues(e.convert.toAppBoolean)})))),addons:e.flow(e.toArray,e.mapArray(e.isEqual("1")),e.reduce((function(e,s){return e||s}),!1)),limitNotice:function(s){var t=Object.values(s).find((function(e){return"send_usage_message"===e.setting}));return!!t&&{defaultValue:t.max_usage,value:e.toSelect(t.usage).value}},customItems:u.pipe(u.defaultTo({}),u.map(d.fromObject),u.filter((function(e){return e.value||"checkbox"===e.type})),u.values)}))}});s.getStats=v;var _=a.default.get({id:"STATS_STATUS",url:p,domain:!0,after:function(e){return e.flow(e.project({awstats:"awstats",awstatsOptions:"domain_awstats",webalizer:"webalizer"}),e.mapProp("awstats",(function(e){return"0"!==e})),e.mapProp("webalizer",e.isEqual("1")))}});s.getStatsStatus=_;var f=a.default.get({id:"WEBALIZER_REPORT",url:"/CMD_FILE_MANAGER",response:!1,params:{action:"exists"},schema:{domain:a.default.DOMAIN,subdomain:a.default.OPTIONAL_STRING},before:function(e){var s=e.domain,t=e.subdomain;return{path:t?"/domains/".concat(s,"/stats/").concat(t,"/index.html"):"/domains/".concat(s,"/stats/index.html"),domain:null,subdomain:null}},after:function(){return function(e){return"1"===e.exists}}});s.getWebalizerReport=f;var b=a.default.select({url:"/CMD_PUBLIC_STATS",params:{action:"public",json:!0},domain:!0,schema:{path:a.default.REQUIRED_STRING}});s.setPublicStats=b;var g=a.default.select({url:"/CMD_PUBLIC_STATS",params:{action:"public",json:!0,unset:!0},schema:{path:a.default.REQUIRED_STRING}});s.unsetPublicStats=g;var y=a.default.post({url:j,params:{json:!0},domain:!0,schema:{evalue:a.default.OPTIONAL_STRING,nvalue:a.default.OPTIONAL_STRING,lvalue:a.default.OPTIONAL_STRING}});s.setUserStats=y;var x=a.default.post({url:j,domain:!0}),h=x.extend({params:{name:!0},schema:{nvalue:a.default.REQUIRED_STRING}});s.setUserName=h;var S=x.extend({params:{email:!0},schema:{evalue:a.default.REQUIRED_STRING}});s.setUserEmail=S;var R=x.extend({params:{skin:!0},schema:{skinvalue:a.default.REQUIRED_STRING}});s.setUserSkin=R;var w=x.extend({params:{set_multiple:!0,send_usage_message:!0},schema:{nvalue:a.default.OPTIONAL_STRING,evalue:a.default.OPTIONAL_STRING,skinvalue:a.default.OPTIONAL_STRING,lvalue:a.default.OPTIONAL_STRING,awstatsvalue:a.default.OPTIONAL_STRING,zvalue:a.default.OPTIONAL_STRING},before:function(e){return{name:!!e.nvalue||null,email:!!e.evalue||null,skin:!!e.skinvalue||null,language:!!e.lvalue||null,awstats:!!e.awstatsvalue||null,zoom:!!e.zvalue||null}}});s.setMultiple=w;var O=x.extend({params:{awstats:!0},schema:{awstatsvalue:a.default.REQUIRED_STRING}});s.setUserAwstats=O;var N=a.default.get({id:"LICENSE_VERIFY",url:"/CMD_LICENSE_VERIFY",notifySuccess:!0});s.licenseVerify=N;var I=a.default.post({url:"/CMD_CHANGE_INFO",params:{update:!0}});s.updateDiskUsage=I;var P=a.default.get({id:"DOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accepts:"text/plain",domain:!0,schema:{type:a.default.REQUIRED_STRING},after:function(e){return e.flow((function(e){return e.split("\n")}),(function(e){return e.slice(0,-1)}))}});s.getDomainLog=P},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&":function(){},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/log.vue?vue&type=style&index=0&id=7d37c9be&lang=scss&scoped=true&":function(){},"./src/js/components/local/inputs/input-text-editor.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return n}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=script&lang=js&"),l=o.Z,n=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&"),(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(l,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"input-text-editor"},[e.$slots.header?t("div",{staticClass:"input-text-editor-header"},[e._t("header")],2):e._e(),e._v(" "),t("codemirror",{attrs:{value:e.value,options:{lineNumbers:!0,readOnly:e.readOnly,mode:e.cmMode,theme:e.theme}},on:{input:function(s){return e.$emit("input",s)}}}),e._v(" "),e.disableModes&&e.disableThemes?e._e():t("div",{staticClass:"input-text-editor-bottom-bar"},[e.disableModes?e._e():t("input-select",{staticClass:"input-text-editor-bottom-bar-select",attrs:{options:e.modes},model:{value:e.editorMode,callback:function(s){e.editorMode=s},expression:"editorMode"}},[t("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[t("translate",[e._v("Mode: ")])],1)],1),e._v(" "),e.disableThemes?e._e():t("input-select",{staticClass:"input-text-editor-bottom-bar-select --wide",attrs:{options:e.themes},model:{value:e.theme,callback:function(s){e.theme=s},expression:"theme"}},[t("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[t("translate",[e._v("Theme: ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports)},"./src/js/pages/user/stats/log.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return u}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/log.vue?vue&type=script&lang=js&"),l=o.Z,n=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/log.vue?vue&type=style&index=0&id=7d37c9be&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=t("./src/js/pages/user/stats/log.vue?vue&type=custom&index=0&blockType=route"),a=t.n(r),d=(0,n.Z)(l,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{id:"domain-log"}},[t("template",{slot:"page:title"},["usage"===e.type?t("translate",{attrs:{"translate-params":{domain:e.domain}}},[e._v("\n            View Usage Log for %{ domain }\n        ")]):t("translate",{attrs:{"translate-params":{domain:e.domain}}},[e._v("\n            View Error Log for %{ domain }\n        ")])],1),e._v(" "),t("app-page-section",[t("div",{directives:[{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],staticClass:"filters"},[t("ui-form-element",{attrs:{underline:"lines"===e.show}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Show\n                ")]),e._v(" "),t("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,2],expression:"[0, 2]"}],attrs:{slot:"content"},slot:"content"},[t("input-radio",{attrs:{value:"full"},on:{change:e.loadLog},model:{value:e.show,callback:function(s){e.show=s},expression:"show"}},[t("translate",[e._v("Full Log")])],1),e._v(" "),t("input-radio",{attrs:{value:"lines"},on:{change:e.loadLog},model:{value:e.show,callback:function(s){e.show=s},expression:"show"}},[t("translate",[e._v("Tail")])],1)],1)],1),e._v(" "),t("transition",{attrs:{name:"fade"}},["lines"===e.show?t("ui-form-element",{attrs:{underline:!1}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        Number of lines to show\n                    ")]),e._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("input-text",{attrs:{number:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.loadLog.apply(null,arguments)}},model:{value:e.lines,callback:function(s){e.lines=s},expression:"lines"}}),e._v(" "),t("ui-button",{attrs:{theme:"safe",size:"normal",disabled:!Number(e.lines)},on:{click:e.loadLog}},[t("translate",[e._v("Reload Log")])],1)],1)],1):e._e()],1)],1),e._v(" "),t("input-text-editor",{attrs:{value:e.log,"read-only":"","disable-modes":""}},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center",main:"between"},expression:"{\n                    cross: 'center',\n                    main: 'between',\n                }"}],attrs:{slot:"header"},slot:"header"},[e._v("\n                "+e._s(e.domain)+"\n                "),t("ui-button-link",{attrs:{size:"small",theme:"light",href:e.rawLink,target:"_blank"}},[t("translate",[e._v("raw")])],1)],1)])],1)],2)}),[],!1,null,"7d37c9be",null);"function"==typeof a()&&a()(d);var u=d.exports},"./src/js/pages/user/stats/log.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){var o=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("7a6c41ca",o,!0,{})},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/log.vue?vue&type=style&index=0&id=7d37c9be&lang=scss&scoped=true&":function(e,s,t){var o=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/log.vue?vue&type=style&index=0&id=7d37c9be&lang=scss&scoped=true&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("19547ca1",o,!0,{})}}]);