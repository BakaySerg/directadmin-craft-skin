(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[2216],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/passwords.vue?vue&type=script&lang=js&":function(e,s,a){"use strict";a("./node_modules/core-js/modules/es.object.define-property.js");var t=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,a("./node_modules/core-js/modules/es.array.includes.js"),a("./node_modules/core-js/modules/es.string.includes.js");var r,n,o=t(a("./node_modules/@babel/runtime/regenerator/index.js")),i=t(a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=t(a("./src/js/api/commands/reseller/password.js")),u=a("./src/js/api/commands/validation/index.js"),l=a("./src/js/api/commands/search.js"),c=a("./src/js/modules/utils/index.js"),p=a("./src/js/modules/constants.js"),m={commands:{validatePassword:u.validatePassword},api:[{command:l.searchUsers,bind:"users"}],props:{user:{type:String,required:!1,default:""}},data:function(){return{username:"",passwd:"",requestInProgress:!1}},computed:{requestData:function(){return{username:this.username,passwd:this.passwd,passwd2:this.passwd}}},mounted:function(){this.user&&(this.username=this.user)},methods:{getUsers:c._.debounce(function(){var e=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.username&&(0,l.searchUsers)({search:this.username});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),p.DEBOUNCE_TIME),submit:(n=(0,i.default)(o.default.mark((function e(){var s=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.requestInProgress=!0,e.next=3,(0,d.default)(this.requestData);case 3:this.$store.commit("validation/TOUCH_GROUP_INPUTS","user"),this.$reset(),setTimeout((function(){s.$store.commit("validation/TOUCH_GROUP_INPUTS","user")}),300);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)}),isUserExist:(r=(0,i.default)(o.default.mark((function e(s){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.user||this.$api.users.length&&this.$api.users.includes(s));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}};s.Z=m},"./src/js/api/commands/reseller/password.js":function(e,s,a){"use strict";a("./node_modules/core-js/modules/es.object.define-property.js");var t=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=t(a("./src/js/api/command/index.js")),n=r.default.post({url:"/CMD_USER_PASSWD",params:{action:"create",referer:"CMD_API_USER_PASSWD"},schema:{username:r.default.REQUIRED_STRING,passwd:r.default.REQUIRED_STRING},before:function(e){return{passwd2:e.passwd}}});s.default=n},"./src/js/api/commands/validation/index.js":function(e,s,a){"use strict";a("./node_modules/core-js/modules/es.object.define-property.js");var t=a("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.validateUsername=s.validateSubdomain=s.validatePassword=s.validateMXValue=s.validateIPRangeList=s.validateForwarder=s.validateFTP=s.validateEmail=s.validateDomain=s.validateDatabase=s.validateDNSValue=s.validateDNSName=s.validateDBUser=void 0;var r=t(a("./src/js/api/command/index.js")),n=t(a("./node_modules/punycode/punycode.es6.js")),o=t(a("./src/js/api/commands/validation/$processors.ts")),i=r.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:r.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:o.default.isValid,message:o.default.getMessage}}),d=i.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});s.validateForwarder=d;var u=i.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});s.validateEmail=u;var l=i.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});s.validateFTP=l;var c=i.extend({params:{type:"dns"},domain:!0,schema:{record:r.default.REQUIRED_STRING}}),p=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:r.default.REQUIRED_STRING}});s.validateDNSValue=p;var m=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});s.validateMXValue=m;var v=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:r.default.REQUIRED_STRING,value:null}});s.validateDNSName=v;var f=i.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});s.validateDatabase=f;var _=i.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});s.validateDBUser=_;var j=i.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});s.validateUsername=j;var b=i.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});s.validateSubdomain=b;var h=i.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});s.validatePassword=h;var A=i.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var s=e.value;return{value:n.default.toASCII(s)}}});s.validateDomain=A;var D=i.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});s.validateIPRangeList=D},"./src/js/api/commands/validation/$processors.ts":function(e,s,a){"use strict";a.r(s);var t=a("./src/js/api/commands/converters/index.ts");s.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return(0,t.toAppHtml)(e.error||"")}}},"./src/js/pages/reseller/passwords.vue":function(e,s,a){"use strict";a.r(s),a.d(s,{__esModule:function(){return t.X},default:function(){return u}});var t=a("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/passwords.vue?vue&type=script&lang=js&"),r=t.Z,n=a("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),o=a("./src/js/pages/reseller/passwords.vue?vue&type=custom&index=0&blockType=route"),i=a.n(o),d=(0,n.Z)(r,(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("app-page",[a("app-page-section",[a("ui-form-element",{attrs:{group:"user",validators:{required:!0,exists:e.isUserExist}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username:\n            ")]),e._v(" "),a("input-autocomplete",{attrs:{slot:"content",values:e.$api.users},on:{input:e.getUsers},slot:"content",model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),e._v(" "),a("translate",{attrs:{slot:"error:exists"},slot:"error:exists"},[e._v("\n                User does not exist\n            ")])],1),e._v(" "),a("ui-form-element",{attrs:{group:"user",validators:{required:!0,api:e.$commands.validatePassword},underline:!1}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Enter Password:\n            ")]),e._v(" "),a("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.passwd,callback:function(s){e.passwd=s},expression:"passwd"}})],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"footer:buttons",theme:"safe","validate-group":"user",disabled:e.requestInProgress},on:{click:e.submit},slot:"footer:buttons"},[a("translate",[e._v("Submit")])],1)],1)}),[],!1,null,null,null);"function"==typeof i()&&i()(d);var u=d.exports},"./src/js/pages/reseller/passwords.vue?vue&type=custom&index=0&blockType=route":function(){}}]);