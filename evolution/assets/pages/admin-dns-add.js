(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[9770],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/input-ip.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=s("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X$",{value:!0}),t.xd=t.ZP=t.TW=void 0;var r=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js"));s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.array.join.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/core-js/modules/es.array.fill.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.string.replace.js");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var s=d(t);if(s&&s.has(e))return s.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var a=r?Object.getOwnPropertyDescriptor(e,l):null;a&&(a.get||a.set)?Object.defineProperty(o,l,a):o[l]=e[l]}o.default=e,s&&s.set(e,o);return o}(s("./node_modules/ramda/src/index.js")),a=o(s("./node_modules/inputmask/dist/inputmask.js")),i=s("./src/js/vue/mixins/local/inputValidation.js");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(d=function(e){return e?s:t})(e)}var u=function(e){if(!e)return"";for(var t=[],s=Number(e),o=0;o<4;o++){var n=Math.min(s,8);t.push(256-Math.pow(2,8-n)),s-=n}return t.join(".")};t.TW=u;var c=function(e){if(!e)return"";var t,s,o;return t=(o=e,o.split(".").map(Number)).map((function(e){return(e>>>0).toString(2)})).join(""),s="1",t.split(s).length-1};t.xd=c;var p={mixins:[i.$inputValidation],validate:"value",props:{value:{type:String,required:!0},netmask:{type:String,required:!1,default:""},version:{type:String,required:!1,default:"v4"},disableVersionSelect:{type:Boolean,required:!1,default:!1},allowRange:{type:Boolean,required:!1,default:!1}},data:function(){return{focused:!1,dataVersion:"v4",innerCidr:null}},computed:{showVersionsSelect:function(){return!this.disableVersionSelect&&this.$_flags["server.ipv6"]},cidr:function(){return this.netmask&&"v4"===this.dataVersion?c(this.netmask):this.netmask},innerValue:function(){return this.value&&null!==this.innerCidr?"".concat(this.value,"/").concat(this.cidr):this.value},mask:function(){var e={v4:Array(4).fill("i[i[i]]").join("."),v6:"[I[I[I[I]]]]".concat(Array(7).fill("[:[I[I[I[I]]]]]").join(""))}[this.dataVersion],t={v4:"[!r[r[r]]]",v6:"[!R[R[R[R]]]]"}[this.dataVersion],s={v4:"[=[n[n]]]",v6:"[-[N[N[N]]]]"}[this.dataVersion];return this.allowRange&&(e="".concat(e).concat(t)),void 0!==this.netmask&&(e="".concat(e).concat(s)),e}},watch:{version:function(e){this.dataVersion!==e&&(this.dataVersion=e)},dataVersion:function(e){e!==this.version&&(this.$emit("input",""),this.$emit("update:netmask","")),this.applyMask()},innerCidr:function(e,t){null!==e&&(null===t&&""===e&&(this.innerCidr=this.cidr),this.emitNetmask(e))}},mounted:function(){this.dataVersion=this.version,this.applyMask()},methods:{emit:function(e){var t=e.target.value,s=t.split("/"),o=(0,r.default)(s,2),n=o[0],l=o[1];this.innerCidr=t.includes("/")?l:null,this.$emit("input",n),t||this.emitNetmask("")},emitNetmask:function(e){return this.$emit("update:netmask","v4"===this.dataVersion?u(e):e)},moveCursor:function(){this.value||this.$refs.input.setSelectionRange(0,0)},applyMask:function(){new a.default({mask:this.mask,keepStatic:!0,definitions:{i:{validator:function(e,t,s){var o=t.buffer;return s-1>-1&&"."!==o[s-1]?(e=o[s-1]+e,e=s-2>-1&&"."!==o[s-2]?o[s-2]+e:"0".concat(e)):e="00".concat(e),/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(e)},cardinality:1},n:{validator:function(e,t,s){var o=t.buffer;return"/"!==o[s-1]&&(e=o[s-1]+e),/^3[0-2]$|^[0-2][0-9]$|^[0-9]$/.test(e)},cardinality:1},I:{validator:function(e,t,s){var o=t.buffer;return(1!==s||":"!==o[0])&&/[A-Fa-f0-9]/.test(e)},cardinality:1,casing:"lower"},N:{validator:function(e,t,s){var o=t.buffer,n=l.pipe(l.ifElse((function(e){return e.length===s}),l.append(e),l.update(s,e)),l.join(""),l.split("/"),l.last,Number)(o);return n>=0&&n<=128}},":":{validator:function(e,t,s){var o=t.buffer;return":"===e?":"!==o[s-1]||!o.join("").includes("::"):!!/[A-Fa-f0-9]/.test(e)&&{insert:[{pos:s,c:":"},{pos:s+1,c:e}],caret:s+2}},cardinality:1,placeholder:":"},"-":{validator:function(e,t,s){var o=t.buffer;if(!s)return!1;if(":"===o[s-1]&&"/"===e)return s>=3&&":"===o[s-2];var n=o.join("").split("/"),l=(0,r.default)(n,1)[0].split(":").map((function(e){return e.replace(/_/g,"")})).join(":");return"/"===e&&l.includes(":")},cardinality:1,placeholder:"/"},"=":{validator:function(e){return"/"===e},cardinality:1,placeholder:"/"},"!":{validator:function(e){return"-"===e},cardinality:1,placeholder:""},r:{validator:function(e,t,s){var o=t.buffer;return"-"!==o[s-1]?(e=o[s-1]+e,e="-"!==o[s-2]?o[s-2]+e:"0".concat(e)):e="00".concat(e),/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(e)},cardinality:1,placeholder:""},R:{validator:function(e){return/[A-Fa-f0-9]/.test(e)},cardinality:1,placeholder:""}},onUnMask:function(e){return e},skipOptionalPartCharacter:"",placeholder:"_"}).mask(this.$refs.input)}}};t.ZP=p},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/add.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n,r=o(s("./node_modules/@babel/runtime/regenerator/index.js")),l=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),a=s("./src/js/api/commands/dns-zone.js"),i=o(s("./src/js/components/local/input-ip.vue")),d={preload:a.getZones,api:[{command:a.getZones,bind:{"response.info.dns_ptr":"dns_ptr"}}],components:{InputIp:i.default},data:function(){return{domain:"",ip:"",ns1:"",ns2:"",reverse:!1}},methods:{addZone:(n=(0,l.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.addZone)({domain:this.$p6e.toA(this.domain),ip:this.ip,ns1:this.$p6e.toA(this.ns1),ns2:this.$p6e.toA(this.ns2),reverse:"0"===this.$api.dns_ptr?null:this.reverse});case 2:e.sent&&this.$router.push("/admin/dns");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}};t.Z=d},"./src/js/api/commands/dns-zone.js":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.symbol.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("./node_modules/core-js/modules/es.object.define-properties.js"),s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.resetZone=t.getZones=t.deleteZones=t.addZone=void 0;var n=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=o(s("./src/js/api/command/index.js"));function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){(0,n.default)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var i=r.default.get({id:"DNS_ZONES",url:"/CMD_DNS_ADMIN",domain:!1,schema:a(a({},r.default.PAGINATION),{},{filters:{type:Object,required:!1},domain:null}),before:function(e){var t=e.filters;if(t){var s={};t.domain&&(s.comparison1=t.searchType,s.value1=t.domain),t.local_data&&(s.comparison2="contains",s.value2=t.local_data),t.local_mail&&(s.comparison3="contains",s.value3=t.local_mail)}return{}},after:function(e){return function(t){return{info:{dns_ns:t.info.dns_ns,dns_ptr:t.info.dns_ptr},zones:e.toTable(e.mapArrayProps({local_data:e.convert.toAppBoolean,local_mail:e.convert.toAppBoolean}))(t)}}}});t.getZones=i;var d=r.default.post({url:"/CMD_DNS_ADMIN",params:{action:"create"},domain:!0,schema:{ip:r.default.REQUIRED_STRING,ns1:r.default.REQUIRED_STRING,ns2:r.default.REQUIRED_STRING,reverse:r.default.OPTIONAL_BOOL}});t.addZone=d;var u=r.default.select({url:"/CMD_DNS_ADMIN",params:{action:"delete"}});t.deleteZones=u;var c=r.default.post({url:"/CMD_DNS_ADMIN",params:{action:"select",reset:!0},domain:!0});t.resetZone=c},"./node_modules/core-js/internals/array-fill.js":function(e,t,s){"use strict";var o=s("./node_modules/core-js/internals/to-object.js"),n=s("./node_modules/core-js/internals/to-absolute-index.js"),r=s("./node_modules/core-js/internals/length-of-array-like.js");e.exports=function(e){for(var t=o(this),s=r(t),l=arguments.length,a=n(l>1?arguments[1]:void 0,s),i=l>2?arguments[2]:void 0,d=void 0===i?s:n(i,s);d>a;)t[a++]=e;return t}},"./node_modules/core-js/modules/es.array.fill.js":function(e,t,s){var o=s("./node_modules/core-js/internals/export.js"),n=s("./node_modules/core-js/internals/array-fill.js"),r=s("./node_modules/core-js/internals/add-to-unscopables.js");o({target:"Array",proto:!0},{fill:n}),r("fill")},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/input-ip.vue?vue&type=style&index=0&lang=scss&":function(){},"./src/js/components/local/input-ip.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X$},cidr2netmask:function(){return o.TW},default:function(){return r},netmask2cidr:function(){return o.xd}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/input-ip.vue?vue&type=script&lang=js&"),n=o.ZP,r=(s("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/input-ip.vue?vue&type=style&index=0&lang=scss&"),(0,s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ui-input-group",{staticClass:"width:100%"},[e.showVersionsSelect?s("input-select",{staticClass:"input-ip-version-select",attrs:{slot:"additions:left",novalidate:"",options:{v4:"IPv4",v6:"IPv6"}},on:{change:function(t){return e.$emit("update:version",t)}},slot:"additions:left",model:{value:e.dataVersion,callback:function(t){e.dataVersion=t},expression:"dataVersion"}}):e._e(),e._v(" "),s("input",{ref:"input",staticClass:"input-ip-mask",attrs:{slot:"input",type:"text"},domProps:{value:e.innerValue},on:{input:e.emit,focus:e.moveCursor},slot:"input"}),e._v(" "),s("template",{slot:"additions:right"},[e._t("additions:right")],2)],2)}),[],!1,null,null,null).exports)},"./src/js/pages/admin/dns/add.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X},default:function(){return d}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/add.vue?vue&type=script&lang=js&"),n=o.Z,r=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),l=s("./src/js/pages/admin/dns/add.vue?vue&type=custom&index=0&blockType=route"),a=s.n(l),i=(0,r.Z)(n,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("app-page",[s("app-page-section",[s("ui-form-element",{attrs:{validators:{required:!0,domain:!0}}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Domain Name:\n            ")]),e._v(" "),s("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.domain,callback:function(t){e.domain=t},expression:"domain"}}),e._v(" "),s("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[e._v("\n                Wrong format for a domain\n            ")])],1),e._v(" "),s("ui-form-element",{attrs:{validators:{required:!0}}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                IP Address:\n            ")]),e._v(" "),s("input-ip",{attrs:{slot:"content"},slot:"content",model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}}),e._v(" "),s("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[e._v("\n                Wrong IP format\n            ")])],1),e._v(" "),s("ui-form-element",{attrs:{validators:{required:!0,domain:!0}}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Name Server 1:\n            ")]),e._v(" "),s("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.ns1,callback:function(t){e.ns1=t},expression:"ns1"}}),e._v(" "),s("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[e._v("\n                Wrong format for a nameserver\n            ")])],1),e._v(" "),s("ui-form-element",{attrs:{validators:{required:!0,domain:!0}}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Name Server 2:\n            ")]),e._v(" "),s("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.ns2,callback:function(t){e.ns2=t},expression:"ns2"}}),e._v(" "),s("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[e._v("\n                Wrong format for a nameserver\n            ")])],1),e._v(" "),"0"!==e.$api.dns_ptr?s("ui-form-element",{attrs:{"vertical-on-phone":!1,reverse:e.$_Client.isPhone,underline:!e.$_Client.isPhone}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Create Reverse IP Lookup\n            ")]),e._v(" "),s("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.reverse,callback:function(t){e.reverse=t},expression:"reverse"}})],1):e._e()],1),e._v(" "),s("ui-button",{attrs:{slot:"footer:buttons",theme:"safe","validate-group":"default"},on:{click:e.addZone},slot:"footer:buttons"},[s("translate",[e._v("Create")])],1)],1)}),[],!1,null,null,null);"function"==typeof a()&&a()(i);var d=i.exports},"./src/js/pages/admin/dns/add.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/input-ip.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){var o=s("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/input-ip.vue?vue&type=style&index=0&lang=scss&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("7cd46c96",o,!0,{})}}]);