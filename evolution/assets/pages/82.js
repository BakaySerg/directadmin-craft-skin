(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1831:function(t,e,n){"use strict";n.r(e);var r=n(4029),i=n(2644);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var u=n(0),a=n(3673),s=n.n(a),c=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);"function"==typeof s.a&&s()(c),e.default=c.exports},2644:function(t,e,n){"use strict";n.r(e);var r=n(2645),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},2645:function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o,u,a,s,c,l,f=r(n(36)),d=r(n(37)),p=r(n(3130)),_=r(n(3671)),v=r(n(3672)),h=n(1943),m={beforeRouteEnter:(0,n(1886).preload)([function(){return h.getGit.request()}]),components:{ModifyRepoDialog:p.default,InfoRepoDialog:_.default,InfoRepoDialogHasRemote:v.default},data:function(){return{currentItem:{}}},computed:{showLogsButton:function(){return this.gitList.some((function(t){return t.valid&&0!==t.branches.length}))},gitList:h.getGit.bindData()},methods:{defaultBranch:function(t){return(0,h.getDefaultBranch)(t.branches)},getList:(l=(0,d.default)(f.default.mark((function t(){return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.getGit.request();case 1:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),modifyDialog:(c=(0,d.default)(f.default.mark((function t(e){return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.currentItem=e,t.next=3,h.getInfo.request({uuid:e.uuid});case 3:this.$dialog("MODIFY_GIT_REPO_DIALOG").open();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)}),infoDialog:(s=(0,d.default)(f.default.mark((function t(e){return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.getInfo.request({uuid:e.uuid});case 2:this.currentItem=e,e.remote?this.$dialog("INFO_GIT_REPO_DIALOG_HAS_REMOTE").open():this.$dialog("INFO_GIT_REPO_DIALOG").open();case 4:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)}),fetch:(a=(0,d.default)(f.default.mark((function t(e){var n,r;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.remote){t.next=4;break}this.$notifications.info({title:this.$gettext("Git Fetch"),content:this.$gettext("Remote is not set")}),t.next=9;break;case 4:return t.next=6,h.postFetch.request({uuid:e.uuid});case 6:n=t.sent,(r=n.error)?r.notify():this.$notifications.success({title:this.$gettext("Git Fetch"),content:this.$gettext("Fetch completed")});case 9:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)}),deploy:(u=(0,d.default)(f.default.mark((function t(e){var n,r;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.postDeploy.request({uuid:e.uuid});case 2:n=t.sent,(r=n.error)?r.notify():this.$notifications.success({title:this.$gettext("Git Deploy"),content:this.$gettext("Deployment completed")});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)}),deleteRepoBefore:(o=(0,d.default)(f.default.mark((function t(e){return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.currentItem=e,this.$dialog("DELETE_ITEMS_DIALOG").open();case 2:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)}),deleteRepoAfter:(i=(0,d.default)(f.default.mark((function t(){var e,n;return f.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.deleteRepo.request({uuid:this.currentItem.uuid});case 2:e=t.sent,(n=e.error)?n.notify():(this.$notifications.success({title:this.$gettext("Delete"),content:this.$gettext("Repository deleted")}),this.getList());case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}};e.default=m},2648:function(t,e,n){"use strict";n.r(e);var r=n(2649),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},2649:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={props:{item:{type:Object,required:!0}},methods:{showKey:function(t){return"uuid"!=t&&"remote"!=t&&"webhook_url"!=t&&"keyfile"!=t&&"branches"!=t}}};e.default=r},2650:function(t,e,n){"use strict";n.r(e);var r=n(2651),i=n.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e.default=i.a},2651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={props:{item:{type:Object,required:!0}}};e.default=r},3671:function(t,e,n){"use strict";n.r(e);var r=n(4170),i=n(2648);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var u=n(0),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);e.default=a.exports},3672:function(t,e,n){"use strict";n.r(e);var r=n(4171),i=n(2650);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var u=n(0),a=Object(u.a)(i.default,r.a,r.b,!1,null,null,null);e.default=a.exports},3673:function(t,e){},4029:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",{attrs:{actions:[{label:t.$gettext("Create Repository"),visible:!0,icon:"#plus-fill",name:"user/git-version/create"}]}},[n("template",{slot:"header:buttons"},[n("ui-button-link",{attrs:{name:"user/git-version/create",theme:"primary"}},[n("translate",[t._v("Create Repository")])],1)],1),t._v(" "),n("app-page-section",[n("ui-r-table",t._b({attrs:{"disable-pagination":""},scopedSlots:t._u([{key:"col:name",fn:function(e){var r=e.item;return n("ui-link",{attrs:{name:"user/git-version/info",params:{uuid:r.uuid},disabled:!r.valid}},[t._v("\n                "+t._s(r.name)+"\n                "),r.valid?t._e():n("ui-badge",{attrs:{theme:"danger",title:t.$gettext("Repository is not valid")}})],1)}},{key:"row:actions",fn:function(e){var r=e.item;return n("ui-actions",{},[r.valid?n("ui-link",{on:{click:function(e){return t.modifyDialog(r)}}},[n("translate",[t._v("Edit")])],1):t._e(),t._v(" "),r.valid&&r.branches.length?n("ui-link",{attrs:{name:"user/git-version/logs",params:{branch:t.defaultBranch(r),uuid:r.uuid,skip:"0"}}},[n("translate",[t._v("Logs")])],1):t._e(),t._v(" "),r.valid?n("ui-link",{on:{click:function(e){return t.infoDialog(r)}}},[n("translate",[t._v("Info")])],1):t._e(),t._v(" "),r.valid&&r.remote?n("ui-link",{staticClass:"reload",on:{click:function(e){return t.fetch(r)}}},[n("translate",[t._v("Fetch")])],1):t._e(),t._v(" "),r.valid?n("ui-link",{staticClass:"download",on:{click:function(e){return t.deploy(r)}}},[n("translate",[t._v("Deploy")])],1):t._e(),t._v(" "),n("ui-link",{on:{click:function(e){return t.deleteRepoBefore(r)}}},[n("translate",[t._v("Delete")])],1)],1)}}])},"ui-r-table",{rows:t.gitList,columns:[{id:"name",label:t.$gettext("Name")},{id:"url",label:t.$gettext("Url")}],verticalLayout:t.$_Client.isPhone,isCheckable:!1},!1))],1),t._v(" "),t.currentItem.uuid?n("modify-repo-dialog",{attrs:{uuid:t.currentItem.uuid},on:{modified:t.getList}}):t._e(),t._v(" "),n("info-repo-dialog-has-remote",{attrs:{item:t.currentItem}}),t._v(" "),n("info-repo-dialog",{attrs:{item:t.currentItem}}),t._v(" "),n("ui-dialog-delete-items",{on:{"click:confirm":function(e){return t.deleteRepoAfter()}}},[t._v("\n        "+t._s(t.currentItem.name)+"\n    ")])],2)},i=[]},4170:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"INFO_GIT_REPO_DIALOG",size:"normal","no-close-btn":!0}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n        Info\n    ")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("table",t._l(t.item,(function(e,r){return n("tr",{key:r},[t.showKey(r)?[n("td",{domProps:{textContent:t._s(""+r.replace("_"," "))}}),t._v(" "),n("td",{domProps:{textContent:t._s(e)}})]:t._e(),t._v(" "),"branches"===r?[n("td",{domProps:{textContent:t._s(""+r.replace("_"," "))}}),t._v(" "),n("td",{domProps:{textContent:t._s(e.join(", "))}})]:t._e()],2)})),0)])],1)},i=[]},4171:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-dialog",{attrs:{id:"INFO_GIT_REPO_DIALOG_HAS_REMOTE",size:"normal","no-close-btn":!0}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n        Info\n    ")]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("table",t._l(t.item,(function(e,r){return n("tr",{key:r},["uuid"!=r?n("td",{domProps:{textContent:t._s(""+r.replace("_"," "))}}):t._e(),t._v(" "),"branches"==r?n("td",{domProps:{textContent:t._s(e.join(", "))}}):"uuid"!=r?n("td",{domProps:{textContent:t._s(e)}}):t._e()])})),0)])],1)},i=[]}}]);