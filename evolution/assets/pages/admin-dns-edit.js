(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[8869],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/_components/override-ttl-dialog.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=s(o("./node_modules/@babel/runtime/regenerator/index.js")),r=s(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));o("./node_modules/core-js/modules/es.object.assign.js");var a,d=o("./src/js/api/commands/dns/index.js"),l={props:{domain:{type:String,required:!0}},data:function(){return{select:"default",value:"14400"}},api:[{command:d.getAdminRecords,bind:"dns"}],computed:{ttl:function(){return this.$api.dns.ttl}},methods:{initData:function(){Object.assign(this,this.ttl)},updateTTLOptions:(a=(0,r.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.updateAdminTTL)({domain:this.domain,ttl_select:this.select,ttl:this.value,user:this.ttl.user});case 2:(0,d.getAdminRecords)({domain:this.domain});case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}};t.Z=l},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/_components/reset-zone-defaults-dialog.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n,r=s(o("./node_modules/@babel/runtime/regenerator/index.js")),a=s(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),d=o("./src/js/api/commands/dns-zone.js"),l=o("./src/js/api/commands/dns/index.js"),i={props:{domain:{type:String,required:!0}},methods:{resetDefaults:(n=(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.resetZone)({domain:this.domain});case 2:(0,l.getAdminRecords)({domain:this.domain});case 3:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}};t.Z=i},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/edit.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=o("./src/js/api/commands/dns/index.js"),r=s(o("./src/js/components/local/dns/records-table.vue")),a=s(o("./src/js/pages/admin/dns/_components/reset-zone-defaults-dialog.vue")),d=s(o("./src/js/pages/admin/dns/_components/override-ttl-dialog.vue")),l={preload:function(e){var t=e.dom;return(0,n.getAdminRecords)({domain:t})},api:[{command:n.getAdminRecords,bind:"dns"}],components:{DnsRecordsTable:r.default,ResetZoneDefaultsDialog:a.default,OverrideTtlDialog:d.default},props:{dom:{type:String,required:!0}},computed:{allowTTLEdit:function(){return this.$api.dns.options.dns_ttl&&"default"===this.$api.dns.ttl.select}},methods:{loadRows:function(){(0,n.getAdminRecords)({domain:this.dom})}}};t.Z=l},"./src/js/api/commands/dns-zone.js":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("./node_modules/core-js/modules/es.object.define-properties.js"),o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.resetZone=t.getZones=t.deleteZones=t.addZone=void 0;var n=s(o("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=s(o("./src/js/api/command/index.js"));function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){(0,n.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var l=r.default.get({id:"DNS_ZONES",url:"/CMD_DNS_ADMIN",domain:!1,schema:d(d({},r.default.PAGINATION),{},{filters:{type:Object,required:!1},domain:null}),before:function(e){var t=e.filters;if(t){var o={};t.domain&&(o.comparison1=t.searchType,o.value1=t.domain),t.local_data&&(o.comparison2="contains",o.value2=t.local_data),t.local_mail&&(o.comparison3="contains",o.value3=t.local_mail)}return{}},after:function(e){return function(t){return{info:{dns_ns:t.info.dns_ns,dns_ptr:t.info.dns_ptr},zones:e.toTable(e.mapArrayProps({local_data:e.convert.toAppBoolean,local_mail:e.convert.toAppBoolean}))(t)}}}});t.getZones=l;var i=r.default.post({url:"/CMD_DNS_ADMIN",params:{action:"create"},domain:!0,schema:{ip:r.default.REQUIRED_STRING,ns1:r.default.REQUIRED_STRING,ns2:r.default.REQUIRED_STRING,reverse:r.default.OPTIONAL_BOOL}});t.addZone=i;var u=r.default.select({url:"/CMD_DNS_ADMIN",params:{action:"delete"}});t.deleteZones=u;var c=r.default.post({url:"/CMD_DNS_ADMIN",params:{action:"select",reset:!0},domain:!0});t.resetZone=c},"./src/js/pages/admin/dns/_components/override-ttl-dialog.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return r}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/_components/override-ttl-dialog.vue?vue&type=script&lang=js&"),n=s.Z,r=(0,o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ui-dialog",{attrs:{id:"OVERRIDE_TTL_DIALOG",theme:"primary"},on:{"dialog:open":e.initData}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Override TTL\n    ")]),e._v(" "),o("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            TTL Value\n        ")]),e._v(" "),o("input-select",{attrs:{slot:"content",options:{default:e.$gettext("Default"),custom:e.$gettext("Custom")}},slot:"content",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[o("input-text",{attrs:{slot:"additions:right",number:"",disabled:"default"===e.select,value:"default"===e.select?e.ttl.default:e.value},on:{input:function(t){e.value=t}},slot:"additions:right"})],1)],1),e._v(" "),o("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:e.updateTTLOptions},slot:"buttons"},[o("translate",[e._v("Save")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/admin/dns/_components/reset-zone-defaults-dialog.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return r}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/_components/reset-zone-defaults-dialog.vue?vue&type=script&lang=js&"),n=s.Z,r=(0,o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ui-dialog",{attrs:{id:"RESET_ZONE_DEFAULTS_DIALOG",theme:"danger"}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Reset Defaults\n    ")]),e._v(" "),o("translate",{attrs:{slot:"content"},slot:"content"},[e._v("\n        Resetting the defaults will wipe any custom entries you have made.\n    ")]),e._v(" "),o("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:e.resetDefaults},slot:"buttons"},[o("translate",[e._v("Confirm")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/admin/dns/edit.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return i}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/edit.vue?vue&type=script&lang=js&"),n=s.Z,r=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=o("./src/js/pages/admin/dns/edit.vue?vue&type=custom&index=0&blockType=route"),d=o.n(a),l=(0,r.Z)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("app-page",{attrs:{actions:[{handler:e.$dialog("RESET_ZONE_DEFAULTS_DIALOG").open,label:e.$gettext("Reset Defaults"),icon:"#reload"},{handler:e.$dialog("OVERRIDE_TTL_DIALOG").open,label:e.$gettext("Override TTL"),icon:"#console",visible:!0===e.$api.dns.options.allow_ttl_override}]}},[o("translate",{attrs:{slot:"page:title","translate-params":{domain:e.$p6e.toU(e.dom)}},slot:"page:title"},[e._v("\n        Edit DNS Records for %{ domain }\n    ")]),e._v(" "),o("ui-button",{attrs:{slot:"header:buttons",theme:"danger"},on:{click:function(t){e.$dialog("RESET_ZONE_DEFAULTS_DIALOG").open()}},slot:"header:buttons"},[o("translate",[e._v("Reset Defaults")])],1),e._v(" "),e.$api.dns.options.allow_ttl_override?o("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(t){e.$dialog("OVERRIDE_TTL_DIALOG").open()}},slot:"header:buttons"},[o("translate",[e._v("Override TTL")])],1):e._e(),e._v(" "),o("app-page-section",[o("dns-records-table",e._b({attrs:{domain:e.dom,records:e.$api.dns.records,"disable-t-t-l-input":!e.allowTTLEdit,dns_ns:"0"!==e.$api.dns.options.dns_ns,dns_ptr:"0"!==e.$api.dns.options.dns_ptr,"enable-t-t-l":e.$api.dns.options.dns_ttl},on:{"rows:update":e.loadRows}},"dns-records-table",e.$api.dns.options,!1))],1),e._v(" "),e.$api.dns.options.dnssec?o("ui-link",{attrs:{slot:"bottom:links",path:"/admin/dns/"+e.dom+"/security",bullet:""},slot:"bottom:links"},[o("translate",[e._v("DNSSEC")])],1):e._e(),e._v(" "),o("reset-zone-defaults-dialog",{attrs:{domain:e.dom}}),e._v(" "),o("override-ttl-dialog",{attrs:{domain:e.dom}})],1)}),[],!1,null,null,null);"function"==typeof d()&&d()(l);var i=l.exports},"./src/js/pages/admin/dns/edit.vue?vue&type=custom&index=0&blockType=route":function(){}}]);