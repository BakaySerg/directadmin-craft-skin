(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1750:function(e,t,a){"use strict";a.r(t);var s=a(3951),n=a(2221);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);var i=a(0),l=a(3328),o=a.n(l),u=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);"function"==typeof o.a&&o()(u),t.default=u.exports},1884:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.validateIPRangeList=t.validateDomain=t.validatePassword=t.validateSubdomain=t.validateUsername=t.validateDBUser=t.validateDatabase=t.validateDNSName=t.validateMXValue=t.validateDNSValue=t.validateFTP=t.validateEmail=t.validateForwarder=void 0;var n=s(a(78)),r=s(a(98)),i=s(a(1885)),l=n.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:n.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:i.default.isValid,message:i.default.getMessage}}),o=l.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});t.validateForwarder=o;var u=l.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});t.validateEmail=u;var d=l.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});t.validateFTP=d;var c=l.extend({params:{type:"dns"},domain:!0,schema:{record:n.default.REQUIRED_STRING}}),f=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:n.default.REQUIRED_STRING}});t.validateDNSValue=f;var m=f.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});t.validateMXValue=m;var v=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:n.default.REQUIRED_STRING,value:null}});t.validateDNSName=v;var p=l.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});t.validateDatabase=p;var _=l.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});t.validateDBUser=_;var g=l.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});t.validateUsername=g;var E=l.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});t.validateSubdomain=E;var A=l.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});t.validatePassword=A;var D=l.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var t=e.value;return{value:r.default.toASCII(t)}}});t.validateDomain=D;var b=l.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});t.validateIPRangeList=b},1885:function(e,t,a){"use strict";a.r(t);var s=a(97);t.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return Object(s.toAppHtml)(e.error||"")}}},1938:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getUsersCountPerReseller=t.saveComments=t.createAdmin=t.deleteUsers=t.unsuspendUsers=t.suspendUsers=void 0;var n=s(a(78)),r=n.default.post({url:"/CMD_SELECT_USERS",notifySuccess:!0,notifyError:!0,params:{location:"CMD_ALL_USER_SHOW"},schema:{select:n.default.ROWS},blocking:!0}),i=r.extend({params:{dosuspend:!0},schema:{reason:n.default.REQUIRED_STRING},blocking:!0});t.suspendUsers=i;var l=r.extend({params:{dounsuspend:!0},blocking:!0});t.unsuspendUsers=l;var o=r.extend({params:{delete:!0,confirmed:!0},schema:{leave_dns:n.default.OPTIONAL_BOOL},blocking:!0});t.deleteUsers=o;var u=n.default.post({url:"/CMD_ACCOUNT_ADMIN",params:{action:"create"},schema:{username:n.default.REQUIRED_STRING,email:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING,passwd2:n.default.REQUIRED_STRING,notify:n.default.REQUIRED_BOOL}});t.createAdmin=u;var d=n.default.post({url:"/CMD_COMMENTS",params:{location:"CMD_SHOW_RESELLER"},schema:{user:n.default.REQUIRED_STRING,comments:n.default.REQUIRED_STRING}});t.saveComments=d;var c=n.default.post({url:"/CMD_MOVE_USERS",id:"USERS_COUNT_PER_RESELLER",response:{},after:function(e){return e.flow(e.getProp("data_list"),e.mapValues((function(e){return e.length})))}});t.getUsersCountPerReseller=c},2031:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.resetMessage=t.updateMessage=t.getMessage=void 0,a(12);var n=s(a(78)),r=function(e){var t=e.level;return"/CMD_EDIT_".concat(t.toUpperCase(),"_MESSAGE")},i={type:String,required:!0,default:"reseller",validator:function(e){return["admin","reseller"].includes(e)}},l=n.default.get({id:"MESSAGE",url:r,schema:{level:i},after:function(e){return e.mapProp("message",e.convert.toAppText)}});t.getMessage=l;var o=n.default.post({url:r,params:{save:!0},schema:{level:i,subject:n.default.REQUIRED_STRING,message:n.default.REQUIRED_STRING}});t.updateMessage=o;var u=n.default.post({url:r,params:{reset:!0},schema:{level:i}});t.resetMessage=u},2221:function(e,t,a){"use strict";a.r(t);var s=a(2222),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t.default=n.a},2222:function(e,t,a){"use strict";var s=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,i=s(a(36)),l=s(a(37)),o=a(1884),u=a(1938),d=a(2031),c=s(a(3325)),f={commands:{validateUsername:o.validateUsername,validatePassword:o.validatePassword},components:{EditAdminMessageDialog:c.default},data:function(){return{username:"",passwd:"",email:"",notify:!1}},methods:{editAdminMessage:(r=(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getMessage)({level:"admin"});case 2:this.$dialog("EDIT_ADMIN_MESSAGE_DIALOG").open();case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),createAdmin:(n=(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.createAdmin)({username:this.username,email:this.email,passwd:this.passwd,passwd2:this.passwd,notify:this.notify});case 2:e.sent&&this.$router.push({name:"admin/users/admins"});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}};t.default=f},2223:function(e,t,a){"use strict";a.r(t);var s=a(2224),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t.default=n.a},2224:function(e,t,a){"use strict";a(16),a(14),a(23),a(25),a(18),a(6);var s=a(1),n=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(a(36)),i=s(a(37));a(49);var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var a=o(t);if(a&&a.has(e))return a.get(e);var s={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=r?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(s,i,l):s[i]=e[i]}s.default=e,a&&a.set(e,s);return s}(a(2031));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(o=function(e){return e?a:t})(e)}var u,d,c={api:[{command:l.getMessage,bind:"message"}],data:function(){return{message:"",subject:""}},methods:{loadData:function(){Object.assign(this,this.$api.message)},updateMessage:(d=(0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.updateMessage({level:"admin",subject:this.subject,message:this.message});case 1:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),resetMessage:(u=(0,i.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.resetMessage({level:"admin"});case 2:return e.t0=Object,e.t1=this,e.next=6,l.getMessage({level:"admin"});case 6:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2);case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})}};t.default=c},3054:function(e,t,a){var s=a(3327);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,a(4).default)("108247b9",s,!0,{})},3325:function(e,t,a){"use strict";a.r(t);var s=a(4105),n=a(2223);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a(3326);var i=a(0),l=Object(i.a)(n.default,s.a,s.b,!1,null,"cdb6212e",null);t.default=l.exports},3326:function(e,t,a){"use strict";a(3054)},3327:function(e,t,a){},3328:function(e,t){},3951:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-page",{attrs:{actions:[{label:e.$gettext("Edit Admin Message"),icon:"#pencil",handler:e.editAdminMessage}]}},[a("ui-button",{attrs:{slot:"header:buttons",theme:"safe"},on:{click:e.editAdminMessage},slot:"header:buttons"},[a("translate",[e._v("Edit Admin Message")])],1),e._v(" "),a("app-page-section",[a("ui-form-element",{attrs:{group:"createAdmin",validators:{required:!0,api:e.$commands.validateUsername}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username\n            ")]),e._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),e._v(" "),a("ui-form-element",{attrs:{group:"createAdmin",validators:{required:!0,regex:e.regexps.email}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                E-mail\n            ")]),e._v(" "),a("input-text",{attrs:{slot:"content"},slot:"content",model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[e._v("\n                Should be valid email\n            ")])],1),e._v(" "),a("ui-form-element",{attrs:{group:"createAdmin",validators:{required:!0,api:e.$commands.validatePassword}}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Enter Password\n            ")]),e._v(" "),a("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.passwd,callback:function(t){e.passwd=t},expression:"passwd"}})],1),e._v(" "),a("ui-form-element",[a("span",{attrs:{slot:"title"},slot:"title"}),e._v(" "),a("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.notify,callback:function(t){e.notify=t},expression:"notify"}},[a("translate",[e._v("Send E-mail Notification")])],1)],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"footer:buttons",theme:"safe","validate-group":"createAdmin"},on:{click:e.createAdmin},slot:"footer:buttons"},[a("translate",[e._v("Create")])],1),e._v(" "),a("edit-admin-message-dialog")],1)},n=[]},4105:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return n}));var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ui-dialog",{attrs:{id:"EDIT_ADMIN_MESSAGE_DIALOG",size:"normal",noCloseBtn:""},on:{"dialog:open":e.loadData}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Edit E-mail Message")]),e._v(" "),a("template",{slot:"content"},[a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Subject")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.subject,expression:"subject"}],attrs:{slot:"content",type:"text"},domProps:{value:e.subject},on:{input:function(t){t.target.composing||(e.subject=t.target.value)}},slot:"content"})],1),e._v(" "),a("ui-form-element",{attrs:{vertical:""}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Message")]),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{slot:"content"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}},slot:"content"})],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"safe"},on:{click:e.updateMessage},slot:"buttons"},[a("translate",[e._v("Save")])],1),e._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:e.resetMessage},slot:"buttons"},[a("translate",[e._v("Reset")])],1)],2)},n=[]}}]);