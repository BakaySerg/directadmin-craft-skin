(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[6053],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var a=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.keys.js");var n=t("./src/js/vue/helpers.js"),o=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=r(s);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(t("./node_modules/ramda/src/index.js"));function r(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(r=function(e){return e?t:s})(e)}var l={props:{domains:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{showAll:!1}},computed:{showDomainLimit:(0,n.options)("tables/userDomainsLimit"),showPointers:function(){var e=this.$_session.showPointersInList;return void 0===e?1:e},shownDomainNumber:function(){return Number(this.showDomainLimit)},showExpandButton:function(){return Object.keys(this.domains).length>this.shownDomainNumber},showAllDomains:function(){return this.showAll||Object.keys(this.domains).length===this.shownDomainNumber+1},shownDomains:function(){if(this.showAllDomains)return this.domains;var e=o.slice(0,this.shownDomainNumber,o.keys(this.domains));return o.pick(e,this.domains)}}};s.Z=l},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/users/_components/change-ip-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,t("./node_modules/core-js/modules/es.object.keys.js");var a={api:[{command:t("./src/js/api/commands/reseller/users/index.js").getUsers,bind:{"response.ips":"ips"}}],data:function(){return{ip:""}},methods:{onOpen:function(){this.ip=Object.keys(this.$api.ips.options).shift()}}};s.Z=a},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/users/_components/change-package-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,t("./node_modules/core-js/modules/es.object.values.js");var a={api:[{command:t("./src/js/api/commands/reseller/users/index.js").getUsers,bind:{"response.packages":"packages"}}],data:function(){return{package:""}},methods:{onOpen:function(){this.package=Object.values(this.$api.packages.options).shift()}}};s.Z=a},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/users/index.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var n=a(t("./node_modules/@babel/runtime/helpers/defineProperty.js"));t("./node_modules/core-js/modules/es.object.values.js");var o=t("./src/js/api/commands/reseller/users/index.js"),r=t("./src/js/api/commands/reseller/users/actions.js"),l=a(t("./src/js/components/local/create-message-dialog.vue")),u=a(t("./src/js/components/local/suspend-user-dialog.vue")),i=a(t("./src/js/components/local/user-domains.vue")),d=a(t("./src/js/pages/reseller/users/_components/change-package-dialog.vue")),c=a(t("./src/js/pages/reseller/users/_components/change-ip-dialog.vue")),p=a(t("./src/js/components/local/change-user-password-dialog.vue"));function m(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,a)}return t}var _={preload:o.getUsers,commands:{getUsers:o.getUsers},api:[{command:o.getUsers,bind:{"response.packages":"packages","response.ips":"ips","response.users.columns":"usersColumns","response.reasons.options":"reasons"}}],components:{CreateMessageDialog:l.default,SuspendUserDialog:u.default,UserDomains:i.default,ChangePackageDialog:d.default,ChangeIpDialog:c.default,ChangePasswordDialog:p.default},data:function(){return{select:[]}},computed:{reasons:function(){return u.default.$exports.reasons.call(this,this.$api.reasons)},massPackageAssignment:function(){return Object.values(this.$api.packages.options).length},massIpAssignment:function(){return Object.values(this.$api.ips.options).length},hasDateCreatedColumn:function(){return void 0!==this.$api.usersColumns.date_created},hasMysqlColumn:function(){return void 0!==this.$api.usersColumns.mysql}},methods:{deleteUsers:function(){(0,r.deleteUsers)({select:this.select}).then(this.$reloadApiTable)},suspendUsers:function(e){(0,r.suspendUsers)(function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?m(Object(t),!0).forEach((function(s){(0,n.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({select:this.select},e)).then(this.$reloadApiTable)},unsuspendUsers:function(){(0,r.unsuspendUsers)({select:this.select}).then(this.$reloadApiTable)},changePackage:function(e){(0,r.changePackage)({package:e,select:this.select}).then(this.$reloadApiTable)},changeIp:function(e){(0,r.changeIp)({ip:e,select:this.select}).then(this.$reloadApiTable)},loginAs:function(e){this.$store.dispatch("app/LOGIN_AS",{user:e,path:this.$route.path,router:this.$router})},changePassword:function(e){this.$refs.cpd.show(e)}}};s.Z=_},"./src/js/api/commands/reseller/users/actions.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.unsuspendUsers=s.suspendUsers=s.sendWelcomeEmail=s.saveSkin=s.savePerUserLimit=s.savePackage=s.saveNameservers=s.saveName=s.saveLanguage=s.saveIP=s.saveEmail=s.saveComments=s.modifyUserCustomize=s.modifyMultiIP=s.increaseBandwidth=s.deleteUsers=s.deleteMultiIPs=s.createUser=s.changePackage=s.changeIp=void 0;var n=a(t("./src/js/api/command/index.js")),o=n.default.post({url:"/CMD_SELECT_USERS",notifySuccess:!0,notifyError:!0,params:{location:"CMD_USER_SHOW"},schema:{select:n.default.ROWS},blocking:!0}),r=o.extend({params:{dosuspend:!0},schema:{reason:n.default.REQUIRED_STRING}});s.suspendUsers=r;var l=o.extend({params:{dounsuspend:!0}});s.unsuspendUsers=l;var u=o.extend({params:{delete:!0,confirmed:!0},schema:{leave_dns:n.default.OPTIONAL_BOOL}});s.deleteUsers=u;var i=o.extend({params:{dopackage:!0},schema:{package:n.default.OPTIONAL_STRING}});s.changePackage=i;var d=o.extend({params:{doip:!0},schema:{ip:n.default.OPTIONAL_STRING}});s.changeIp=d;var c=n.default.post({url:"/CMD_ACCOUNT_USER",params:{add:!0,action:"create"},schema:{username:n.default.REQUIRED_STRING,email:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING,passwd2:n.default.REQUIRED_STRING,domain:n.default.REQUIRED_STRING,package:n.default.OPTIONAL_STRING,ip:n.default.REQUIRED_STRING,notify:n.default.REQUIRED_BOOL}});s.createUser=c;var p=n.default.post({url:"/CMD_COMMENTS",params:{location:"CMD_USER_SHOW"},schema:{user:n.default.REQUIRED_STRING,comments:n.default.REQUIRED_STRING}});s.saveComments=p;var m=n.default.post({url:"/CMD_RESEND_EMAIL",schema:{user:n.default.REQUIRED_STRING,email:n.default.REQUIRED_STRING,newpass:n.default.REQUIRED_BOOL}});s.sendWelcomeEmail=m;var _=n.default.post({url:"/CMD_MODIFY_USER",params:{additional_bw:!0,action:"single",json:null},schema:{user:n.default.REQUIRED_STRING,additional_bandwidth:n.default.REQUIRED_STRING}});s.increaseBandwidth=_;var f=n.default.post({url:"/CMD_MODIFY_USER",params:{json:!0,action:"single"},schema:{user:n.default.REQUIRED_STRING}}),g=f.extend({params:{skin:!0},schema:{skinvalue:n.default.REQUIRED_STRING}});s.saveSkin=g;var v=f.extend({params:{language:!0},schema:{lvalue:n.default.REQUIRED_STRING}});s.saveLanguage=v;var j=f.extend({params:{email:!0},schema:{evalue:n.default.REQUIRED_STRING}});s.saveEmail=j;var b=f.extend({params:{name:!0},schema:{nvalue:n.default.REQUIRED_STRING}});s.saveName=b;var h=f.extend({params:{ns:!0},schema:{ns1:n.default.REQUIRED_STRING,ns2:n.default.REQUIRED_STRING}});s.saveNameservers=h;var O=f.extend({params:{max_per_email_send_limit:!0},schema:{max_per_email_send_limit_value:n.default.REQUIRED_STRING}});s.savePerUserLimit=O;var R=n.default.post({url:"/CMD_MODIFY_USER",params:{action:"package"},schema:{user:n.default.REQUIRED_STRING,package:n.default.REQUIRED_STRING}});s.savePackage=R;var I=n.default.post({url:"/CMD_MODIFY_USER",params:{action:"ip"},schema:{user:n.default.REQUIRED_STRING,ip:n.default.REQUIRED_STRING}});s.saveIP=I;var y=n.default.post({url:"/CMD_MODIFY_USER",params:{action:"multi_ip"},schema:{user:n.default.REQUIRED_STRING,extra_ip:n.default.REQUIRED_STRING}});s.modifyMultiIP=y;var S=n.default.select({url:"/CMD_MODIFY_USER",params:{action:"multi_ip_delete",delete:!0},schema:{user:n.default.REQUIRED_STRING,removedns:n.default.REQUIRED_BOOL}});s.deleteMultiIPs=S;var E=n.default.post({url:"/CMD_MODIFY_USER",params:{action:"customize",bytes:!0},body:{user:n.default.REQUIRED_STRING,bandwidth:n.default.OPTIONAL_STRING,ubandwidth:n.default.OPTIONAL_BOOL,quota:n.default.OPTIONAL_STRING,uquota:n.default.OPTIONAL_BOOL,inode:n.default.OPTIONAL_STRING,uinode:n.default.OPTIONAL_BOOL,vdomains:n.default.OPTIONAL_STRING,uvdomains:n.default.OPTIONAL_BOOL,nsubdomains:n.default.OPTIONAL_STRING,unsubdomains:n.default.OPTIONAL_BOOL,nemails:n.default.OPTIONAL_STRING,unemails:n.default.OPTIONAL_BOOL,nemailf:n.default.OPTIONAL_STRING,unemailf:n.default.OPTIONAL_BOOL,nemailml:n.default.OPTIONAL_STRING,unemailml:n.default.OPTIONAL_BOOL,nemailr:n.default.OPTIONAL_STRING,unemailr:n.default.OPTIONAL_BOOL,mysql:n.default.OPTIONAL_STRING,umysql:n.default.OPTIONAL_BOOL,domainptr:n.default.OPTIONAL_STRING,udomainptr:n.default.OPTIONAL_BOOL,ftp:n.default.OPTIONAL_STRING,uftp:n.default.OPTIONAL_BOOL,aftp:n.default.OPTIONAL_STRING,cgi:n.default.OPTIONAL_STRING,git:n.default.OPTIONAL_STRING,php:n.default.OPTIONAL_STRING,spam:n.default.OPTIONAL_STRING,catchall:n.default.OPTIONAL_STRING,ssl:n.default.OPTIONAL_STRING,ssh:n.default.OPTIONAL_STRING,cron:n.default.OPTIONAL_STRING,sysinfo:n.default.OPTIONAL_STRING,login_keys:n.default.OPTIONAL_STRING,dnscontrol:n.default.OPTIONAL_STRING,suspend_at_limit:n.default.OPTIONAL_STRING,skin:n.default.OPTIONAL_STRING,ns1:n.default.REQUIRED_STRING,ns2:n.default.REQUIRED_STRING}});s.modifyUserCustomize=E},"./src/js/api/commands/reseller/users/index.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"__esModule",{value:!0}),s.getUsersCreatedDate=s.getUsers=s.getUser=s.getModifyUserData=void 0,t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.find.js"),t("./node_modules/core-js/modules/es.object.values.js"),t("./node_modules/core-js/modules/es.array.reduce.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.keys.js");var o=a(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=a(t("./src/js/api/command/index.js")),l=d(t("./src/js/api/commands/reseller/users/$processors.ts")),u=d(t("./node_modules/ramda/src/index.js"));function i(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(i=function(e){return e?t:s})(e)}function d(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=i(s);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var l=o?Object.getOwnPropertyDescriptor(e,r):null;l&&(l.get||l.set)?Object.defineProperty(a,r,l):a[r]=e[r]}return a.default=e,t&&t.set(e,a),a}function c(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,a)}return t}function p(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?c(Object(t),!0).forEach((function(s){(0,o.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var m=r.default.get({id:"USERS",url:"/CMD_USER_SHOW",params:{bytes:!0},pagination:!0,mapResponse:l.getUsers});s.getUsers=m;var _=r.default.get({id:"USER_DATA",url:"/CMD_SHOW_USER",params:{bytes:!0},schema:{user:r.default.REQUIRED_STRING},mapResponse:l.getUser});s.getUser=_;var f=r.default.get({id:"USER_MODIFY_DATA",url:"/CMD_MODIFY_USER",params:{bytes:!0},schema:{user:r.default.REQUIRED_STRING},after:function(e){return e.flow(e.deleteProp("additional_bandwidth"),e.wrap("data"),e.moveProp({"data.have_inode":"have_inode","data.ips":"ips","data.multi_ip_enabled":"multi_ip_enabled","data.multi_ip_select":"multi_ip_select","data.multi_ip_table":"multi_ip_table","data.multiple_ips":"multiple_ips","data.ns1":"ns1","data.ns2":"ns2","data.skin":"skin","data.packages":"packages","data.custom_items":"customItems","data.feature_sets":"featureSets","data.plugins":"pluginRules","data.cgroup":"cgroup"}),(function(e){return p(p({},e),{},{cgroup:e.cgroup||{}})}),e.mapProps({customItems:e.flow(e.toArray,e.mapArray((function(s){var t={type:s.type,description:s.desc,label:s.string,name:s.name};switch(s.type){case"checkbox":return p(p({},t),{},{value:"yes"===s.checked});case"text":return p(p({},t),{},{value:s.value});case"listbox":return p(p({},t),{},{type:"select",value:Object.values(s.select).find((function(e){return e.selected})).value,options:e.reduce((function(e,s){return p(p({},e),{},(0,o.default)({},s.value,s.text))}))(s.select)});default:return!1}})),(function(e){return e.filter((function(e){return!!e}))})),have_inode:e.convert.toAppBoolean,multiple_ips:e.convert.toAppBoolean,multi_ip_enabled:e.isEqual("1"),multi_ip_select:e.toSelect,skin:e.toSelect,ips:e.toSelect,packages:e.toSelect,multi_ip_table:e.flow(e.deleteProp("info"),e.toArray),features:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("checkbox"))),e.mapValues(e.flow(e.getProp("checked"),e.convert.toAppBoolean)))),limits:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("unlimited"))),e.mapValues((function(s){var t=e.convert.toAppLimit(s.value)===1/0;return{value:t?"":s.value,unlimited:t}})))),featureSets:function(s){return{options:e.mapValues(e.getProp("name"))(s),values:e.flow(e.filter((function(e){return"yes"===e.checked})),Object.keys)(s)}},cgroup:function(e){return u.values(u.mergeDeepRight(e.options||{},e.saved||{}))}}),e.deleteProp("data"))}});s.getModifyUserData=f;var g=r.default.get({id:"ALL_USERS_DATE_CREATED",url:"/CMD_API_SHOW_USERS",noQueryArg:!0,params:{get_variable:"date_created",json:null},accept:"plain",response:{},after:function(e){return function(e){return u.pipe(u.split("&"),u.map(u.pipe(u.split("="),u.map(u.pipe(window.decodeURIComponent,u.trim)))),u.fromPairs,u.map((function(e){return new Date(e)})))(e)}}});s.getUsersCreatedDate=g},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&":function(){},"./src/js/api/commands/reseller/users/$processors.ts":function(e,s,t){"use strict";t.r(s),t.d(s,{processUserRow:function(){return p},getUsers:function(){return m},getUserDomains:function(){return _},getUserComments:function(){return f},getTodayUsage:function(){return g},getSkinInfo:function(){return v},getFeatures:function(){return b},getUsage:function(){return O},getUserData:function(){return R},getCustomItems:function(){return I},getEmailLimit:function(){return y},getUser:function(){return S}});var a=t("./node_modules/ramda/es/index.js"),n=t("./src/js/api/commands/converters/index.ts"),o=t("./src/js/api/commands/types.ts"),r=t("./node_modules/monet/dist/monet.js"),l=t("./src/js/api/commands/utils/transduce.ts"),u=t("./src/js/modules/utils/functional.js"),i=t("./src/js/api/converters.js"),d=t("./src/js/api/commands/converters/customItems.ts"),c=function(){return c=Object.assign||function(e){for(var s,t=1,a=arguments.length;t<a;t++)for(var n in s=arguments[t])Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);return e},c.apply(this,arguments)},p=function(e){var s,t,r,l,u="string"==typeof e.bandwidth||!e.bandwidth.usage,d={usage:0,limit:1/0,status:o.H.Normal};return{username:e.username,corrupted:u,pending:u&&"string"!=typeof e.bandwidth,suspended:!u&&(0,n.toBoolean)(e.suspended.value),reason:u?"none":e.suspended.reason||"none",bandwidth:u?d:(0,n.toUsage)(e.bandwidth),quota:u?d:(0,n.toUsage)(e.quota),vdomains:u?d:(0,n.toUsage)(e.vdomains),domains:e.domains,ip:e.ip.length?e.ip:"",package:e.package||"",date_created:e.date_created?(0,i.toAppDate)(e.date_created):"",mysql:e.mysql?(s=e.mysql,t=s.split("/").map(a.trim),r=t[0],l=t[1],(0,n.toUsage)({usage:r,limit:l})):""}},m={users:a.pipe(a.omit(["reasons","packages","ips"]),(0,n.toTable)(p)),packages:a.pipe(a.prop("packages"),a.defaultTo([]),u.toSelect),ips:a.pipe(a.prop("ips"),a.defaultTo([]),u.toSelect),reasons:a.pipe(a.prop("reasons"),u.toSelect)},_=a.pipe(a.prop("domains"),(0,n.toTable)(a.pipe((function(e){return c(c({},e),{pointers:e.settings.domainptr||{}})}),a.evolve({bandwidth:a.evolve({usage:n.toNumber}),quota:a.evolve({usage:n.toNumber}),log_usage:n.toNumber,nsubdomains:n.toNumber,suspended:n.toBoolean,settings:a.mapObjIndexed(n.toBoolean),pointers:function(e){return Object.entries(e).map((function(e){return{ptr:e[0],type:e[1].type}}))}})))),f=a.pipe(a.prop("comments"),n.toAppText),g=function(e){var s=r.Maybe.Some(e).map(a.prop("stats")).map(a.values).flatMap((function(e){return r.Maybe.fromNull(a.find(a.propEq("setting","email_deliveries_outgoing_today"),e))})).map(a.prop("usage")).map(n.toNumber).orSome(0);return{canReset:"1"===e.reseller_can_reset_email_count,sent:s}},v=function(e){return{custom:"1"===e.is_reseller_skin,path:e.reseller_skin||"",owner:e.reseller_skin_owner||""}},j=function(e){var s=e.usage;return a.includes(s,["ON","OFF"])},b=a.pipe(a.prop("stats"),a.values,(0,l.mergeTransduce)([(0,l.filterReducer)(j),(0,l.mapReducer)((function(e){var s,t=e.usage;return(s={})[e.setting]=(0,n.toBoolean)(t),s}))])),h=function(e){var s=e.setting;e.usage;return a.includes(s,["bandwidth","quota","email_quota","db_quota","inode","vdomains","nsubdomains","nemails","nemailf","nemailml","nemailr","email_deliveries_outgoing","email_deliveries_incoming","mysql","domainptr","ftp"])},O=a.pipe(a.prop("stats"),a.values,(0,l.mergeTransduce)([(0,l.filterReducer)(a.prop("usage")),(0,l.filterReducer)(h),(0,l.mapReducer)((function(e){var s,t=e.setting,a=e.usage,o=e.max_usage;return(s={})[t]=(0,n.toUsage)({usage:a,limit:"unlimited"===o?1/0:o}),s}))])),R=function(e){var s=e.stats;return a.pipe(a.concat([{setting:"create_user_home_override_error",usage:r.Maybe.fromNull(s.create_user_home_override).map(a.prop("max_usage")).orSome(""),max_usage:""},{setting:"email_deliveries_outgoing_today",usage:"0",max_usage:"0"}]),(0,l.mergeTransduce)([(0,l.filterReducer)(a.prop("usage")),(0,l.filterReducer)(a.complement(h)),(0,l.filterReducer)(a.complement(j)),(0,l.mapReducer)((function(e){return"suspended_reason"===e.setting?c(c({},e),{extra:e.extra||{details:""}}):e})),(0,l.mapReducer)((function(e){var s;return(s={})[e.setting]=e.extra?{value:e.usage,extra:e.extra}:e.usage,s}))]),a.evolve({suspended:n.toBoolean,skin:u.toSelect,language:u.toSelect,suspend_date:i.toAppDate}))(a.values(s))},I=function(e){var s=e.custom_items,t=void 0===s?{}:s;return a.map(d.fromObject,t)},y=function(e){var s=Object.values(e.stats).find((function(e){return"max_per_email_send_limit"===e.setting}));return s?{value:s.usage,email_limit:s.max_usage}:{value:"",email_limit:""}},S={domains:_,comments:f,todayUsage:g,skinInfo:v,stats:{features:b,usage:O,userData:R},email:function(e){return e.user_email},customItems:I,emailLimit:y,cgroup:function(e){return e.cgroup&&e.cgroup.saved||{}}}},"./src/js/components/local/user-domains.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=script&lang=js&"),n=a.Z,o=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&"),(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{class:{"scrollbar:primary":!e.$_Client.isPhone},style:{"overflow-x":"auto","min-width":e.$_Client.isPhone?"auto":"15rem"}},[e._l(e.shownDomains,(function(s,a){return t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],key:a},[t("a",{attrs:{href:"http://"+a,target:"_blank"}},[e._v("\n            "+e._s(e._f("p6eUnicode")(a))+"\n        ")]),e._v("\n        Â \n        "),s.length&&0!==e.showPointers?t("ui-tooltip",[t("translate",{staticClass:"txt:bold",attrs:{slot:"trigger"},slot:"trigger"},[e._v("\n                (pointers)\n            ")]),e._v(" "),t(1===e.showPointers?"ul":"ol",{tag:"component",staticClass:"wrap:nowrap user-domains--pointers"},e._l(s,(function(s){return t("li",{key:s},[t("a",{attrs:{href:"http://"+s,target:"_blank"}},[e._v("\n                        "+e._s(e._f("p6eUnicode")(s))+"\n                    ")])])})),0)],1):e._e()],1)})),e._v(" "),e.showExpandButton&&!e.showAllDomains?t("ui-button",{attrs:{theme:"light",size:"small"},on:{click:function(s){e.showAll=!0}}},[t("translate",[e._v("show all...")]),e._v(" "),t("ui-icon",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{id:"caret-down",size:"small"}})],1):e._e()],2)}),[],!1,null,null,null).exports)},"./src/js/pages/reseller/users/_components/change-ip-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/users/_components/change-ip-dialog.vue?vue&type=script&lang=js&"),n=a.Z,o=(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",{attrs:{id:"CHANGE_IP_DIALOG"},on:{"dialog:open":e.onOpen}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change IP\n    ")]),e._v(" "),t("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            IP\n        ")]),e._v(" "),t("input-select",{attrs:{slot:"content",options:e.$api.ips.options},slot:"content",model:{value:e.ip,callback:function(s){e.ip=s},expression:"ip"}})],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"safe"},on:{click:function(s){return e.$emit("setip",e.ip)}},slot:"buttons"},[t("translate",[e._v("Change")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/reseller/users/_components/change-package-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/users/_components/change-package-dialog.vue?vue&type=script&lang=js&"),n=a.Z,o=(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",{attrs:{id:"CHANGE_PACKAGE_DIALOG"},on:{"dialog:open":e.onOpen}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change Package\n    ")]),e._v(" "),t("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Package\n        ")]),e._v(" "),t("input-select",{attrs:{slot:"content",options:e.$api.packages.options},slot:"content",model:{value:e.package,callback:function(s){e.package=s},expression:"package"}})],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"safe"},on:{click:function(s){return e.$emit("setpackage",e.package)}},slot:"buttons"},[t("translate",[e._v("Change")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/reseller/users/index.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return i}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/users/index.vue?vue&type=script&lang=js&"),n=a.Z,o=t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=t("./src/js/pages/reseller/users/index.vue?vue&type=custom&index=0&blockType=route"),l=t.n(r),u=(0,o.Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{actions:[{name:"reseller/users/create",icon:"#plus-fill",label:e.$gettext("Create User"),theme:"primary"},{name:"reseller/users/profile",icon:"#pencil",label:e.$gettext("Modify Your Own User data")}]}},[t("ui-button-link",{attrs:{slot:"header:buttons",theme:"primary",name:"reseller/users/create"},slot:"header:buttons"},[t("translate",[e._v("Create User")])],1),e._v(" "),"standard2021"!==e.$_layout?t("ui-link",{attrs:{slot:"bottom:links",bullet:"",name:"reseller/users/profile"},slot:"bottom:links"},[t("translate",[e._v("Modify Your Own User data")])],1):e._e(),e._v(" "),t("app-page-section",[t("ui-api-table",e._b({on:{"action:message":function(s){e.$dialog("CREATE_MESSAGE_DIALOG").open()},"action:suspend":function(s){e.$dialog("SUSPEND_USER_DIALOG").open()},"action:unsuspend":e.unsuspendUsers,"action:delete":function(s){e.$dialog("DELETE_ITEMS_DIALOG").open()},"action:package":function(s){e.$dialog("CHANGE_PACKAGE_DIALOG").open()},"action:ip":function(s){e.$dialog("CHANGE_IP_DIALOG").open()}},scopedSlots:e._u([{key:"col:username",fn:function(s){var a=s.username,n=s.suspended,o=s.reason;return t("div",{staticClass:"wrap:nowrap"},[t("ui-link",{attrs:{name:"reseller/users/view",params:{user:a}}},[e._v("\n                    "+e._s(a)+"\n                ")]),e._v(" "),n?t("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[t("translate",{attrs:{"translate-params":{reason:e.reasons[o]}}},[e._v("\n                        Suspended: %{ reason }\n                    ")])],1):e._e()],1)}},{key:"col:bandwidth",fn:function(s){var a=s.bandwidth,n=s.corrupted,o=s.pending;return[n?o?t("ui-badge",{attrs:{theme:"safe"}},[t("translate",[e._v("Creation in Progress")])],1):t("ui-badge",{attrs:{theme:"danger"}},[t("translate",[e._v("Error Reading File")])],1):t("ui-limited-usage",e._b({},"ui-limited-usage",a,!1))]}},{key:"col:quota",fn:function(s){var a=s.quota;return[s.corrupted?t("span"):t("ui-limited-usage",e._b({},"ui-limited-usage",a,!1))]}},{key:"col:vdomains",fn:function(s){var a=s.vdomains;return[s.corrupted?t("span"):t("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",a,!1))]}},{key:"col:mysql",fn:function(s){var a=s.mysql;return[!s.corrupted&&a?t("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",a,!1)):t("span")]}},{key:"col:ip",fn:function(s){var a=s.ip;return[e._l(a,(function(s){return t("p",{directives:[{name:"margin",rawName:"v-margin",value:0,expression:"0"}],key:s},[e._v("\n                    "+e._s(s)+"\n                ")])})),e._v(" "),a.length?e._e():t("span")]}},{key:"col:domains",fn:function(s){var a=s.domains;return[a?t("user-domains",e._b({},"user-domains",{domains:a},!1)):t("span")]}},{key:"col:date_created",fn:function(s){var a=s.date_created;return[a?t("span",[e._v(e._s(e._f("date")(a)))]):t("span")]}},{key:"row:actions",fn:function(s){var a=s.username,n=s.suspended;return t("ui-actions",{},[t("ui-link",{on:{click:function(s){e.select=[a],e.$dialog("CREATE_MESSAGE_DIALOG").open()}}},[t("translate",[e._v("Send a Message")])],1),e._v(" "),n?e._e():t("ui-link",{on:{click:function(s){e.select=[a],e.$dialog("SUSPEND_USER_DIALOG").open()}}},[t("translate",[e._v("Suspend")])],1),e._v(" "),n?t("ui-link",{on:{click:function(s){e.select=[a],e.unsuspendUsers()}}},[t("translate",[e._v("Unsuspend")])],1):e._e(),e._v(" "),t("ui-link",{on:{click:function(s){return e.loginAs(a)}}},[t("translate",{attrs:{"translate-params":{username:a}}},[e._v("\n                        Login as %{ username }\n                    ")])],1),e._v(" "),t("ui-link",{on:{click:function(s){return e.changePassword(a)}}},[t("translate",[e._v("Change password")])],1),e._v(" "),t("ui-link",{on:{click:function(s){e.select=[a],e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[t("translate",[e._v("Remove")])],1)],1)}},{key:"col:package",fn:function(s){var a=s.item;return a.package?t("ui-link",{attrs:{name:"reseller/user-packages/view",params:{p:a.package}}},[e._v("\n                "+e._s(a.package)+"\n            ")]):e._e()}}],null,!0),model:{value:e.select,callback:function(s){e.select=s},expression:"select"}},"ui-api-table",{command:e.$commands.getUsers,rowID:"username",property:"users",columns:{username:{label:e.$gettext("Username"),grow:!0,searchable:!0},bandwidth:{label:e.$gettext("Bandwidth"),getClass:function(e){return!e.corrupted&&e.bandwidth.status?"--usage:"+e.bandwidth.status:""}},quota:{label:e.$gettext("Disk Usage"),getClass:function(e){return!e.corrupted&&e.bandwidth.status?"--usage:"+e.quota.status:""}},vdomains:e.$gettext("# of domains"),domains:{searchable:!0,label:e.$gettext("Domains")},ip:{label:e.$gettext("IP(s)"),searchable:!0},suspended:{label:e.$gettext("Suspended"),hide:!0,searchable:{type:"select",options:{Yes:e.$gettext("Yes"),No:e.$gettext("No")}}},package:{label:e.$gettext("Package"),searchable:!0},date_created:{label:e.$gettext("Date Created"),visible:!1,hide:!e.hasDateCreatedColumn},mysql:{label:e.$gettext("Databases"),visible:!1,hide:!e.hasMysqlColumn}},actions:{message:e.$gettext("Send a Message"),suspend:e.$gettext("Suspend"),unsuspend:e.$gettext("Unsuspend"),package:{label:e.$gettext("Change Package"),disabled:!e.massPackageAssignment},ip:{label:e.$gettext("Change IP"),disabled:!e.massIpAssignment},delete:e.$gettext("Delete")},verticalLayout:e.$_Client.isPhone},!1))],1),e._v(" "),t("create-message-dialog",{attrs:{users:e.select}}),e._v(" "),t("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("user","users",e.select.length)},on:{"click:confirm":e.deleteUsers}}),e._v(" "),t("suspend-user-dialog",{attrs:{"api-reasons":e.$api.reasons},on:{suspend:e.suspendUsers}}),e._v(" "),e.massPackageAssignment?t("change-package-dialog",{on:{setpackage:e.changePackage}}):e._e(),e._v(" "),e.massIpAssignment?t("change-ip-dialog",{on:{setip:e.changeIp}}):e._e(),e._v(" "),t("change-password-dialog",{ref:"cpd"})],1)}),[],!1,null,null,null);"function"==typeof l()&&l()(u);var i=u.exports},"./src/js/pages/reseller/users/index.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){var a=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("40e09376",a,!0,{})}}]);