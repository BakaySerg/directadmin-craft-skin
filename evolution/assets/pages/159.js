(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{1812:function(e,t,a){"use strict";a.r(t);var n=a(4010),r=a(2586);for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var s=a(0),i=a(3629),l=a.n(i),u=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);"function"==typeof l.a&&l()(u),t.default=u.exports},2586:function(e,t,a){"use strict";a.r(t);var n=a(2587),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t.default=r.a},2587:function(e,t,a){"use strict";a(16),a(14),a(23),a(25),a(18),a(6);var n=a(1),r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(a(36)),s=n(a(37));a(34),a(12),a(15),a(24),a(55),a(5),a(21),a(61),a(86);var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var a=l(t);if(a&&a.has(e))return a.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(n,s,i):n[s]=e[s]}n.default=e,a&&a.set(e,n);return n}(a(3628));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,a=new WeakMap;return(l=function(e){return e?a:t})(e)}var u,d={preload:i.getSettings,api:[{command:i.getSettings,bind:"settings"}],data:function(){return{mode:":fail:",value:""}},computed:{addresses:function(){var e=this;return this.$api.settings.addresses.map((function(t){var a=t.value;return a.includes("@")?e.$p6e.email2unicode(a):"".concat(a,"@").concat(e.$domainUnicode)}))},requestDataValue:function(){return this.getEmails(this.value,this.$p6e.email2ascii)}},watch:{$domain:i.getSettings},created:function(){this.mode=this.$api.settings.mode,this.value=this.getEmails(this.$api.settings.value,this.$p6e.email2unicode)},methods:{saveOptions:(u=(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.updateSettings({catch:this.mode,value:this.requestDataValue});case 2:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),getEmails:function(e,t){return e.includes(",")?e.split(",").map((function(e){return e.trim()})).filter(Boolean).map(t).join(","):e}}};t.default=d},3628:function(e,t,a){"use strict";a(7),a(10),a(6),a(8),a(11);var n=a(1);Object.defineProperty(t,"__esModule",{value:!0}),t.updateSettings=t.getSettings=void 0,a(12),a(34),a(5);var r=n(a(2)),o=n(a(78));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l=o.default.get({id:"CATCHALL_SETTINGS",url:"/CMD_EMAIL_CATCH_ALL",domain:!0,after:function(e){return e.flow(e.moveProp({poplist:"addresses",value:"mode"}),(function(e){return i(i({},e),{},{value:[":fail:",":blackhole:"].includes(e.mode)?"":e.mode,mode:[":fail:",":blackhole:"].includes(e.mode)?e.mode:"address"})}),e.mapProps({addresses:e.flow(e.toArray,(function(e){return e.map((function(e){return e.value}))}),(function(e){return e.filter((function(e){return e}))}),(function(e){return e.map((function(e){return{value:e,label:e}}))}))}))}});t.getSettings=l;var u=o.default.post({url:"/CMD_EMAIL_CATCH_ALL",method:"POST",params:{update:!0},domain:!0,body:{value:o.default.OPTIONAL_STRING,catch:i(i({},o.default.REQUIRED_STRING),{},{validator:function(e){return[":fail:",":blackhole:","address"].includes(e)}})}});t.updateSettings=u},3629:function(e,t){},4010:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("app-page",[a("ui-infobar-item",{attrs:{slot:"details",title:e.$gettext("Details")},slot:"details"},[a("translate",[e._v("\n            This e-mail address will catch all improperly addressed mail (i.e. to a user that doesn't exist) to your site. This address may be your defaultusername@yourdomain.com, or any other email account you have created.\n        ")])],1),e._v(" "),"standard2021"!==e.$_layout?a("app-page-section",[a("translate",[e._v("This e-mail address will catch all improperly addressed mail (i.e. to a user that doesn't exist) to your site. This address may be your defaultusername@yourdomain.com, or any other email account you have created.")])],1):e._e(),e._v(" "),a("app-page-section",[a("ui-form-element",[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Fail:\n            ")]),e._v(" "),a("input-radio",{attrs:{slot:"content",value:":fail:"},slot:"content",model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("span",[a("translate",[e._v("The sender is notified that the address doesn't exist")]),e._v(" "),a("ui-tooltip",{attrs:{theme:"safe"}},[a("translate",[e._v("This is the recommended option for the catch-all setting. Catch-all's will increase the server load due to spam, so having them disable is highly recommended unless you absolutely need the feature on.")])],1)],1)])],1),e._v(" "),a("ui-form-element",[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Ignore:\n            ")]),e._v(" "),a("input-radio",{attrs:{slot:"content",value:":blackhole:"},slot:"content",model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("span",[a("translate",[e._v("The e-mail is dropped and completely ignored")]),e._v(" "),a("ui-tooltip",{attrs:{theme:"danger"}},[a("translate",[e._v("Avoid using the Ignore option unless you know what you are doing. Spammers will be sending you e-mails to random addresses, and this option will accept those e-mails. You will not know it because the accepted e-mails would be discarded. This greatly increases the server load unnecessarily. If you do not want the catch-all to be on, then use the Fail option instead.")])],1)],1)])],1),e._v(" "),a("ui-form-element",{attrs:{underline:!1}},[a("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Address:\n            ")]),e._v(" "),a("input-radio",{attrs:{slot:"content",value:"address"},slot:"content",model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("input-autocomplete",{attrs:{disabled:"address"!==e.mode,values:e.addresses},on:{focus:function(t){e.mode="address"}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),a("translate",{attrs:{slot:"error:email"},slot:"error:email"},[e._v("\n                Should be valid email\n            ")])],1)],1),e._v(" "),a("ui-button",{attrs:{slot:"footer:buttons",theme:"safe",disabled:"address"===e.mode&&!e.value},on:{click:e.saveOptions},slot:"footer:buttons"},[a("translate",[e._v("Save")])],1)],1)},r=[]}}]);