(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{1871:function(t,e,r){"use strict";r.r(e);var o=r(4069),a=r(2803);for(var n in a)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return a[t]}))}(n);var i=r(0),s=r(3803),l=r.n(s),p=Object(i.a)(a.default,o.a,o.b,!1,null,null,null);"function"==typeof l.a&&l()(p),e.default=p.exports},1931:function(t,e,r){"use strict";r(10),r(5),r(6),r(8),r(11);var o=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getPhpDocrootOptions=e.phpOverride=e.docrootOverride=e.getSubdomainLog=e.deleteSubdomains=e.createSubdomain=e.getSubdomains=void 0,r(7),r(84);var a=o(r(2)),n=o(r(78));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}var s=n.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){(0,a.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({domain:n.default.DOMAIN},n.default.PAGINATION),after:function(t){return t.flow(t.moveProp("subdomains","rows"),t.moveProp("allow_subdomain_docroot_override","docroot"),t.processTableInfo("rows"),t.mapProps({awstats:function(t){return"0"!==t},webalizer:t.isEqual("1"),docroot:t.isEqual("1"),has_php_selector:t.isEqual("yes"),rows:t.flow(t.toArray,t.mapArray(t.moveProp("subdomain_docroot_override","docroot")),t.mapArrayProps({bandwidth:t.convert.toAppNumber,stats:t.mapProps({webalizer_only:t.convert.toAppBoolean}),docroot:function(e){if(e&&Object.keys(e).length){if(void 0!==e.php1_select){var r=t.toSelect(e.php1_select),o=r.options,a=r.value;return{public_html:e.public_html,private_html:e.private_html,php_labels:o,php1_select:a}}return e}return!1}}))}))}});e.getSubdomains=s;var l=n.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:n.default.DOMAIN,subdomain:n.default.REQUIRED_STRING}});e.createSubdomain=l;var p=n.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:n.default.REQUIRED_BOOL}});e.deleteSubdomains=p;var u=n.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:n.default.DOMAIN,type:n.default.REQUIRED_STRING,subdomain:n.default.REQUIRED_STRING,lines:n.default.OPTIONAL_STRING},after:function(t){return t.flow(t.convert.toLines,(function(t){return t.slice(0,-1)}))}});e.getSubdomainLog=u;var c=n.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:n.default.REQUIRED_STRING,private_html:n.default.OPTIONAL_STRING,public_html:n.default.OPTIONAL_STRING}});e.docrootOverride=c;var d=n.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:n.default.REQUIRED_STRING,php1_select:n.default.REQUIRED_STRING}});e.phpOverride=d;var f=n.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:n.default.REQUIRED_STRING},after:function(t){return t.flow(t.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),t.mapProps({php:t.toSelect,has_php_selector:t.isEqual("yes")}))}});e.getPhpDocrootOptions=f},2803:function(t,e,r){"use strict";r.r(e);var o=r(2804),a=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(n);e.default=a.a},2804:function(t,e,r){"use strict";r(16),r(14),r(23),r(25),r(18),r(6);var o=r(1),a=r(19);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r(21),r(61),r(55);var n=o(r(36)),i=o(r(37)),s=r(1931),l=(r(942),o(r(2805))),p=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var r=c(e);if(r&&r.has(t))return r.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=t[i]}o.default=t,r&&r.set(t,o);return o}(r(9)),u=r(32);function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(c=function(t){return t?r:e})(t)}var d,f,v,h=l.default.extend({params:{type:"directories"},mapResponse:function(t){return p.keys(t.directories)}}),m={preload:[s.getPhpDocrootOptions],api:[{command:s.getPhpDocrootOptions,bind:"options"}],props:{subdomain:{type:String,required:!0,default:""}},data:function(){return{http:"",https:"",overrideHttp:!1,overrideHttps:!1,dirs:[],php:"",active:""}},watch:{overrideHttp:function(t){t&&!this.http&&(this.http="".concat("/domains","/").concat(this.$domain,"/"))},overrideHttps:function(t){t&&!this.https&&(this.https="".concat("/domains","/").concat(this.$domain,"/"))}},created:(v=(0,i.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.php=this.$api.options.php.value,this.overrideHttp=Boolean(this.$api.options.http),this.overrideHttps=Boolean(this.$api.options.https),this.overrideHttp&&(this.http=this.$api.options.http),this.overrideHttps&&(this.https=this.$api.options.https);case 5:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)}),methods:{loadDirs:u._.debounce((0,i.default)(n.default.mark((function t(){var e,r,o,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this[this.active],r=e.split("/"),o=r.pop(),(a=r.join("/"))&&o&&!(o.length<2)){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,h({path:a,search:o});case 8:this.dirs=t.sent;case 9:case"end":return t.stop()}}),t,this)}))),500),saveDocroot:(f=(0,i.default)(n.default.mark((function t(){var e;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={subdomain:this.subdomain,public_html:this.overrideHttp?this.http:this.http?"":null,private_html:this.overrideHttps?this.https:this.https?"":null},t.next=3,(0,s.docrootOverride)(e);case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),savePhp:(d=(0,i.default)(n.default.mark((function t(){var e;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={subdomain:this.subdomain,php1_select:this.php},(0,s.phpOverride)(e);case 2:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})}};e.default=m},2805:function(t,e,r){"use strict";r(16),r(14),r(23),r(25),r(18),r(6);var o=r(1),a=r(19);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(r(44));r(17),r(24);var i=o(r(78)),s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var r=l(e);if(r&&r.has(t))return r.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=t[i]}o.default=t,r&&r.set(t,o);return o}(r(9));function l(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(l=function(t){return t?r:e})(t)}var p=i.default.get({id:"FM_SEARCH",url:"/CMD_FILE_MANAGER",params:{action:"recursive_search"},schema:{path:i.default.REQUIRED_STRING,search:i.default.REQUIRED_STRING,type:i.default.OPTIONAL_STRING},response:[],mapResponse:function(t){var e=function(t){return s.pipe(s.toPairs,s.map((function(e){return{path:e[0],size:Number(e[1]),type:t}})))};return s.uniqBy(s.prop("path"),[].concat((0,n.default)(e("file")(t.files)),(0,n.default)(e("directory")(t.files))))}});e.default=p},3803:function(t,e){},4069:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("app-page",[r("app-page-section",[r("ui-form-element",[r("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Public HTML Root\n            ")]),t._v(" "),r("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center'}"}],attrs:{slot:"content"},slot:"content"},[r("input-radio",{attrs:{value:!1},model:{value:t.overrideHttp,callback:function(e){t.overrideHttp=e},expression:"overrideHttp"}},[r("translate",[t._v("Default")])],1),t._v(" "),r("input-radio",{directives:[{name:"margin",rawName:"v-margin:left",value:1,expression:"1",arg:"left"}],attrs:{value:!0},model:{value:t.overrideHttp,callback:function(e){t.overrideHttp=e},expression:"overrideHttp"}},[r("translate",[t._v("Custom")])],1)],1)],1),t._v(" "),t.overrideHttp?r("ui-form-element",{attrs:{group:"docroot-override",validators:{required:!0}}},[r("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),r("input-autocomplete",{attrs:{slot:"content",values:t.dirs,"allow-open":"http"===t.active,"force-all-values":""},on:{input:t.loadDirs,focus:function(e){t.active="http",t.dirs=[]}},slot:"content",model:{value:t.http,callback:function(e){t.http=e},expression:"http"}}),t._v(" "),r("translate",{attrs:{slot:"error:validateDir"},slot:"error:validateDir"},[t._v("\n                Folder does not exist\n            ")])],1):t._e(),t._v(" "),r("ui-form-element",[r("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Private HTML Root\n            ")]),t._v(" "),r("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center'}"}],attrs:{slot:"content"},slot:"content"},[r("input-radio",{attrs:{value:!1},model:{value:t.overrideHttps,callback:function(e){t.overrideHttps=e},expression:"overrideHttps"}},[r("translate",[t._v("Default")])],1),t._v(" "),r("input-radio",{directives:[{name:"margin",rawName:"v-margin:left",value:1,expression:"1",arg:"left"}],attrs:{value:!0},model:{value:t.overrideHttps,callback:function(e){t.overrideHttps=e},expression:"overrideHttps"}},[r("translate",[t._v("Custom")])],1)],1)],1),t._v(" "),t.overrideHttps?r("ui-form-element",{attrs:{group:"docroot-override",validators:{required:!0}}},[r("span",{attrs:{slot:"title"},slot:"title"}),t._v(" "),r("input-autocomplete",{attrs:{slot:"content",values:t.dirs,"allow-open":"http"===t.active,"force-all-values":""},on:{input:t.loadDirs,focus:function(e){t.active="https",t.dirs=[]}},slot:"content",model:{value:t.https,callback:function(e){t.https=e},expression:"https"}}),t._v(" "),r("translate",{attrs:{slot:"error:validateDir"},slot:"error:validateDir"},[t._v("\n                Folder does not exist\n            ")])],1):t._e(),t._v(" "),r("ui-button",{attrs:{slot:"footer:buttons",theme:"safe","validate-group":"docroot-override"},on:{click:t.saveDocroot},slot:"footer:buttons"},[r("translate",[t._v("Save")])],1)],1),t._v(" "),t.$api.options.has_php_selector?r("app-page-section",[r("translate",{attrs:{slot:"section:title"},slot:"section:title"},[t._v("\n            PHP Version Selector\n        ")]),t._v(" "),r("ui-form-element",[r("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                First\n            ")]),t._v(" "),r("input-select",{attrs:{slot:"content",options:t.$api.options.php.options},slot:"content",model:{value:t.php,callback:function(e){t.php=e},expression:"php"}})],1),t._v(" "),r("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:t.savePhp},slot:"footer:buttons"},[r("translate",[t._v("Save")])],1)],1):t._e()],1)},a=[]}}]);