(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1869:function(e,t,o){"use strict";o.r(t);var n=o(4067),a=o(2797);for(var r in a)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(r);o(3795);var i=o(0),s=o(3797),l=o.n(s),u=Object(i.a)(a.default,n.a,n.b,!1,null,"2caeb492",null);"function"==typeof l.a&&l()(u),t.default=u.exports},1931:function(e,t,o){"use strict";o(10),o(5),o(6),o(8),o(11);var n=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getPhpDocrootOptions=t.phpOverride=t.docrootOverride=t.getSubdomainLog=t.deleteSubdomains=t.createSubdomain=t.getSubdomains=void 0,o(7),o(84);var a=n(o(2)),r=n(o(78));function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var s=r.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){(0,a.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({domain:r.default.DOMAIN},r.default.PAGINATION),after:function(e){return e.flow(e.moveProp("subdomains","rows"),e.moveProp("allow_subdomain_docroot_override","docroot"),e.processTableInfo("rows"),e.mapProps({awstats:function(e){return"0"!==e},webalizer:e.isEqual("1"),docroot:e.isEqual("1"),has_php_selector:e.isEqual("yes"),rows:e.flow(e.toArray,e.mapArray(e.moveProp("subdomain_docroot_override","docroot")),e.mapArrayProps({bandwidth:e.convert.toAppNumber,stats:e.mapProps({webalizer_only:e.convert.toAppBoolean}),docroot:function(t){if(t&&Object.keys(t).length){if(void 0!==t.php1_select){var o=e.toSelect(t.php1_select),n=o.options,a=o.value;return{public_html:t.public_html,private_html:t.private_html,php_labels:n,php1_select:a}}return t}return!1}}))}))}});t.getSubdomains=s;var l=r.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:r.default.DOMAIN,subdomain:r.default.REQUIRED_STRING}});t.createSubdomain=l;var u=r.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:r.default.REQUIRED_BOOL}});t.deleteSubdomains=u;var d=r.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:r.default.DOMAIN,type:r.default.REQUIRED_STRING,subdomain:r.default.REQUIRED_STRING,lines:r.default.OPTIONAL_STRING},after:function(e){return e.flow(e.convert.toLines,(function(e){return e.slice(0,-1)}))}});t.getSubdomainLog=d;var c=r.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:r.default.REQUIRED_STRING,private_html:r.default.OPTIONAL_STRING,public_html:r.default.OPTIONAL_STRING}});t.docrootOverride=c;var p=r.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:r.default.REQUIRED_STRING,php1_select:r.default.REQUIRED_STRING}});t.phpOverride=p;var m=r.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:r.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),e.mapProps({php:e.toSelect,has_php_selector:e.isEqual("yes")}))}});t.getPhpDocrootOptions=m},2797:function(e,t,o){"use strict";o.r(t);var n=o(2798),a=o.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(r);t.default=a.a},2798:function(e,t,o){"use strict";var n=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(21),o(61),o(84),o(55),o(24);var a=n(o(718)),r=o(1931),i={components:{InputTextEditor:n(o(1935)).default},preload:function(e){var t=e.subdomain,o=e.type,n=t.split("."),i=(0,a.default)(n),s=i[0],l=i.slice(1);return(0,r.getSubdomainLog)({subdomain:s,domain:l.join("."),type:"usage"===o?"log":"error",lines:"100"})},api:[{command:r.getSubdomainLog,bind:"log"}],props:{subdomain:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{lines:100,show:"lines"}},computed:{domain:function(){return this.subdomain.split(".").slice(1).join(".")},subName:function(){return this.subdomain.split(".").shift()},rawLink:function(){var e="usage"===this.type?"log":"error",t="/CMD_SHOW_LOG?domain=".concat(this.domain,"&type=").concat(e,"&subdomain=").concat(this.subName);return"lines"===this.show?"".concat(t,"&lines=").concat(this.lines):t},log:function(){return this.$api.log.join("\n")}},methods:{loadLog:function(){var e="usage"===this.type?"log":"error";(0,r.getSubdomainLog)({domain:this.domain,subdomain:this.subName,type:e,lines:"lines"===this.show?String(this.lines):null})}}};t.default=i},3157:function(e,t,o){var n=o(3796);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o(4).default)("683c4b47",n,!0,{})},3795:function(e,t,o){"use strict";o(3157)},3796:function(e,t,o){},3797:function(e,t){},4067:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return a}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("app-page",{attrs:{id:"domain-log"}},[o("template",{slot:"page:title"},["usage"===e.type?o("translate",{attrs:{"translate-params":{domain:e.domain}}},[e._v("\n            View Usage Log for %{ domain }\n        ")]):o("translate",{attrs:{"translate-params":{domain:e.domain}}},[e._v("\n            View Error Log for %{ domain }\n        ")])],1),e._v(" "),o("app-page-section",[o("div",{directives:[{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],staticClass:"filters"},[o("ui-form-element",{attrs:{underline:"lines"===e.show}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Show\n                ")]),e._v(" "),o("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,2],expression:"[0, 2]"}],attrs:{slot:"content"},slot:"content"},[o("input-radio",{attrs:{value:"full"},on:{change:e.loadLog},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("translate",[e._v("Full Log")])],1),e._v(" "),o("input-radio",{attrs:{value:"lines"},on:{change:e.loadLog},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("translate",[e._v("Tail")])],1)],1)],1),e._v(" "),o("transition",{attrs:{name:"fade"}},["lines"===e.show?o("ui-form-element",{attrs:{underline:!1}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        Number of lines to show\n                    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("input-text",{attrs:{number:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loadLog.apply(null,arguments)}},model:{value:e.lines,callback:function(t){e.lines=t},expression:"lines"}}),e._v(" "),o("ui-button",{attrs:{theme:"safe",size:"normal",disabled:!Number(e.lines)},on:{click:e.loadLog}},[o("translate",[e._v("Reload Log")])],1)],1)],1):e._e()],1)],1),e._v(" "),o("input-text-editor",{attrs:{value:e.log,"read-only":"","disable-modes":""}},[o("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center",main:"between"},expression:"{\n                    cross: 'center',\n                    main: 'between',\n                }"}],attrs:{slot:"header"},slot:"header"},[e._v("\n                "+e._s(e.domain)+"\n                "),o("ui-button-link",{attrs:{size:"small",theme:"light",href:e.rawLink,target:"_blank"}},[o("translate",[e._v("raw")])],1)],1)])],1)],2)},a=[]}}]);