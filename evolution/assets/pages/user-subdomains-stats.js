(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[5708],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/subdomains/stats.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var r=o(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js"));t("./node_modules/core-js/modules/es.regexp.constructor.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.regexp.to-string.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.string.replace.js"),t("./node_modules/core-js/modules/es.array.concat.js");var l=t("./src/js/api/commands/subdomains.js"),d=t("./src/js/api/commands/webalizer.js"),n=t("./src/js/vue/mixins.js"),u=t("./src/js/modules/utils/index.js"),i=o(t("./node_modules/date-fns/esm/format/index.js"));t("./src/js/api/converters.js");function c(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,o)}return t}function m(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?c(Object(t),!0).forEach((function(s){(0,a.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var p={preload:[l.getSubdomains,d.getWebalizerStatus],api:[{command:l.getSubdomains,bind:"subdomains"},{command:d.getWebalizerStatus,bind:"webalizerStatus"}],mixins:[(0,n.$bindTab)({param:"tab",defaultTab:"webalizer"})],props:{subdomain:{type:String,required:!0}},data:function(){return{report:""}},computed:{awstats:function(){var e=this,s={January:this.$gettext("January"),February:this.$gettext("February"),March:this.$gettext("March"),April:this.$gettext("April"),May:this.$gettext("May"),June:this.$gettext("June"),July:this.$gettext("July"),August:this.$gettext("August"),September:this.$gettext("September"),October:this.$gettext("October"),November:this.$gettext("November"),December:this.$gettext("December")},t=new RegExp(Object.keys(s).join("|"));if(this.$api.subdomains.awstats){var o=u.fp.transformObject((function(o,r){return"has_dynamic"===r?{}:"present"===o?(0,a.default)({},r,e.$gettext("Present")):(0,a.default)({},r,function(e){return(0,i.default)(u.fp.convert.toAppDate(e),"MMMM yyyy",{awareOfUnicodeTokens:!0}).replace(t,(function(e){return s[e]}))}(o))})),r=this.$api.subdomains.subdomain_awstats[this.subdomain];return m(m({},"1"===r.has_dynamic?(0,a.default)({},"/CMD_AWSTATS/".concat(this.$domain,"/").concat(this.subdomain,"/awstats.pl"),this.$gettext("All Month(cgi)")):{}),o(r))}return!1},webalizer:function(){return!(!this.$api.subdomains.webalizer||!this.$api.webalizerStatus)&&"/CMD_WEBALIZER/".concat(this.$domain,"/").concat(this.subdomain,"/index.html")}},created:function(){if(this.awstats){var e=Object.keys(this.awstats),s=(0,r.default)(e,1);this.report=s[0]}!this.webalizer&&this.awstats&&(this.tab="awstats")}};s.Z=p},"./src/js/api/commands/subdomains.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.phpOverride=s.getSubdomains=s.getSubdomainLog=s.getPhpDocrootOptions=s.docrootOverride=s.deleteSubdomains=s.createSubdomain=void 0,t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.promise.js"),t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.array.slice.js");var r=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),a=o(t("./src/js/api/command/index.js"));function l(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,o)}return t}var d=a.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?l(Object(t),!0).forEach((function(s){(0,r.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({domain:a.default.DOMAIN},a.default.PAGINATION),after:function(e){return e.flow(e.moveProp("subdomains","rows"),e.moveProp("allow_subdomain_docroot_override","docroot"),e.processTableInfo("rows"),e.mapProps({awstats:function(e){return"0"!==e},webalizer:e.isEqual("1"),docroot:e.isEqual("1"),has_php_selector:e.isEqual("yes"),rows:e.flow(e.toArray,e.mapArray(e.moveProp("subdomain_docroot_override","docroot")),e.mapArrayProps({bandwidth:e.convert.toAppNumber,stats:e.mapProps({webalizer_only:e.convert.toAppBoolean}),docroot:function(s){if(s&&Object.keys(s).length){if(void 0!==s.php1_select){var t=e.toSelect(s.php1_select),o=t.options,r=t.value;return{public_html:s.public_html,private_html:s.private_html,php_labels:o,php1_select:r}}return s}return!1}}))}))}});s.getSubdomains=d;var n=a.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:a.default.DOMAIN,subdomain:a.default.REQUIRED_STRING}});s.createSubdomain=n;var u=a.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:a.default.REQUIRED_BOOL}});s.deleteSubdomains=u;var i=a.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:a.default.DOMAIN,type:a.default.REQUIRED_STRING,subdomain:a.default.REQUIRED_STRING,lines:a.default.OPTIONAL_STRING},after:function(e){return e.flow(e.convert.toLines,(function(e){return e.slice(0,-1)}))}});s.getSubdomainLog=i;var c=a.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:a.default.REQUIRED_STRING,private_html:a.default.OPTIONAL_STRING,public_html:a.default.OPTIONAL_STRING}});s.docrootOverride=c;var m=a.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:a.default.REQUIRED_STRING,php1_select:a.default.REQUIRED_STRING}});s.phpOverride=m;var p=a.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:a.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),e.mapProps({php:e.toSelect,has_php_selector:e.isEqual("yes")}))}});s.getPhpDocrootOptions=p},"./src/js/api/commands/webalizer.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.getWebalizerStatus=void 0,t("./node_modules/core-js/modules/es.array.concat.js");var r=o(t("./src/js/api/command/index.js")),a=r.default.get({id:"WEBALIZER_STATUS",url:"/CMD_FILE_MANAGER",response:!1,params:{action:"exists"},schema:{domain:r.default.DOMAIN,subdomain:r.default.OPTIONAL_STRING},before:function(e){var s=e.domain,t=e.subdomain;return{path:t?"/domains/".concat(s,"/stats/").concat(t,"/index.html"):"/domains/".concat(s,"/stats/index.html"),domain:null,subdomain:null}},after:function(){return function(e){return"1"===e.exists}}});s.getWebalizerStatus=a},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/subdomains/stats.vue?vue&type=style&index=0&id=147081ff&lang=scss&scoped=true&":function(){},"./src/js/pages/user/subdomains/stats.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return u}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/subdomains/stats.vue?vue&type=script&lang=js&"),r=o.Z,a=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/subdomains/stats.vue?vue&type=style&index=0&id=147081ff&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),l=t("./src/js/pages/user/subdomains/stats.vue?vue&type=custom&index=0&blockType=route"),d=t.n(l),n=(0,a.Z)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{id:"subdomain-stats"}},[t("app-page-section",[t("ui-tabs",{attrs:{tabs:[e.webalizer?{id:"webalizer",label:e.$gettext("Webalizer")}:{},e.awstats?{id:"awstats",label:e.$gettext("AWstats")}:{}],"hide-single-tab":"",selected:e.tab},on:{"update:selected":function(s){e.tab=s}}},[t("template",{slot:"tab:webalizer"},[e.webalizer?t("iframe",{staticClass:"report",attrs:{src:e.webalizer,frameborder:"0"}}):t("app-page-section",[t("translate",{attrs:{slot:"section:title"},slot:"section:title"},[e._v("\n                        File does not exist\n                    ")]),e._v(" "),t("translate",[e._v("You must wait for the stats to be computed. This will only happen *after* logs exist (domain must resolve and be used).")])],1)],1),e._v(" "),t("template",{slot:"tab:awstats"},[t("ui-form-element",{attrs:{vertical:e.$_Client.isPhone}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        Month\n                    ")]),e._v(" "),t("input-select",{attrs:{slot:"content",options:e.awstats},slot:"content",model:{value:e.report,callback:function(s){e.report=s},expression:"report"}})],1),e._v(" "),e.report?t("iframe",{staticClass:"report",attrs:{src:e.report,frameborder:"0"}}):e._e()],1)],2)],1)],1)}),[],!1,null,"147081ff",null);"function"==typeof d()&&d()(n);var u=n.exports},"./src/js/pages/user/subdomains/stats.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/subdomains/stats.vue?vue&type=style&index=0&id=147081ff&lang=scss&scoped=true&":function(e,s,t){var o=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/subdomains/stats.vue?vue&type=style&index=0&id=147081ff&lang=scss&scoped=true&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("bc50cc5c",o,!0,{})}}]);