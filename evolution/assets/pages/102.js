(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{1743:function(t,e,r){"use strict";r.r(e);var n=r(3944),o=r(2199);for(var s in o)["default"].indexOf(s)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(s);r(3307);var a=r(0),i=r(3309),c=r.n(i),u=Object(a.a)(o.default,n.a,n.b,!1,null,"62e0f0f6",null);"function"==typeof c.a&&c()(u),e.default=u.exports},2024:function(t,e,r){"use strict";r(10),r(5),r(6),r(8),r(11);var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.rebootServer=e.reload=e.restart=e.stop=e.start=e.getServices=void 0;var o=n(r(2));r(7),r(34),r(27),r(12),r(15);var s=n(r(78));function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,o.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=["reload","restart","start","stop"],u=s.default.get({id:"SERVICES",url:"/CMD_SHOW_SERVICES",response:[],params:{bytes:!0},after:function(){return function(t){return Object.keys(t.status).map((function(e){return{service:e,memory:t.memory[e],pid:t.pids[e]||[],running:"on"===t.status[e],actions:c.reduce((function(r,n){return i(i({},r),{},(0,o.default)({},n,t.actions[e].includes(n)))}),{})}}))}}});e.getServices=u;var l=function(t){return s.default.post({url:"/CMD_SERVICE",params:{action:t},schema:{service:s.default.REQUIRED_STRING},notifySuccess:!1})},f=l("start");e.start=f;var d=l("stop");e.stop=d;var p=l("restart");e.restart=p;var v=l("reload");e.reload=v;var b=s.default.post({url:"/CMD_REBOOT",params:{json:!0},schema:{passwd:s.default.REQUIRED_STRING}});e.rebootServer=b},2199:function(t,e,r){"use strict";r.r(e);var n=r(2200),o=r.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(s);e.default=o.a},2200:function(t,e,r){"use strict";r(16),r(14),r(23),r(25),r(18),r(6);var n=r(19);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=s(e);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var c=a?Object.getOwnPropertyDescriptor(t,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=t[i]}o.default=t,r&&r.set(t,o);return o}(r(2024));function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(s=function(t){return t?r:e})(t)}var a={preload:o.getServices,api:[{command:o.getServices,bind:{response:"services",isLoading:"loading"}}],data:function(){return{password:""}},computed:{notifications:function(){return{start:this.notify(this.$gettext("Service was started successfully")),stop:this.notify(this.$gettext("Service was stopped successfully")),restart:this.notify(this.$gettext("Service was restarted successfully")),reload:this.notify(this.$gettext("Service was reloaded successfully")),rebootServer:this.notify(this.$gettext("Server was successfully rebooted"))}}},methods:{reloadServices:function(){o.getServices()},toggle:function(t){"nowrap"===t.target.style["white-space"]?t.target.style["white-space"]="normal":t.target.style["white-space"]="nowrap"},notify:function(t){var e=this;return function(){return e.$notifications.success({title:t})}},doAction:function(t,e){o[t](e).then(this.notifications[t]).then(this.reloadServices)},start:function(t){this.doAction("start",t)},stop:function(t){this.doAction("stop",t)},restart:function(t){this.doAction("restart",t)},reload:function(t){this.doAction("reload",t)},handleReboot:function(){this.doAction("rebootServer",{passwd:this.password})}}};e.default=a},3050:function(t,e,r){var n=r(3308);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,r(4).default)("231224b9",n,!0,{})},3307:function(t,e,r){"use strict";r(3050)},3308:function(t,e,r){},3309:function(t,e){},3944:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("app-page",{attrs:{actions:[{handler:t.$dialog("REBOOT_DIALOG").open,label:t.$gettext("Reboot"),icon:"#console"}]}},[r("template",{slot:"header:buttons"},[r("ui-button",{attrs:{theme:"primary"},on:{click:function(e){t.$dialog("REBOOT_DIALOG").open()}}},[r("translate",[t._v("Reboot")])],1)],1),t._v(" "),r("app-page-section",[r("ui-r-table",t._b({scopedSlots:t._u([{key:"col:running",fn:function(e){var n=e.running;return[r("ui-badge",{attrs:{theme:n?"safe":"danger"}},[t._v("\n                    "+t._s(n?t.$gettext("Running"):t.$gettext("Stopped"))+"\n                ")])]}},{key:"col:pid",fn:function(e){var n=e.pid;return[n.length?r("div",{staticClass:"pids",on:{click:t.toggle}},[t._v("\n                    "+t._s(n.join(" "))+"\n                ")]):r("span")]}},{key:"col:memory",fn:function(e){var n=e.memory;return[n?r("span",[t._v("\n                    "+t._s(t._f("humanReadableSize")(n))+"\n                ")]):t._e()]}},{key:"row:actions",fn:function(e){var n=e.item;return r("ui-actions",{attrs:{position:"left"}},[n.actions.start&&!n.pid.length?r("ui-link",{key:"start",on:{click:function(e){return t.start(n.service)}}},[r("translate",[t._v("Start")])],1):t._e(),t._v(" "),n.actions.stop&&n.pid.length?r("ui-link",{key:"stop",on:{click:function(e){return t.stop(n.service)}}},[r("translate",[t._v("Stop")])],1):t._e(),t._v(" "),n.actions.restart&&n.pid.length?r("ui-link",{key:"restart",on:{click:function(e){return t.restart(n.service)}}},[r("translate",[t._v("Restart")])],1):t._e(),t._v(" "),n.actions.reload&&n.pid.length?r("ui-link",{key:"reload",on:{click:function(e){return t.reload(n.service)}}},[r("translate",[t._v("Reload")])],1):t._e()],1)}}])},"ui-r-table",{columns:[{id:"service",label:t.$gettext("Service"),editable:!1},{id:"running",label:t.$gettext("Status")},{id:"pid",label:t.$gettext("PID(s)")},{id:"memory",label:t.$gettext("Memory Usage")}],rows:t.$api.services,isCheckable:!1,disablePagination:!0,verticalLayout:t.$_Client.isPhone},!1),[r("ui-button",{attrs:{slot:"buttons:before",size:"small",theme:"light",icon:t.$api.loading?"loader":"reload"},on:{click:t.reloadServices},slot:"buttons:before"},[r("translate",[t._v("\n                    Update Services List\n                ")])],1)],1)],1),t._v(" "),r("ui-dialog",{attrs:{id:"REBOOT_DIALOG",theme:"danger",size:"normal"}},[r("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n            Reboot Server\n        ")]),t._v(" "),r("template",{slot:"content"},[r("translate",[t._v("Are you sure you want to reboot server?")]),t._v(" "),r("ui-form-element",{attrs:{vertical:""}},[r("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    Your Password:\n                ")]),t._v(" "),r("input-password",{attrs:{slot:"content"},slot:"content",model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),r("template",{slot:"buttons"},[r("ui-button",{attrs:{theme:"danger"},on:{click:t.handleReboot}},[r("translate",[t._v("Reboot")])],1)],1)],2)],2)},o=[]}}]);