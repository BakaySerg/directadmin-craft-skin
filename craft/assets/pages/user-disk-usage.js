(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[2639],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/disk-usage.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var s=o("./src/js/api/commands/user/disk-usage/index.js"),r=o("./node_modules/ramda/src/index.js"),n=function(e){return e},a=(0,r.prop)("counted"),i=(0,r.complement)(a),u={preload:s.getBreakdown,data:function(){return{hideZeroSized:!0,onlyCounted:!0}},api:[{command:s.getBreakdown,bind:"breakdown"}],computed:{counted:function(){return this.onlyCounted?(0,r.filter)((0,r.prop)("counted"),this.$api.breakdown.folders):this.$api.breakdown.folders},folders:function(){return this.getFolders(a)},systemQuotas:function(){return this.getFolders(i)}},methods:{getFolders:function(e){return(0,r.pipe)((0,r.prop)("folders"),(0,r.filter)(e),this.hideZeroSized?(0,r.filter)((0,r.prop)("size")):n)(this.$api.breakdown)}}};t.Z=u},"./src/js/api/commands/user/disk-usage/index.js":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.weak-map.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakdown=void 0;var n=s(o("./src/js/api/command/index.js")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var o=i(t);if(o&&o.has(e))return o.get(e);var s={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(s,a,u):s[a]=e[a]}s.default=e,o&&o.set(e,s);return s}(o("./src/js/api/commands/user/disk-usage/process.ts"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(i=function(e){return e?o:t})(e)}var u=n.default.get({id:"DISK_USAGE_BREAKDOWN",url:"/CMD_DU_BREAKDOWN",schema:{user:n.default.OPTIONAL_STRING},mapResponse:{folders:a.getFolders,year:a.getYear,month:a.getMonth,total:a.getTotal}});t.getBreakdown=u},"./src/js/api/commands/user/disk-usage/process.ts":function(e,t,o){"use strict";o.r(t),o.d(t,{getItemOwner:function(){return a},getItem:function(){return i},processBreakdownItem:function(){return u},getFolders:function(){return l},getYear:function(){return d},getMonth:function(){return c},getTotal:function(){return p}});var s=o("./node_modules/ramda/es/index.js"),r=o("./node_modules/monet/dist/monet.js"),n=o("./src/js/api/commands/converters/index.ts"),a=function(e){var t=e.descriptor;return r.Maybe.Some(t).filter(s.includes("owned")).map(s.split(" ")).map(s.without(["owned","files","by","in"])).map(s.zipObj(["owner","path"])).orSome({path:t,owner:""})},i=function(e){return{counted:s.equals("1",e.counted),size:(0,n.toNumber)(e.size)}},u=function(e){return s.mergeDeepRight(i(e),a(e))},l=s.pipe(s.omit(["total","simpletotal","year","month"]),s.values,s.filter((function(e){return"string"!=typeof e})),s.map(u)),d=s.prop("year"),c=s.prop("month"),p=s.pipe((function(e){return e.total||e.simpletotal||"0"}),n.toNumber)},"./src/js/pages/user/disk-usage.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return l}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/disk-usage.vue?vue&type=script&lang=js&"),r=s.Z,n=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=o("./src/js/pages/user/disk-usage.vue?vue&type=custom&index=0&blockType=route"),i=o.n(a),u=(0,n.Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("app-page",[o("app-page-section",[o("ui-tabs",{attrs:{tabs:[{id:"folders",label:e.$gettext("Disk Usage")},{id:"quotas",label:e.$gettext("System Quotas"),desc:e.$gettext("Entries already included in the System Quotas")}]}},[o("ui-r-table",{key:"folders",attrs:{slot:"tab:folders",rows:e.folders,"is-checkable":!1,columns:[{id:"path",label:e.$gettext("Path")},{id:"user",label:e.$gettext("Owner")},{id:"size",label:e.$gettext("Disk Usage")}],"vertical-layout":e.$_Client.isPhone,"disable-pagination":""},slot:"tab:folders",scopedSlots:e._u([{key:"col:size",fn:function(t){var o=t.size;return[e._v("\n                    "+e._s(e._f("humanReadableSize")(o))+"\n                ")]}}])},[o("input-checkbox",{attrs:{slot:"buttons:before"},slot:"buttons:before",model:{value:e.hideZeroSized,callback:function(t){e.hideZeroSized=t},expression:"hideZeroSized"}},[o("translate",[e._v("Hide entries which use 0 bytes")])],1),e._v(" "),e._v(" "),e.$api.breakdown.total?o("translate",{staticClass:"txt:bold",attrs:{slot:"col:after:path"},slot:"col:after:path"},[e._v("\n                    Total\n                ")]):e._e(),e._v(" "),e.$api.breakdown.total?o("span",{staticClass:"txt:bold",attrs:{slot:"col:after:size"},slot:"col:after:size"},[e._v("\n                    "+e._s(e._f("humanReadableSize")(e.$api.breakdown.total))+"\n                ")]):e._e()],1),e._v(" "),o("ui-r-table",{key:"quotas",attrs:{slot:"tab:quotas",rows:e.systemQuotas,"is-checkable":!1,columns:[{id:"path",label:e.$gettext("Path")},{id:"user",label:e.$gettext("Owner")},{id:"size",label:e.$gettext("Disk Usage")}],"vertical-layout":e.$_Client.isPhone,"disable-pagination":""},slot:"tab:quotas",scopedSlots:e._u([{key:"col:size",fn:function(t){var o=t.size;return[e._v("\n                    "+e._s(e._f("humanReadableSize")(o))+"\n                ")]}}])},[o("input-checkbox",{attrs:{slot:"buttons:before"},slot:"buttons:before",model:{value:e.hideZeroSized,callback:function(t){e.hideZeroSized=t},expression:"hideZeroSized"}},[o("translate",[e._v("Hide entries which use 0 bytes")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);"function"==typeof i()&&i()(u);var l=u.exports},"./src/js/pages/user/disk-usage.vue?vue&type=custom&index=0&blockType=route":function(){}}]);