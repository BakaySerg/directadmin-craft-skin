(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1806:function(e,t,n){"use strict";n.r(t);var a=n(4004),i=n(2564);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(0),r=n(3612),u=n.n(r),l=Object(s.a)(i.default,a.a,a.b,!1,null,null,null);"function"==typeof u.a&&u()(l),t.default=l.exports},1899:function(e,t,n){"use strict";n(7),n(10),n(5),n(6),n(8),n(11);var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.setDomainPHPVersions=t.getDomainPHPVersions=t.deleteDomainIps=t.getDomainIps=t.assignDomainIps=t.setDomainPrivateHtml=t.modifyDomain=t.renameDomain=t.createDomain=t.deleteDomains=t.changeDomainStatus=t.setDefaultDomain=t.getCustomItems=t.getDomain=t.getDomains=void 0,n(12);var i=a(n(2)),o=a(n(78)),s=a(n(1939));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=o.default.get({id:"GET_DOMAINS",url:"/CMD_ADDITIONAL_DOMAINS",params:{bytes:!0},response:[],mapResponse:s.default.getDomains});t.getDomains=l;var d=o.default.get({id:"GET_DOMAIN",url:"/CMD_ADDITIONAL_DOMAINS",params:{action:"view"},schema:{domain:o.default.DOMAIN},mapResponse:s.default.getDomain});t.getDomain=d;var c=o.default.get({id:"DOMAIN_CUSTOM_ITEMS",url:"/HTM_ADD_DOMAIN",mapResponse:s.default.getDomain.custom_items});t.getCustomItems=c;var p=o.default.select({url:"/CMD_DOMAIN"}),f=p.extend({params:{default:!0}});t.setDefaultDomain=f;var m=p.extend({params:{reason:"Other",suspend:!0}});t.changeDomainStatus=m;var _=p.extend({params:{delete:!0,confirmed:!0,delete_data_aware:!0},schema:{delete_data:o.default.REQUIRED_BOOL}});t.deleteDomains=_;var I=o.default.post({url:"/CMD_DOMAIN",params:{action:"create"},schema:{domain:o.default.REQUIRED_STRING,bandwidth:o.default.OPTIONAL_STRING,unbandwidth:o.default.OPTIONAL_STRING,quota:o.default.OPTIONAL_STRING,uquota:o.default.OPTIONAL_STRING,ssl:o.default.OPTIONAL_STRING,cgi:o.default.OPTIONAL_STRING,php:o.default.OPTIONAL_STRING},notifySuccess:!0,notifyError:!0});t.createDomain=I;var v=o.default.post({url:"/CMD_CHANGE_DOMAIN",params:{json:!0},schema:{old_domain:o.default.REQUIRED_STRING,new_domain:o.default.REQUIRED_STRING}});t.renameDomain=v;var D=o.default.post({url:"/CMD_DOMAIN",params:{action:"modify",form_version:"1.1"},body:{domain:o.default.DOMAIN,bandwidth:o.default.REQUIRED_STRING,ubandwidth:o.default.REQUIRED_STRING,quota:o.default.REQUIRED_STRING,uquota:o.default.REQUIRED_STRING,ssl:o.default.REQUIRED_STRING,php:o.default.REQUIRED_STRING,cgi:o.default.REQUIRED_STRING,www_pointers:o.default.OPTIONAL_STRING,force_redirect:o.default.REQUIRED_STRING}});t.modifyDomain=D;var h=o.default.post({url:"/CMD_DOMAIN",params:{action:"private_html"},schema:{domain:o.default.DOMAIN,val:u(u({},o.default.REQUIRED_STRING),{},{validator:function(e){return["directory","symlink"].includes(e)}}),force_ssl:o.default.OPTIONAL_BOOL},notifySuccess:!1});t.setDomainPrivateHtml=h;var O=o.default.post({url:"/CMD_DOMAIN",params:{action:"multi_ip",add:!0},schema:{domain:o.default.DOMAIN,ip:o.default.REQUIRED_STRING,dns:o.default.OPTIONAL_BOOL}});t.assignDomainIps=O;var g=o.default.get({id:"DOMAIN_IPS",url:"/CMD_ADDITIONAL_DOMAINS",params:{action:"view",ips:!0},schema:{domain:o.default.DOMAIN},after:function(e){return e.flow(e.project({assigned:"assigned_ips",available:"available_ips"}),e.mapProp("assigned",e.mapArray((function(e){return{ip:e}}))))}});t.getDomainIps=g;var b=o.default.post({url:"/CMD_DOMAIN",params:{action:"multi_ip",delete:!0},schema:{domain:o.default.DOMAIN,select:o.default.ROWS,removedns:o.default.OPTIONAL_BOOL}});t.deleteDomainIps=b;var N=o.default.get({id:"DOMAIN_PHP_VERSIONS",url:"/CMD_ADDITIONAL_DOMAINS",params:{action:"view"},domain:!0,mapResponse:s.default.getPhpVersions});t.getDomainPHPVersions=N;var R=o.default.post({url:"/CMD_DOMAIN",method:"POST",params:{action:"php_selector",save:!0},domain:!0,schema:{php1_select:o.default.REQUIRED_STRING}});t.setDomainPHPVersions=R},1939:function(e,t,n){"use strict";n.r(t),n.d(t,"toDomain",(function(){return r})),n.d(t,"getDomainInfo",(function(){return u})),n.d(t,"processCheckbox",(function(){return l})),n.d(t,"processText",(function(){return d})),n.d(t,"processSelect",(function(){return c})),n.d(t,"getMap",(function(){return p})),n.d(t,"getCustomItems",(function(){return m})),n.d(t,"getPhpVersions",(function(){return _}));var a=n(9),i=n(97),o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=a.pipe(Number,Number.isFinite),r=function(e){return{domain:e.domain,active:Object(i.toBoolean)(e.active),defaultdomain:Object(i.toBoolean)(e.defaultdomain),subdomain:Object(i.toNumber)(e.subdomain),bandwidth:Object(i.toUsage)({usage:s(e.bandwidth)?e.bandwidth:"0",limit:e.bandwidth_limit}),quota:Object(i.toUsage)({usage:s(e.quota)?e.quota:"0",limit:e.quota_limit}),pointers:a.pipe(a.defaultTo({}),a.keys,a.map(String))(e.pointers)}},u=function(e){return{bandwidth:e.bandwidth,quota:e.quota,ssl:"ON"===e.ssl,cgi:"ON"===e.cgi,php:"ON"===e.php,show_ips:"yes"===e.has_multiple_ips,show_php:"yes"===e.has_php_selector,force_ssl:"yes"===e.force_ssl,private_html:"link"===e.private_html?"symlink":"directory",force_redirect:e.force_redirect||"none",modsecurity:"yes"===e.modsecurity,nginx:"1"===e.nginx}},l=function(e){return{type:"checkbox",value:"ON"===e.value||"yes"===e.checked,description:e.desc||"",label:e.string||"",api_only:"yes"===e.api_only,hidden:"yes"===e.hidden}},d=function(e){return{type:"text",description:e.desc||"",label:e.string||"",value:e.value||"",api_only:"yes"===e.api_only,hidden:"yes"===e.hidden}},c=function(e){var t=Object.keys(e).filter((function(e){return/^item\d+val*$/.test(e)})).reduce((function(t,n){var a;return o(o({},t),((a={})[e[n]]=e[n.replace("val","txt")]||"",a))}),{});return{type:"select",description:e.desc||"",label:e.string||"",value:e.value||e.default||"",options:t,api_only:"yes"===e.api_only,hidden:"yes"===e.hidden}},p=function(e){return e.split("&").reduce((function(e,t){var n,a=t.split("="),i=a[0],s=void 0===i?"":i,r=a[1],u=void 0===r?"":r;return o(o({},e),((n={})[s]=u,n))}),{})},f=function(e){switch(e.type){case"listbox":return c(e);case"checkbox":return l(e);default:return d(e)}},m=function(e){var t=a.mapObjIndexed(p,e.custom_domain_items||{}),n=a.pickAll(a.keys(t),e),i=a.mergeDeepLeft(a.mapObjIndexed((function(e){return{value:e}}),n),t);return a.mapObjIndexed(f,i)},_=function(e){if("yes"===e.has_php_selector){if("object"==typeof e.php1_select)return{enabled:!0,legacy:"2"===e.php_selector_count,versions:Object(i.toSelectData)(e.php1_select)};var t=a.pick(a.map((function(e){return"php"+e+"_select"}),a.range(1,5)),e.options);return{enabled:!0,versions:{value:e.php1_select,options:t},legacy:"2"===e.php_selector_count}}return{enabled:!1,legacy:!1,versions:{options:{},value:""}}};t.default={getDomains:function(e){return a.map(r,a.values(e))},getDomain:{domain:u,custom_items:m},getPhpVersions:_}},2564:function(e,t,n){"use strict";n.r(t);var a=n(2565),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t.default=i.a},2565:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(36)),o=a(n(37));n(34);var s,r=n(1899),u={components:{AddIpToDomainDialog:a(n(3611)).default},preload:r.getDomainIps,api:[{command:r.getDomainIps,bind:"ips"}],data:function(){return{checkedRows:[],removedns:!0}},computed:{assigned:function(){return this.$api.ips.assigned},available:function(){return this.$api.ips.available},checkedIPs:function(){return this.checkedRows.map((function(e){return e.ip}))}},methods:{deleteIPs:(s=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.deleteDomainIps)({select:this.checkedIPs,removedns:this.removedns||null});case 2:(0,r.getDomainIps)(),this.$reset();case 4:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}};t.default=u},2566:function(e,t,n){"use strict";n.r(t);var a=n(2567),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t.default=i.a},2567:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=a(n(36)),s=a(n(38)),r=a(n(37)),u=n(1899),l={data:function(){return{ip:"",dns:!0}},api:[{command:u.getDomainIps,bind:"ips"}],computed:{available:function(){return this.$api.ips.available}},methods:{assignIP:(i=(0,r.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.assignDomainIps)({ip:this.ip,domain:this.$domain,dns:this.dns||null});case 2:e.sent&&(0,u.getDomainIps)();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),onOpen:function(){var e=(0,s.default)(this.available,1);this.ip=e[0]}}};t.default=l},3611:function(e,t,n){"use strict";n.r(t);var a=n(4155),i=n(2566);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var s=n(0),r=Object(s.a)(i.default,a.a,a.b,!1,null,null,null);t.default=r.exports},3612:function(e,t){},4004:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",{attrs:{actions:e.available.length?[{label:e.$gettext("Add IP"),handler:e.$dialog("ADD_IP_TO_DOMAIN_DIALOG").open}]:[]}},[e.available.length?n("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:function(t){e.$dialog("ADD_IP_TO_DOMAIN_DIALOG").open()}},slot:"header:buttons"},[n("translate",[e._v("Add IP")])],1):e._e(),e._v(" "),n("app-page-section",[n("ui-r-table",{attrs:{rows:e.assigned,"checked-rows":e.checkedRows,columns:[{id:"ip",label:e.$ngettext("Assigned IP","Assigned IPs",e.assigned.length)}]},on:{"update:checkedRows":function(t){e.checkedRows=t},"update:checked-rows":function(t){e.checkedRows=t}}},[e.checkedRows.length<e.assigned.length?n("ui-table-action",{attrs:{slot:"table:actions"},on:{click:function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}},slot:"table:actions"},[n("translate",[e._v("Delete")])],1):e._e()],1)],1),e._v(" "),n("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("IP","IPs",e.checkedRows.length)},on:{"click:confirm":e.deleteIPs}},[n("input-checkbox",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],model:{value:e.removedns,callback:function(t){e.removedns=t},expression:"removedns"}},[n("translate",{attrs:{"translate-plural":"Remove DNS records for IPs","translate-n":e.checkedRows.length}},[e._v("\n                Remove DNS records for IP\n            ")])],1)],1),e._v(" "),n("add-ip-to-domain-dialog")],1)},i=[]},4155:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"ADD_IP_TO_DOMAIN_DIALOG"},on:{"dialog:open":e.onOpen}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Add Another IP\n    ")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("ui-form-element",{attrs:{vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Select IP to Add\n            ")]),e._v(" "),n("input-select",{attrs:{slot:"content",options:e.available},slot:"content",model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}})],1),e._v(" "),n("ui-form-element",{attrs:{vertical:""}},[n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("Add DNS records for this IP")])],1)],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:e.assignIP},slot:"buttons"},[n("translate",[e._v("Save")])],1)],1)},i=[]}}]);