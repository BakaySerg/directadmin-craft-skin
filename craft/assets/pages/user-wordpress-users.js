(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[9886],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/_dialogs/change-wp-user-pass-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var o,a=r(t("./node_modules/@babel/runtime/regenerator/index.js")),d=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=t("./src/js/api/commands/validation/index.js"),l=t("./src/js/endpoints/wordpress/index.ts"),i={commands:{validatePassword:n.validatePassword},props:{id:{type:String,required:!0},user:{type:Object,required:!0}},data:function(){return{passwd:""}},methods:{submit:(o=(0,d.default)(a.default.mark((function e(){var s,t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.changeUserPassword.request({locationid:this.id,userid:this.user.id,password:this.passwd});case 2:if(s=e.sent,!(t=s.error)){e.next=7;break}return t.notify(),e.abrupt("return");case 7:this.$notifications.success({title:this.$gettext("Success"),content:this.$gettext("User password is changed")}),this.passwd="";case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}};s.Z=i},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/users.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var a=r(t("./node_modules/@babel/runtime/regenerator/index.js")),d=r(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=u(s);if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var n=a?Object.getOwnPropertyDescriptor(e,d):null;n&&(n.get||n.set)?Object.defineProperty(r,d,n):r[d]=e[d]}r.default=e,t&&t.set(e,r);return r}(t("./src/js/endpoints/wordpress/index.ts")),l=t("./src/js/api/endpoint/index.ts"),i=r(t("./src/js/pages/user/wordpress/_dialogs/change-wp-user-pass-dialog.vue"));function u(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(u=function(e){return e?t:s})(e)}var c,p={beforeRouteEnter:(0,l.preload)([function(e){return n.getLocationUsers.request({id:e.params.id})},function(e){return n.getDetailedLocation.request({id:e.params.id})}]),props:{id:{type:String,required:!0}},components:{ChangeWpUserPassDialog:i.default},data:function(){return{currentItem:{},warningItems:[]}},computed:{userList:n.getLocationUsers.bindData(),detailedLocation:n.getDetailedLocation.bindData()},methods:{beforeResetPassword:function(e){this.currentItem=e,this.$dialog("CHANGE_WP_USER_PASS_DIALOG").open()},getBack:(c=(0,d.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$router.push({name:"user/wordpress"});case 1:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})}};s.Z=p},"./src/js/api/commands/validation/index.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var r=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.validateUsername=s.validateSubdomain=s.validatePassword=s.validateMXValue=s.validateIPRangeList=s.validateForwarder=s.validateFTP=s.validateEmail=s.validateDomain=s.validateDatabase=s.validateDNSValue=s.validateDNSName=s.validateDBUser=void 0;var o=r(t("./src/js/api/command/index.js")),a=r(t("./node_modules/punycode/punycode.es6.js")),d=r(t("./src/js/api/commands/validation/$processors.ts")),n=o.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:o.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:d.default.isValid,message:d.default.getMessage}}),l=n.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});s.validateForwarder=l;var i=n.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});s.validateEmail=i;var u=n.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});s.validateFTP=u;var c=n.extend({params:{type:"dns"},domain:!0,schema:{record:o.default.REQUIRED_STRING}}),p=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:o.default.REQUIRED_STRING}});s.validateDNSValue=p;var m=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});s.validateMXValue=m;var v=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:o.default.REQUIRED_STRING,value:null}});s.validateDNSName=v;var _=n.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});s.validateDatabase=_;var f=n.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});s.validateDBUser=f;var g=n.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});s.validateUsername=g;var j=n.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});s.validateSubdomain=j;var b=n.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});s.validatePassword=b;var w=n.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var s=e.value;return{value:a.default.toASCII(s)}}});s.validateDomain=w;var y=n.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});s.validateIPRangeList=y},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/users.vue?vue&type=style&index=0&id=e52746dc&lang=scss&scoped=true&":function(){},"./src/js/api/commands/validation/$processors.ts":function(e,s,t){"use strict";t.r(s);var r=t("./src/js/api/commands/converters/index.ts");s.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return(0,r.toAppHtml)(e.error||"")}}},"./src/js/endpoints/wordpress/index.ts":function(e,s,t){"use strict";t.r(s),t.d(s,{getLocationUsers:function(){return a},getDetailedLocation:function(){return d},getDatabaseConfig:function(){return n},putDatabaseConfig:function(){return l},changeUserPassword:function(){return i},getLocations:function(){return u},executeInstallation:function(){return c},deleteWordpressInstallation:function(){return p},validateDirectory:function(){return m}});var r=t("./src/js/api/endpoint/index.ts"),o={WORDPRESS_INSTALLATION_NOT_FOUND:(0,r.$gettext)("Wordpress installation not found"),WORDPRESS_INVALID_DIRECTORY:"Invalid directory: %{ message }",WORDPRESS_DATABASE_ERROR:"Invalid database credentials"},a=(0,r.GET)("/wordpress/locations/:id/users",{errorMessages:o}),d=(0,r.GET)("/wordpress/locations/:id/wordpress",{errorMessages:o}),n=(0,r.GET)("/wordpress/locations/:id/config"),l=(0,r.PUT)("/wordpress/locations/:id/config"),i=(0,r.POST)("/wordpress/locations/:locationid/users/:userid/change-password",{errorMessages:o}),u=(0,r.GET)("/wordpress/locations",{errorMessages:o,data:[]}),c=(0,r.POST)("/wordpress/install",{errorMessages:o}),p=(0,r.DELETE)("/wordpress/locations/:id",{errorMessages:o}),m=(0,r.POST)("/wordpress/domain/:domain/validate",{errorMessages:o})},"./src/js/pages/user/wordpress/_dialogs/change-wp-user-pass-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return r.X},default:function(){return a}});var r=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/_dialogs/change-wp-user-pass-dialog.vue?vue&type=script&lang=js&"),o=r.Z,a=(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(o,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",e._g({attrs:{id:"CHANGE_WP_USER_PASS_DIALOG"}},e.$listeners),[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change password\n    ")]),e._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("ui-form-element",{attrs:{vertical:""}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username:\n            ")]),e._v(" "),t("input-text",{attrs:{slot:"content",value:e.user.displayName,disabled:""},slot:"content"})],1),e._v(" "),t("ui-form-element",{attrs:{group:"changePassword",validators:{required:!0,api:e.$commands.validatePassword},vertical:""}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Password:\n            ")]),e._v(" "),t("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.passwd,callback:function(s){e.passwd=s},expression:"passwd"}})],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"changePassword"},on:{click:e.submit},slot:"buttons"},[t("translate",[e._v("Save")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/user/wordpress/users.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return r.X},default:function(){return i}});var r=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/users.vue?vue&type=script&lang=js&"),o=r.Z,a=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/users.vue?vue&type=style&index=0&id=e52746dc&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),d=t("./src/js/pages/user/wordpress/users.vue?vue&type=custom&index=0&blockType=route"),n=t.n(d),l=(0,a.Z)(o,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{id:"modify-userlist",actions:[{label:e.$gettext("Back to WordPress Manager"),visible:!0,icon:"#anchor",handler:function(){return e.getBack()}},{label:e.$gettext("WordPress Dashboard"),visible:!0,icon:"#wordpress-dashboard",href:e.detailedLocation.siteURL+"/wp-login.php",target:"_blank"}]}},[t("template",{slot:"header:buttons"},[t("ui-button-link",{attrs:{theme:"primary",href:e.detailedLocation.siteURL+"/wp-login.php",target:"_blank"}},[t("translate",[e._v("WordPress Dashboard")])],1)],1),e._v(" "),t("app-page-section",[t("ui-r-table",{attrs:{rows:e.userList,columns:[{id:"displayName",label:e.$gettext("Name")},{id:"email",label:e.$gettext("Email")},{id:"login",label:e.$gettext("Login")},{id:"registered",label:e.$gettext("Registered")},{id:"roles",label:e.$gettext("Roles")}],"is-checkable":!1,hideBeforeControls:!0},scopedSlots:e._u([{key:"col:roles",fn:function(s){var t=s.roles;return[e._v("\n                "+e._s(t.toString())+"\n            ")]}},{key:"row:actions",fn:function(s){var r=s.item;return t("ui-link",{attrs:{title:e.$gettext("Change Password")},on:{click:function(s){return e.beforeResetPassword(r)}}},[t("ui-icon",{attrs:{id:"keys",theme:"primary"}})],1)}}])})],1),e._v(" "),t("change-wp-user-pass-dialog",{attrs:{id:e.id,user:e.currentItem}})],2)}),[],!1,null,"e52746dc",null);"function"==typeof n()&&n()(l);var i=l.exports},"./src/js/pages/user/wordpress/users.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/users.vue?vue&type=style&index=0&id=e52746dc&lang=scss&scoped=true&":function(e,s,t){var r=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/wordpress/users.vue?vue&type=style&index=0&id=e52746dc&lang=scss&scoped=true&");r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("8042c112",r,!0,{})}}]);