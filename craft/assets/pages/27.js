(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1729:function(e,t,n){"use strict";n.r(t);var r=n(3930),a=n(2145);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var s=n(0),o=n(3262),l=n.n(o),u=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);"function"==typeof l.a&&l()(u),t.default=u.exports},1888:function(e,t,n){"use strict";n.r(t);var r=n(1889),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=a.a},1889:function(e,t,n){"use strict";n(16),n(23),n(25),n(18),n(6);var r=n(1),a=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.netmask2cidr=t.cidr2netmask=void 0;var i=r(n(38));n(17),n(55),n(21),n(61),n(14),n(65),n(34),n(24),n(1905),n(12),n(15),n(40);var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n(9)),o=r(n(1959)),l=n(88);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(e){if(!e)return"";for(var t=[],n=Number(e),r=0;r<4;r++){var a=Math.min(n,8);t.push(256-Math.pow(2,8-a)),n-=a}return t.join(".")};t.cidr2netmask=c;var d=function(e){if(!e)return"";var t,n,r;return t=(r=e,r.split(".").map(Number)).map((function(e){return(e>>>0).toString(2)})).join(""),n="1",t.split(n).length-1};t.netmask2cidr=d;var f={mixins:[l.$inputValidation],validate:"value",props:{value:{type:String,required:!0},netmask:{type:String,required:!1},version:{type:String,required:!1,default:"v4"},disableVersionSelect:{type:Boolean,required:!1,default:!1},allowRange:{type:Boolean,required:!1,default:!1}},data:function(){return{focused:!1,dataVersion:"v4",innerCidr:null}},computed:{showVersionsSelect:function(){return!this.disableVersionsSelect&&this.$state.app.tokens.HAVE_IPV6},cidr:function(){return this.netmask&&"v4"===this.dataVersion?d(this.netmask):this.netmask},innerValue:function(){return this.value&&null!==this.innerCidr?"".concat(this.value,"/").concat(this.cidr):this.value},mask:function(){var e={v4:Array(4).fill("i[i[i]]").join("."),v6:"[I[I[I[I]]]]".concat(Array(7).fill("[:[I[I[I[I]]]]]").join(""))}[this.dataVersion],t={v4:"[!r[r[r]]]",v6:"[!R[R[R[R]]]]"}[this.dataVersion],n={v4:"[=[n[n]]]",v6:"[-[N[N[N]]]]"}[this.dataVersion];return this.allowRange&&(e="".concat(e).concat(t)),void 0!==this.netmask&&(e="".concat(e).concat(n)),e}},watch:{version:function(e){this.dataVersion!==e&&(this.dataVersion=e)},dataVersion:function(e){e!==this.version&&(this.$emit("input",""),this.$emit("update:netmask","")),this.applyMask()},innerCidr:function(e,t){null!==e&&(null===t&&""===e&&(this.innerCidr=this.cidr),this.emitNetmask(e))}},methods:{emit:function(e){var t=e.target.value,n=t.split("/"),r=(0,i.default)(n,2),a=r[0],s=r[1];this.innerCidr=t.includes("/")?s:null,this.$emit("input",a),t||this.emitNetmask("")},emitNetmask:function(e){return this.$emit("update:netmask","v4"===this.dataVersion?c(e):e)},moveCursor:function(){this.value||this.$refs.input.setSelectionRange(0,0)},applyMask:function(){new o.default({mask:this.mask,keepStatic:!0,definitions:{i:{validator:function(e,t,n){var r=t.buffer;return n-1>-1&&"."!==r[n-1]?(e=r[n-1]+e,e=n-2>-1&&"."!==r[n-2]?r[n-2]+e:"0".concat(e)):e="00".concat(e),/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(e)},cardinality:1},n:{validator:function(e,t,n){var r=t.buffer;return"/"!==r[n-1]&&(e=r[n-1]+e),/^3[0-2]$|^[0-2][0-9]$|^[0-9]$/.test(e)},cardinality:1},I:{validator:function(e,t,n){var r=t.buffer;return(1!==n||":"!==r[0])&&/[A-Fa-f0-9]/.test(e)},cardinality:1,casing:"lower"},N:{validator:function(e,t,n){var r=t.buffer,a=s.pipe(s.update(n,e),s.takeLast(3),s.without("_"),s.join(""),Number)(r);return a>=0&&a<=128}},":":{validator:function(e,t,n){var r=t.buffer;return":"===e?":"!==r[n-1]||!r.join("").includes("::"):!!/[A-Fa-f0-9]/.test(e)&&{insert:[{pos:n,c:":"},{pos:n+1,c:e}],caret:n+2}},cardinality:1,placeholder:":"},"-":{validator:function(e,t,n){var r=t.buffer;if(!n)return!1;if(":"===r[n-1]&&"/"===e)return n>=3&&":"===r[n-2];var a=r.join("").split("/"),s=(0,i.default)(a,1)[0].split(":").map((function(e){return e.replace(/_/g,"")})).join(":");return"/"===e&&s.includes(":")},cardinality:1,placeholder:"/"},"=":{validator:function(e){return"/"===e},cardinality:1,placeholder:"/"},"!":{validator:function(e){return"-"===e},cardinality:1,placeholder:""},r:{validator:function(e,t,n){var r=t.buffer;return"-"!==r[n-1]?(e=r[n-1]+e,e="-"!==r[n-2]?r[n-2]+e:"0".concat(e)):e="00".concat(e),/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(e)},cardinality:1,placeholder:""},R:{validator:function(e){return/[A-Fa-f0-9]/.test(e)},cardinality:1,placeholder:""}},onUnMask:function(e){return e},skipOptionalPartCharacter:"",placeholder:"_"}).mask(this.$refs.input)}},mounted:function(){this.dataVersion=this.version,this.applyMask()}};t.default=f},1897:function(e,t,n){var r=n(1912);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,n(4).default)("733ad7e9",r,!0,{})},1898:function(e,t,n){"use strict";var r=n(59),a=n(506),i=n(54);e.exports=function(e){for(var t=r(this),n=i(t.length),s=arguments.length,o=a(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:a(l,n);u>o;)t[o++]=e;return t}},1905:function(e,t,n){var r=n(29),a=n(1898),i=n(111);r({target:"Array",proto:!0},{fill:a}),i("fill")},1910:function(e,t,n){"use strict";n.r(t);var r=n(1923),a=n(1888);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n(1911);var s=n(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);t.default=o.exports},1911:function(e,t,n){"use strict";n(1897)},1912:function(e,t,n){},1923:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-input-group",{staticClass:"width:100%"},[e.showVersionsSelect?n("input-select",{staticClass:"input-ip-version-select",attrs:{slot:"additions:left",novalidate:"",options:{v4:"IPv4",v6:"IPv6"}},on:{change:function(t){return e.$emit("update:version",t)}},slot:"additions:left",model:{value:e.dataVersion,callback:function(t){e.dataVersion=t},expression:"dataVersion"}}):e._e(),e._v(" "),n("input",{ref:"input",staticClass:"input-ip-mask",attrs:{slot:"input",type:"text"},domProps:{value:e.innerValue},on:{input:e.emit,focus:e.moveCursor},slot:"input"}),e._v(" "),n("template",{slot:"additions:right"},[e._t("additions:right")],2)],2)},a=[]},1948:function(e,t,n){"use strict";n(7),n(10),n(5),n(6),n(8),n(11);var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.free=t.share=t.getConfig=void 0,n(50);var a=r(n(2)),i=r(n(78));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var o="/CMD_IP_CONFIG",l=i.default.get({id:"IP_CONFIG",url:o,response:{},after:function(e){return e.flow((function(e){return{ips:e.data,hideUsersCount:"1"===e.hide_ip_user_numbers,haveShared:"1"===e.have_shared||!0,select:e.ip_list||{}}}),e.mapProp("ips",e.flow(e.mapValues((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ip:t},e)})),Object.values,e.mapArrayProps({linked_ips:function(t){return Object.values(e.mapValues(t,(function(t,n){return{ip:n,apache:e.convert.toAppBoolean(t.apache),dns:e.convert.toAppBoolean(t.dns)}})))},value:function(t){return e.convert.toAppNumber(t)||t}}))),e.mapProp("select",e.toSelect))}});t.getConfig=l;var u=i.default.select({url:o,params:{share:!0}});t.share=u;var c=i.default.select({url:o,params:{free:"Free Selected"}});t.free=c},1966:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.setGlobal=t.validateIP=t.addIp=t.deleteIps=t.clearNamespace=t.removeReseller=t.assignReseller=t.getIps=void 0;var a=r(n(78)),i="/CMD_IP_MANAGER",s=(new(r(n(30)).default)).$gettext,o=a.default.get({url:i,id:"IP_MANAGER",response:{ips:[],info:{}},pagination:!0,after:function(e){return e.flow(e.moveProp({ips:"rows"}),e.deleteProp("num_ips"),e.processTableInfo("rows"),e.mapProps({rows:e.flow(e.toArray,e.mapArray(e.flow(e.moveProp("extra.creators","resellers"),e.mapProps({global:e.isEqual("yes")}))))}))}});t.getIps=o;var l=a.default.select({url:i,params:{assign:!0,json:!0},schema:{reseller:a.default.REQUIRED_STRING}});t.assignReseller=l;var u=a.default.select({url:i,params:{json:!0,remove:!0}});t.removeReseller=u;var c=a.default.select({url:i,params:{json:!0,clear:!0}});t.clearNamespace=c;var d=a.default.select({url:"".concat(i,"?json=yes"),params:{json:!0,delete:!0}});t.deleteIps=d;var f=a.default.post({url:i,params:{action:"add",json:!0,add_to_device_aware:!0},schema:{ip:a.default.REQUIRED_STRING,netmask:a.default.REQUIRED_STRING,add_to_device:a.default.REQUIRED_BOOL}});t.addIp=f;var p=a.default.get({url:i,id:"VALIDATE_IP",params:{comparison1:"equals"},schema:{value:a.default.REQUIRED_STRING},before:function(e){return{value1:e.value,value:null}},after:function(){return function(e){return"0"!==e.ips.info.rows?{valid:!1,message:s("You already have this IP on your system.")}:{valid:!0}}}});t.validateIP=p;var v=a.default.select({url:i,params:{set_global:!0},schema:{global:a.default.REQUIRED_BOOL}});t.setGlobal=v},1967:function(e,t,n){"use strict";n.r(t);var r=n(1968),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=a.a},1968:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(21),n(61),n(85);var a,i=r(n(36)),s=r(n(38)),o=r(n(37)),l=n(13),u=r(n(1910)),c=n(1966),d={components:{InputIp:u.default},data:function(){return{ip:"",netmask:"255.255.255.0",version:"v4",addToDevice:!0}},computed:(0,l.mapTokens)({haveIPv6:"HAVE_IPV6"}),methods:{submit:(a=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$emit("submit",{ip:this.ip,netmask:"v4"===this.version?this.netmask:"/".concat(this.netmask),add_to_device:this.addToDevice}),this.$reset();case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)}),validateIP:function(e){if(!e)return!0;var t=e.split("-"),n=(0,s.default)(t,1)[0];return this.regexps.ip.test(n)},validateRange:function(e){if(!e)return!0;var t=e.split("-"),n=(0,s.default)(t,2),r=n[0],a=n[1],i=r.split("v4"===this.version?".":":").pop();if(!i||!a)return!0;var o="v4"===this.version?10:16;return parseInt(a,o)>parseInt(i,o)},validateUniqueness:function(e){var t=e.value;return this.validateIP(t)?(0,c.validateIP)({value:t}):{valid:!0}}},created:function(){this.validateUniqueness.id="VALIDATE_IP"}};t.default=d},2145:function(e,t,n){"use strict";n.r(t);var r=n(2146),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=a.a},2146:function(e,t,n){"use strict";n(7),n(10),n(6),n(11),n(16),n(14),n(23),n(25),n(18);var r=n(1),a=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(36)),s=r(n(37)),o=r(n(2)),l=r(n(38));n(5),n(12),n(15),n(27),n(8),n(17),n(72),n(2147),n(57);var u=h(n(1966)),c=h(n(1948)),d=h(n(9)),f=r(n(2148)),p=r(n(3260)),v=r(n(3261));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,I,P,k,y,O={preload:u.getIps,commands:u,api:[{command:u.getIps,bind:"data"}],components:{AddIpDialog:f.default,AssignIpDialog:p.default,DeviceIpsDialog:v.default},data:function(){return{select:[],device:"",remove:"all"}},computed:{rows:function(){return this.$api.data.rows},selectedRows:function(){var e=this;return this.rows.filter((function(t){return e.select.includes(t.ip)}))},selectedRowsResellers:function(){return this.selectedRows.reduce((function(e,t){return t.resellers?t.resellers.forEach((function(t){e[t]=t})):e[t.reseller]=t.reseller,e}),{all:this.$gettext("All Resellers")})},enableAssign:function(){return 1===this.selectedRows.length&&"server"!==this.selectedRows[0].status},enableRemove:function(){return this.selectedRows.every((function(e){return e.reseller}))},enableDelete:function(){return this.selectedRows.every((function(e){return!e.reseller&&"free"===e.status}))},enableGlobal:function(){return{set:this.selectedRows.some((function(e){return!e.global})),disabled:this.selectedRows.some((function(e){return"server"===e.status}))}},ifaMessages:function(){return this.$api.data.device_ips.ifa_flags},devices:function(){var e=this;return d.map(d.pipe(d.toPairs,d.map((function(e){var t=(0,l.default)(e,2);return g({ip:t[0]},t[1])})),d.map((function(t){return g(g({},t),{},{flags:(n=t.ifa_flags,r=Number(n),isFinite(r)?Object.entries(e.ifaMessages).reduce((function(e,t){var n=Number(t[0]);return isFinite(n)&&r&n&&e.push(t[1]),e}),[]):[]),active:e.rows.some((function(e){return e.ip===t.ip}))});var n,r}))))(this.$api.data.device_ips.devices)},ipToDevice:function(){return d.pipe(d.map(d.keys),d.toPairs,d.reduce((function(e,t){return d.forEach((function(n){e[n]=t[0]}),t[1]),e}),{}))(this.$api.data.device_ips.devices)},ipPool:function(){return Object.entries(this.devices).reduce((function(e,t){var n=(0,l.default)(t,2),r=n[0];return n[1].forEach((function(t,n){var a=t.ip,i=t.netmask,s=t.active,o=t.flags,l=t.ifa_flags,u=Boolean(8&Number(l));e.push({device:r,ip:a,netmask:i,flags:o,loopback:u,active:s,first:0===n})})),e}),[])}},methods:{rowsMapper:function(e){var t=this.ipToDevice[e.ip]||null,n=t?this.devices[t].find((function(t){return t.ip===e.ip})).flags:[];return g(g({},e),{},{device:t,flags:n})},openDeviceModal:function(e){this.device=e,this.$dialog("DEVICE_IPS_DIALOG").open()},reloadTable:function(){this.$reloadApiTable(),this.select=[]},assignIp:function(e){u.assignReseller({select:this.select,reseller:e}).then(this.reloadTable)},removeIpReseller:(y=(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.removeReseller({select:this.select,reseller:"all"===this.remove?null:this.remove});case 2:this.reloadTable(),this.remove="all";case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)}),clearIpNamespace:function(){u.clearNamespace({select:this.select}).then(this.reloadTable)},deleteIps:function(){u.deleteIps({select:this.select}).then(this.reloadTable)},addIp:function(e){return u.addIp(e).then(this.reloadTable)},setGlobal:function(){u.setGlobal({select:this.select,global:this.enableGlobal.set}).then(this.reloadTable)},addIpFromDevice:(k=(0,s.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.addIp({ip:t.ip,netmask:t.netmask,add_to_device:!1});case 2:u.getIps(),this.$dialog("DEVICE_IPS_DIALOG").close();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)}),removeIpFromDevice:(P=(0,s.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.deleteIps({select:[t.ip]});case 2:u.getIps(),this.$dialog("DEVICE_IPS_DIALOG").close();case 4:case"end":return e.stop()}}),e,this)}))),function(e){return P.apply(this,arguments)}),share:(I=(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.share({select:this.select});case 2:this.reloadTable();case 3:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)}),free:(_=(0,s.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.free({select:this.select});case 2:this.reloadTable();case 3:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})}};t.default=O},2147:function(e,t,n){var r=n(51),a=n(56),i=n(511),s=n(512).UNSUPPORTED_Y;r&&("g"!=/./g.flags||s)&&a.f(RegExp.prototype,"flags",{configurable:!0,get:i})},2148:function(e,t,n){"use strict";n.r(t);var r=n(2869),a=n(1967);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var s=n(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);t.default=o.exports},2149:function(e,t,n){"use strict";n.r(t);var r=n(2150),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=a.a},2150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(17);var r={api:[{command:n(1966).getIps,bind:{"response.creators":"creators"}}],props:{ipCount:{type:Number,required:!0}},data:function(){return{reseller:""}},methods:{submit:function(){this.$emit("assign",this.reseller)}}};t.default=r},2151:function(e,t,n){"use strict";n.r(t);var r=n(2152),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t.default=a.a},2152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={props:{device:{type:String,required:!0},ips:{type:Array,required:!1,default:function(){return[]}}}};t.default=r},2869:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"ADD_IP_DIALOG",theme:"primary"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Add IP Address")]),e._v(" "),n("template",{slot:"content"},[n("ui-form-element",{attrs:{group:"addIp",validators:{required:!0,validateIP:e.validateIP,validateRange:e.validateRange,api:e.validateUniqueness},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("IP Address")]),e._v(" "),n("input-ip",{attrs:{slot:"content",version:e.version,netmask:e.netmask,disableVersionSelect:!e.haveIPv6,allowRange:""},on:{"update:version":function(t){e.version=t},"update:netmask":function(t){e.netmask=t}},slot:"content",model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}}),e._v(" "),n("translate",{attrs:{slot:"error:validateIP"},slot:"error:validateIP"},[e._v("Should be valid IP Address")]),e._v(" "),n("translate",{attrs:{slot:"error:validateRange"},slot:"error:validateRange"},[e._v("Range end should be larger than start")])],1),e._v(" "),n("ui-form-element",{attrs:{group:"addIp",validators:{required:!0,regex:e.regexps.ip},vertical:""}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("Netmask")]),e._v(" "),"v4"===e.version?n("input-ip",{attrs:{slot:"content",disableVersionSelect:""},slot:"content",model:{value:e.netmask,callback:function(t){e.netmask=t},expression:"netmask"}}):n("translate",{attrs:{slot:"content"},slot:"content"},[e._v("\n                For IPv6 IPs, use a /mask, eg: /64\n            ")]),e._v(" "),n("translate",{attrs:{slot:"error:regex"},slot:"error:regex"},[e._v("Should be valid netmask")])],1),e._v(" "),n("ui-form-element",{attrs:{vertical:""}},[n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.addToDevice,callback:function(t){e.addToDevice=t},expression:"addToDevice"}},[n("translate",[e._v("Add to device")])],1)],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"primary",validateGroup:"addIp"},on:{click:e.submit},slot:"buttons"},[n("translate",[e._v("Add IP")])],1)],2)},a=[]},3260:function(e,t,n){"use strict";n.r(t);var r=n(4092),a=n(2149);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var s=n(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);t.default=o.exports},3261:function(e,t,n){"use strict";n.r(t);var r=n(4093),a=n(2151);for(var i in a)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(i);var s=n(0),o=Object(s.a)(a.default,r.a,r.b,!1,null,null,null);t.default=o.exports},3262:function(e,t){},3930:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",{attrs:{actions:[{handler:e.$dialog("ADD_IP_DIALOG").open,label:e.$gettext("Add IP"),icon:"#plus-fill"}]}},[n("template",{slot:"header:buttons"},[n("ui-button",{attrs:{theme:"primary"},on:{click:function(t){e.$dialog("ADD_IP_DIALOG").open()}}},[n("translate",[e._v("Add IP")])],1)],1),e._v(" "),n("app-page-section",[n("ui-tabs",{attrs:{tabs:[{id:"ips",label:e.$gettext("IPs")},{id:"pool",label:e.$gettext("Devices")}]}},[n("ui-api-table",e._b({attrs:{slot:"tab:ips","equal-width-layout":""},on:{"action:assign":function(t){e.$dialog("ASSIGN_IP_DIALOG").open()},"action:remove":function(t){e.$dialog("DELETE_IP_FROM_RESELLER").open()},"action:clear":e.clearIpNamespace,"action:global":e.setGlobal,"action:share":e.share,"action:free":e.free,"action:del":function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}},slot:"tab:ips",scopedSlots:e._u([{key:"col:ip",fn:function(t){var r=t.ip,a=t.global,i=t.flags;return[n("ui-link",{attrs:{name:"admin/ip-manager/details",params:{ip:r}}},[e._v("\n                        "+e._s(r)+"\n                        "),i.length>0?n("ui-tooltip",[n("ul",e._l(i,(function(t){return n("li",{key:t,domProps:{textContent:e._s(t)}})})),0)]):e._e()],1),e._v(" "),a?n("ui-badge",{directives:[{name:"margin",rawName:"v-margin:left",value:1,expression:"1",arg:"left"}],attrs:{theme:"safe",icon:!1}},[n("translate",[e._v("Global")])],1):e._e()]}},{key:"col:device",fn:function(t){return[t.device?n("ui-link",{on:{click:function(n){return e.openDeviceModal(t.device)}}},[e._v("\n                        "+e._s(t.device)+"\n                    ")]):e._e()]}},{key:"col:resellers",fn:function(t){var r=t.resellers,a=t.status,i=t.reseller;return["server"===a?n("span"):[e._v("\n                        "+e._s(r?r.join(", "):i)+"\n                    ")]]}}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getIps,endpoint:"GET_IPS",rowID:"ip",columns:{ip:e.$gettext("IP"),status:e.$gettext("Status"),device:e.$gettext("Device"),resellers:e.$gettext("Reseller(s)"),users:e.$gettext("Users"),nameserver:{label:e.$gettext("Name Server"),filter:"p6eUnicode"},netmask:e.$gettext("Netmask")},actions:{assign:{label:e.$gettext("Assign"),disabled:!e.enableAssign},remove:{label:e.$gettext("Remove from reseller"),disabled:!e.enableRemove},clear:e.$gettext("Clear NS"),global:{label:e.enableGlobal.set?e.$gettext("Set Global"):e.$gettext("Un-Set Global"),disabled:e.enableGlobal.disabled},share:{label:e.$gettext("Share"),disabled:!1===e.enableRemove},free:{label:e.$gettext("Free"),disabled:!1===e.enableRemove},del:{label:e.$gettext("Delete"),disabled:!e.enableDelete}},verticalLayout:e.$_Client.isPhone,rowsMapper:e.rowsMapper},!1)),e._v(" "),n("ui-r-table",{attrs:{slot:"tab:pool",rows:e.ipPool,columns:[{id:"device",label:e.$gettext("Device")},{id:"ip",label:e.$gettext("IP")},{id:"netmask",label:e.$gettext("Netmask")},{id:"active",label:e.$gettext("Active")}],"hide-before-controls":"","is-checkable":!1},slot:"tab:pool",scopedSlots:e._u([{key:"col:device",fn:function(t){var r=t.item;return[r.first?n("span",{staticClass:"txt:bold"},[e._v("\n                        "+e._s(r.device)+"\n                        "),r.flags.length>0?n("ui-tooltip",[n("ul",e._l(r.flags,(function(t){return n("li",{key:t,domProps:{textContent:e._s(t)}})})),0)]):e._e()],1):n("span")]}},{key:"col:active",fn:function(t){var r=t.item;return n("ui-badge",{attrs:{theme:r.active?"safe":"danger"}},[e._v("\n                    "+e._s(r.active?e.$gettext("Yes"):e.$gettext("No"))+"\n                ")])}},{key:"row:actions",fn:function(t){var r=t.item;return!1===r.loopback?n("ui-actions",{},[!1===r.active?n("ui-link",{on:{click:function(t){return e.addIpFromDevice(r)}}},[n("translate",[e._v("Add IP")])],1):n("ui-link",{on:{click:function(t){return e.removeIpFromDevice(r)}}},[n("translate",[e._v("Remove IP")])],1)],1):e._e()}}],null,!0)})],1)],1),e._v(" "),n("assign-ip-dialog",{attrs:{"ip-count":e.select.length},on:{assign:e.assignIp}}),e._v(" "),n("add-ip-dialog",{on:{submit:e.addIp}}),e._v(" "),n("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("IP Address","IP Addresses",e.select.length)},on:{"click:confirm":e.deleteIps}}),e._v(" "),n("ui-dialog",{attrs:{id:"DELETE_IP_FROM_RESELLER"}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Delete IP from Reseller\n        ")]),e._v(" "),n("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Select Reseller\n            ")]),e._v(" "),n("input-select",{attrs:{slot:"content",options:e.selectedRowsResellers},slot:"content",model:{value:e.remove,callback:function(t){e.remove=t},expression:"remove"}})],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:e.removeIpReseller},slot:"buttons"},[n("translate",[e._v("Remove IP")])],1)],1),e._v(" "),n("device-ips-dialog",{attrs:{device:e.device,ips:e.devices[e.device]},on:{"ip:add":e.addIpFromDevice,"ip:remove":e.removeIpFromDevice}})],2)},a=[]},4092:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"ASSIGN_IP_DIALOG",theme:"safe"}},[n("translate",{attrs:{slot:"title","translate-n":e.ipCount,"translate-plural":"Assign IPs"},slot:"title"},[e._v("\n        Assign IP\n    ")]),e._v(" "),n("ui-form-element",{attrs:{slot:"content",group:"assignIp",validators:{required:!0}},slot:"content"},[n("translate",{attrs:{slot:"title","translate-n":e.ipCount,"translate-plural":"Assign IPs to:"},slot:"title"},[e._v("\n            Assign IP to:\n        ")]),e._v(" "),n("input-select",{attrs:{slot:"content",options:e.$api.creators},slot:"content",model:{value:e.reseller,callback:function(t){e.reseller=t},expression:"reseller"}})],1),e._v(" "),n("ui-button",{attrs:{slot:"buttons",validateGroup:"assignIp",theme:"safe"},on:{click:e.submit},slot:"buttons"},[n("translate",[e._v("Assign")])],1)],1)},a=[]},4093:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ui-dialog",{attrs:{id:"DEVICE_IPS_DIALOG",size:"normal","no-close-btn":""}},[n("translate",{attrs:{slot:"title","translate-params":{device:e.device}},slot:"title"},[e._v("\n        Device: %{ device }\n    ")]),e._v(" "),n("ui-r-table",{attrs:{slot:"content",columns:[{id:"ip",label:e.$gettext("IP")},{id:"netmask",label:e.$gettext("Netmask")},{id:"active",label:e.$gettext("Active")}],rows:e.ips,"disable-pagination":"","is-checkable":!1,"hide-before-controls":""},slot:"content",scopedSlots:e._u([{key:"col:active",fn:function(t){var r=t.item;return n("ui-badge",{attrs:{theme:r.active?"safe":"danger"}},[e._v("\n            "+e._s(r.active?e.$gettext("Yes"):e.$gettext("No"))+"\n        ")])}},{key:"col:ip",fn:function(t){var r=t.item;return n("ui-tooltip",{},[n("span",{attrs:{slot:"trigger"},domProps:{textContent:e._s(r.ip)},slot:"trigger"}),e._v(" "),n("ul",e._l(r.flags,(function(t){return n("li",{key:t,domProps:{textContent:e._s(t)}})})),0)])}},{key:"row:actions",fn:function(t){var r=t.item;return n("ui-actions",{},[r.active?n("ui-link",{on:{click:function(t){return e.$emit("ip:remove",r)}}},[n("translate",[e._v("Remove IP")])],1):n("ui-link",{on:{click:function(t){return e.$emit("ip:add",r)}}},[n("translate",[e._v("Add IP")])],1)],1)}}])})],1)},a=[]}}]);