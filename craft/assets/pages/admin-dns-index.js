(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[4216],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/index.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var l,n=o(t("./node_modules/@babel/runtime/regenerator/index.js")),a=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),r=t("./src/js/api/commands/dns-zone.js"),d={preload:r.getZones,commands:{getZones:r.getZones},api:[{command:r.getZones,bind:"zones"}],data:function(){return{records:[],filters:[{column:"domain",type:"startswith",value:""},{column:"local_data",type:"contains",value:""},{column:"local_mail",type:"contains",value:""}]}},methods:{deleteRecords:(l=(0,a.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.deleteZones)({select:this.records});case 2:this.$refs.zones.reloadTable(),this.$reset();case 4:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})}};s.Z=d},"./src/js/api/commands/dns-zone.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.resetZone=s.getZones=s.deleteZones=s.addZone=void 0;var l=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),n=o(t("./src/js/api/command/index.js"));function a(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?a(Object(t),!0).forEach((function(s){(0,l.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var d=n.default.get({id:"DNS_ZONES",url:"/CMD_DNS_ADMIN",domain:!1,schema:r(r({},n.default.PAGINATION),{},{filters:{type:Object,required:!1},domain:null}),before:function(e){var s=e.filters;if(s){var t={};s.domain&&(t.comparison1=s.searchType,t.value1=s.domain),s.local_data&&(t.comparison2="contains",t.value2=s.local_data),s.local_mail&&(t.comparison3="contains",t.value3=s.local_mail)}return{}},after:function(e){return function(s){return{info:{dns_ns:s.info.dns_ns,dns_ptr:s.info.dns_ptr},zones:e.toTable(e.mapArrayProps({local_data:e.convert.toAppBoolean,local_mail:e.convert.toAppBoolean}))(s)}}}});s.getZones=d;var i=n.default.post({url:"/CMD_DNS_ADMIN",params:{action:"create"},domain:!0,schema:{ip:n.default.REQUIRED_STRING,ns1:n.default.REQUIRED_STRING,ns2:n.default.REQUIRED_STRING,reverse:n.default.OPTIONAL_BOOL}});s.addZone=i;var u=n.default.select({url:"/CMD_DNS_ADMIN",params:{action:"delete"}});s.deleteZones=u;var c=n.default.post({url:"/CMD_DNS_ADMIN",params:{action:"select",reset:!0},domain:!0});s.resetZone=c},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/index.vue?vue&type=style&index=0&id=6a20e2e6&lang=scss&scoped=true&":function(){},"./src/js/pages/admin/dns/index.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return i}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/index.vue?vue&type=script&lang=js&"),l=o.Z,n=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/index.vue?vue&type=style&index=0&id=6a20e2e6&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),a=t("./src/js/pages/admin/dns/index.vue?vue&type=custom&index=0&blockType=route"),r=t.n(a),d=(0,n.Z)(l,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{actions:[{name:"admin/dns/add",label:e.$gettext("Add DNS Zone"),icon:"#plus-fill"}]}},[t("ui-button-link",{attrs:{slot:"header:buttons",theme:"safe",name:"admin/dns/add"},slot:"header:buttons"},[t("translate",[e._v("Add DNS Zone")])],1),e._v(" "),t("app-page-section",[t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Show domains that\n            ")]),e._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex"},{name:"gutter",rawName:"v-gutter",value:[0,1],expression:"[0, 1]"}],attrs:{slot:"content"},slot:"content"},[t("ui-input-group",[t("input-select",{staticClass:"search-type-select",attrs:{slot:"additions:left",options:{startswith:e.$gettext("Starts With"),contains:e.$gettext("Contains"),equals:e.$gettext("Equals")}},slot:"additions:left",model:{value:e.filters[0].type,callback:function(s){e.$set(e.filters[0],"type",s)},expression:"filters[0].type"}}),e._v(" "),t("input-text",{attrs:{slot:"input"},slot:"input",model:{value:e.filters[0].value,callback:function(s){e.$set(e.filters[0],"value",s)},expression:"filters[0].value"}}),e._v(" "),t("ui-button",{attrs:{slot:"additions:right",theme:"light",size:"normal",icon:"close",title:e.$gettext("Clear Search")},on:{click:function(s){e.filters[0].value=""}},slot:"additions:right"})],1)],1)],1),e._v(" "),t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Local Data\n            ")]),e._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex"},{name:"gutter",rawName:"v-gutter",value:[0,1],expression:"[0, 1]"}],attrs:{slot:"content"},slot:"content"},[t("input-radio",{attrs:{value:""},model:{value:e.filters[1].value,callback:function(s){e.$set(e.filters[1],"value",s)},expression:"filters[1].value"}},[t("translate",[e._v("Both")])],1),e._v(" "),t("input-radio",{attrs:{value:"yes"},model:{value:e.filters[1].value,callback:function(s){e.$set(e.filters[1],"value",s)},expression:"filters[1].value"}},[t("translate",[e._v("Enabled")])],1),e._v(" "),t("input-radio",{attrs:{value:"no"},model:{value:e.filters[1].value,callback:function(s){e.$set(e.filters[1],"value",s)},expression:"filters[1].value"}},[t("translate",[e._v("Disabled")])],1)],1)],1),e._v(" "),t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Local Mail\n            ")]),e._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex"},{name:"gutter",rawName:"v-gutter",value:[0,1],expression:"[0, 1]"}],attrs:{slot:"content"},slot:"content"},[t("input-radio",{attrs:{value:""},model:{value:e.filters[2].value,callback:function(s){e.$set(e.filters[2],"value",s)},expression:"filters[2].value"}},[t("translate",[e._v("Both")])],1),e._v(" "),t("input-radio",{attrs:{value:"yes"},model:{value:e.filters[2].value,callback:function(s){e.$set(e.filters[2],"value",s)},expression:"filters[2].value"}},[t("translate",[e._v("Enabled")])],1),e._v(" "),t("input-radio",{attrs:{value:"no"},model:{value:e.filters[2].value,callback:function(s){e.$set(e.filters[2],"value",s)},expression:"filters[2].value"}},[t("translate",[e._v("Disabled")])],1)],1)],1)],1),e._v(" "),t("app-page-section",[t("ui-api-table",e._b({ref:"zones",on:{"action:delete":function(s){e.$dialog("DELETE_ITEMS_DIALOG").open()}},scopedSlots:e._u([{key:"col:domain",fn:function(s){var o=s.domain;return t("ui-link",{attrs:{name:"admin/dns/edit",params:{dom:o}}},[e._v("\n                "+e._s(e._f("p6eUnicode")(o))+"\n            ")])}},{key:"col:local_data",fn:function(s){var o=s.local_data;return t("ui-badge",{attrs:{theme:o?"safe":"danger",label:o?e.$gettext("Yes"):e.$gettext("No")}})}},{key:"col:local_mail",fn:function(s){var o=s.local_mail;return t("ui-badge",{attrs:{theme:o?"safe":"danger",label:o?e.$gettext("Yes"):e.$gettext("No")}})}}]),model:{value:e.records,callback:function(s){e.records=s},expression:"records"}},"ui-api-table",{command:e.$commands.getZones,property:"zones",rowID:"domain",columns:{domain:{label:e.$gettext("Domain"),grow:!0},local_data:e.$gettext("Local Data"),local_mail:e.$gettext("Local Mail")},actions:{delete:e.$gettext("Delete Selected")},filters:e.filters,verticalLayout:e.$_Client.isPhone},!1))],1),e._v(" "),t("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("record","records",e.records.length)},on:{"click:confirm":e.deleteRecords}})],1)}),[],!1,null,"6a20e2e6",null);"function"==typeof r()&&r()(d);var i=d.exports},"./src/js/pages/admin/dns/index.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/index.vue?vue&type=style&index=0&id=6a20e2e6&lang=scss&scoped=true&":function(e,s,t){var o=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/dns/index.vue?vue&type=style&index=0&id=6a20e2e6&lang=scss&scoped=true&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("51e311fa",o,!0,{})}}]);