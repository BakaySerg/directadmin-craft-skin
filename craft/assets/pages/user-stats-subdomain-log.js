(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[3565],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=script&lang=js&":function(e,s,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js");var t=o("./node_modules/vue-codemirror/dist/vue-codemirror.js");o("./node_modules/codemirror/mode/javascript/javascript.js"),o("./node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),o("./node_modules/codemirror/mode/css/css.js"),o("./node_modules/codemirror/mode/php/php.js"),o("./node_modules/codemirror/mode/perl/perl.js"),o("./node_modules/codemirror/mode/properties/properties.js"),o("./node_modules/codemirror/mode/xml/xml.js"),o("./node_modules/codemirror/mode/sql/sql.js");o("./src/js/modules/utils/index.js");var l,d=o("./src/js/vue/mixins/local/inputValidation.js"),r=o("./src/js/vue/helpers.js"),n=["text","html","javascript","css","php","perl","ini","xml","sql","mysql","json"],u={components:{codemirror:t.codemirror},mixins:[d.$inputValidation],validate:"value",props:{value:{type:String,required:!0,default:""},readOnly:{type:Boolean,required:!1,default:!1},mode:{type:String,required:!1,default:"text",validator:(l=n,function(e){return l.includes(e)})},disableModes:{type:Boolean,required:!1,default:!1},disableThemes:{type:Boolean,required:!1,default:!1}},data:function(){return{editorMode:this.mode}},staticData:{modes:n,themes:["default","base16-light","base16-dark","monokai","solarized"]},computed:{theme:(0,r.options)("code-editor/theme"),cmMode:function(){switch(this.editorMode){case"json":return{name:"javascript",json:!0};case"mysql":return"sql";case"ini":return"properties";default:return this.editorMode}}}};s.Z=u},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/subdomain-log.vue?vue&type=script&lang=js&":function(e,s,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.string.split.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.concat.js");var l=t(o("./node_modules/@babel/runtime/helpers/toArray.js")),d=o("./src/js/api/commands/subdomains.js"),r={components:{InputTextEditor:t(o("./src/js/components/local/inputs/input-text-editor.vue")).default},preload:function(e){var s=e.subdomain,o=e.type,t=s.split("."),r=(0,l.default)(t),n=r[0],u=r.slice(1);return(0,d.getSubdomainLog)({subdomain:n,domain:u.join("."),type:"usage"===o?"log":"error",lines:"100"})},api:[{command:d.getSubdomainLog,bind:"log"}],props:{subdomain:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{lines:100,show:"lines"}},computed:{domain:function(){return this.subdomain.split(".").slice(1).join(".")},subName:function(){return this.subdomain.split(".").shift()},rawLink:function(){var e="usage"===this.type?"log":"error",s="/CMD_SHOW_LOG?domain=".concat(this.domain,"&type=").concat(e,"&subdomain=").concat(this.subName);return"lines"===this.show?"".concat(s,"&lines=").concat(this.lines):s},log:function(){return this.$api.log.join("\n")}},methods:{loadLog:function(){var e="usage"===this.type?"log":"error";(0,d.getSubdomainLog)({domain:this.domain,subdomain:this.subName,type:e,lines:"lines"===this.show?String(this.lines):null})}}};s.Z=r},"./src/js/api/commands/subdomains.js":function(e,s,o){"use strict";o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("./node_modules/core-js/modules/es.object.define-properties.js"),o("./node_modules/core-js/modules/es.object.define-property.js");var t=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.phpOverride=s.getSubdomains=s.getSubdomainLog=s.getPhpDocrootOptions=s.docrootOverride=s.deleteSubdomains=s.createSubdomain=void 0,o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.array.slice.js");var l=t(o("./node_modules/@babel/runtime/helpers/defineProperty.js")),d=t(o("./src/js/api/command/index.js"));function r(e,s){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),o.push.apply(o,t)}return o}var n=d.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(e){for(var s=1;s<arguments.length;s++){var o=null!=arguments[s]?arguments[s]:{};s%2?r(Object(o),!0).forEach((function(s){(0,l.default)(e,s,o[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(o,s))}))}return e}({domain:d.default.DOMAIN},d.default.PAGINATION),after:function(e){return e.flow(e.moveProp("subdomains","rows"),e.moveProp("allow_subdomain_docroot_override","docroot"),e.processTableInfo("rows"),e.mapProps({awstats:function(e){return"0"!==e},webalizer:e.isEqual("1"),docroot:e.isEqual("1"),has_php_selector:e.isEqual("yes"),rows:e.flow(e.toArray,e.mapArray(e.moveProp("subdomain_docroot_override","docroot")),e.mapArrayProps({bandwidth:e.convert.toAppNumber,stats:e.mapProps({webalizer_only:e.convert.toAppBoolean}),docroot:function(s){if(s&&Object.keys(s).length){if(void 0!==s.php1_select){var o=e.toSelect(s.php1_select),t=o.options,l=o.value;return{public_html:s.public_html,private_html:s.private_html,php_labels:t,php1_select:l}}return s}return!1}}))}))}});s.getSubdomains=n;var u=d.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:d.default.DOMAIN,subdomain:d.default.REQUIRED_STRING}});s.createSubdomain=u;var a=d.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:d.default.REQUIRED_BOOL}});s.deleteSubdomains=a;var i=d.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:d.default.DOMAIN,type:d.default.REQUIRED_STRING,subdomain:d.default.REQUIRED_STRING,lines:d.default.OPTIONAL_STRING},after:function(e){return e.flow(e.convert.toLines,(function(e){return e.slice(0,-1)}))}});s.getSubdomainLog=i;var c=d.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:d.default.REQUIRED_STRING,private_html:d.default.OPTIONAL_STRING,public_html:d.default.OPTIONAL_STRING}});s.docrootOverride=c;var m=d.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:d.default.REQUIRED_STRING,php1_select:d.default.REQUIRED_STRING}});s.phpOverride=m;var p=d.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:d.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),e.mapProps({php:e.toSelect,has_php_selector:e.isEqual("yes")}))}});s.getPhpDocrootOptions=p},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&":function(){},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/subdomain-log.vue?vue&type=style&index=0&id=2caeb492&lang=scss&scoped=true&":function(){},"./src/js/components/local/inputs/input-text-editor.vue":function(e,s,o){"use strict";o.r(s),o.d(s,{__esModule:function(){return t.X},default:function(){return d}});var t=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=script&lang=js&"),l=t.Z,d=(o("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&"),(0,o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(l,(function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{staticClass:"input-text-editor"},[e.$slots.header?o("div",{staticClass:"input-text-editor-header"},[e._t("header")],2):e._e(),e._v(" "),o("codemirror",{attrs:{value:e.value,options:{lineNumbers:!0,readOnly:e.readOnly,mode:e.cmMode,theme:e.theme}},on:{input:function(s){return e.$emit("input",s)}}}),e._v(" "),e.disableModes&&e.disableThemes?e._e():o("div",{staticClass:"input-text-editor-bottom-bar"},[e.disableModes?e._e():o("input-select",{staticClass:"input-text-editor-bottom-bar-select",attrs:{options:e.modes},model:{value:e.editorMode,callback:function(s){e.editorMode=s},expression:"editorMode"}},[o("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[o("translate",[e._v("Mode: ")])],1)],1),e._v(" "),e.disableThemes?e._e():o("input-select",{staticClass:"input-text-editor-bottom-bar-select --wide",attrs:{options:e.themes},model:{value:e.theme,callback:function(s){e.theme=s},expression:"theme"}},[o("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[o("translate",[e._v("Theme: ")])],1)],1)],1)],1)}),[],!1,null,null,null).exports)},"./src/js/pages/user/stats/subdomain-log.vue":function(e,s,o){"use strict";o.r(s),o.d(s,{__esModule:function(){return t.X},default:function(){return a}});var t=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/subdomain-log.vue?vue&type=script&lang=js&"),l=t.Z,d=(o("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/subdomain-log.vue?vue&type=style&index=0&id=2caeb492&lang=scss&scoped=true&"),o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),r=o("./src/js/pages/user/stats/subdomain-log.vue?vue&type=custom&index=0&blockType=route"),n=o.n(r),u=(0,d.Z)(l,(function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("app-page",{attrs:{id:"domain-log"}},[o("template",{slot:"page:title"},["usage"===e.type?o("translate",{attrs:{"translate-params":{domain:e.domain}}},[e._v("\n            View Usage Log for %{ domain }\n        ")]):o("translate",{attrs:{"translate-params":{domain:e.domain}}},[e._v("\n            View Error Log for %{ domain }\n        ")])],1),e._v(" "),o("app-page-section",[o("div",{directives:[{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],staticClass:"filters"},[o("ui-form-element",{attrs:{underline:"lines"===e.show}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Show\n                ")]),e._v(" "),o("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,2],expression:"[0, 2]"}],attrs:{slot:"content"},slot:"content"},[o("input-radio",{attrs:{value:"full"},on:{change:e.loadLog},model:{value:e.show,callback:function(s){e.show=s},expression:"show"}},[o("translate",[e._v("Full Log")])],1),e._v(" "),o("input-radio",{attrs:{value:"lines"},on:{change:e.loadLog},model:{value:e.show,callback:function(s){e.show=s},expression:"show"}},[o("translate",[e._v("Tail")])],1)],1)],1),e._v(" "),o("transition",{attrs:{name:"fade"}},["lines"===e.show?o("ui-form-element",{attrs:{underline:!1}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        Number of lines to show\n                    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("input-text",{attrs:{number:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.loadLog.apply(null,arguments)}},model:{value:e.lines,callback:function(s){e.lines=s},expression:"lines"}}),e._v(" "),o("ui-button",{attrs:{theme:"safe",size:"normal",disabled:!Number(e.lines)},on:{click:e.loadLog}},[o("translate",[e._v("Reload Log")])],1)],1)],1):e._e()],1)],1),e._v(" "),o("input-text-editor",{attrs:{value:e.log,"read-only":"","disable-modes":""}},[o("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center",main:"between"},expression:"{\n                    cross: 'center',\n                    main: 'between',\n                }"}],attrs:{slot:"header"},slot:"header"},[e._v("\n                "+e._s(e.domain)+"\n                "),o("ui-button-link",{attrs:{size:"small",theme:"light",href:e.rawLink,target:"_blank"}},[o("translate",[e._v("raw")])],1)],1)])],1)],2)}),[],!1,null,"2caeb492",null);"function"==typeof n()&&n()(u);var a=u.exports},"./src/js/pages/user/stats/subdomain-log.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&":function(e,s,o){var t=o("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&lang=scss&");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);(0,o("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("7a6c41ca",t,!0,{})},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/subdomain-log.vue?vue&type=style&index=0&id=2caeb492&lang=scss&scoped=true&":function(e,s,o){var t=o("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/stats/subdomain-log.vue?vue&type=style&index=0&id=2caeb492&lang=scss&scoped=true&");t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);(0,o("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("54a2688e",t,!0,{})}}]);