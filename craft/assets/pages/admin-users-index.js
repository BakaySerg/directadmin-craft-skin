(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[9351],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0,t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.object.keys.js");var n=t("./src/js/vue/helpers.js"),r=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=a(s);if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=r?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}n.default=e,t&&t.set(e,n);return n}(t("./node_modules/ramda/src/index.js"));function a(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(a=function(e){return e?t:s})(e)}var l={props:{domains:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{showAll:!1}},computed:{showDomainLimit:(0,n.options)("tables/userDomainsLimit"),showPointers:function(){var e=this.$_session.showPointersInList;return void 0===e?1:e},shownDomainNumber:function(){return Number(this.showDomainLimit)},showExpandButton:function(){return Object.keys(this.domains).length>this.shownDomainNumber},showAllDomains:function(){return this.showAll||Object.keys(this.domains).length===this.shownDomainNumber+1},shownDomains:function(){if(this.showAllDomains)return this.domains;var e=r.slice(0,this.shownDomainNumber,r.keys(this.domains));return r.pick(e,this.domains)}}};s.Z=l},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/users/index.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),n=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var r=o(t("./node_modules/@babel/runtime/regenerator/index.js")),a=o(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),l=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),u=o(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.array.reduce.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js");var i=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=v(s);if(t&&t.has(e))return t.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=r?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(o,a,l):o[a]=e[a]}o.default=e,t&&t.set(e,o);return o}(t("./node_modules/ramda/src/index.js")),d=t("./src/js/api/commands/admin/users/index.js"),c=t("./src/js/api/commands/admin/users/actions.js"),m=o(t("./src/js/components/local/create-message-dialog.vue")),p=o(t("./src/js/components/local/suspend-user-dialog.vue")),f=o(t("./src/js/components/local/user-domains.vue")),_=o(t("./src/js/components/local/change-user-password-dialog.vue"));function v(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(v=function(e){return e?t:s})(e)}function j(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,o)}return t}function g(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?j(Object(t),!0).forEach((function(s){(0,l.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var h,b,y,w={preload:d.getUsers,api:[{command:d.getUsers,bind:{"response.users":"users","response.options":"options"}},{command:c.getUsersCountPerReseller,bind:"usersPerReseller"}],commands:{getUsers:d.getUsers},components:{CreateMessageDialog:m.default,SuspendUserDialog:p.default,UserDomains:f.default,ChangePasswordDialog:_.default},data:function(){return{select:[],leaveDNS:!1,message:"",userStatus:{}}},computed:{rows:function(){return this.$api.users.rows},options:function(){return this.$api.options},showRemoteServer:function(){return!!Object.keys(this.options.remote_servers||{}).length},reasons:function(){return p.default.$exports.reasons.call(this,this.$api.options.reasons.options)},hasDateCreatedColumn:function(){return void 0!==this.$api.users.columns.date_created},additionalColumnLabels:function(){return{date_created:this.$gettext("Date Created"),mysql:this.$gettext("Databases"),package:this.$gettext("Package"),email:this.$gettext("E-mail")}},additionalColumns:function(){var e=this;return i.pipe(i.omit(["username","creator","bandwidth","quota","vdomains","suspended","ip","domains","sent_emails","remote_server"]),i.mapObjIndexed((function(s,t){return{label:e.additionalColumnLabels[t]||t,visible:!1}})))(this.$api.users.columns)},deleteData:function(){var e=this;return this.select.reduce((function(s,t){var o=e.$api.usersPerReseller[t];return void 0!==o&&s.push({name:t,nusers:o}),s}),[])}},mounted:function(){this.getUsersCountPerReseller(),this.options.connectionError&&this.$notifications.error({timeout:1/0,title:this.$gettext("Connection Error"),content:this.options.connectionError})},methods:{getUsersCountPerReseller:function(){(0,c.getUsersCountPerReseller)()},getUsageProgress:function(e){var s=100*e.usage/e.limit,t="primary";return s>40&&(t="safe"),s>80&&(t="danger"),{size:"normal",theme:t,value:s}},deleteUsers:(y=(0,u.default)(r.default.mark((function e(){var s;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.select,e.next=3,(0,c.deleteUsers)({select:s,leave_dns:this.options.add_leave_dns?this.leaveDNS:null},{manual:!0});case 3:500!=e.sent.status&&s.forEach(this.setStatus("deleted")),this.select=[],this.$reloadApiTable({reset:!1});case 7:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)}),getChildUsers:function(e){return this.rows.filter((function(s){return s.creator===e})).map((function(e){return e.username}))},setStatus:function(e){var s=this;return function(t){return s.$set(s.userStatus,t,e)}},suspendUsers:(b=(0,u.default)(r.default.mark((function e(s){var t,o,n=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.select,e.next=3,(0,c.suspendUsers)(g({select:t},s),{manual:!0});case 3:500!=e.sent.status&&(o=this.setStatus("suspended"),t.forEach((function(e){o(e),n.getChildUsers(e).forEach(o)}))),this.$reloadApiTable({reset:!1}),this.select=[];case 7:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)}),unsuspendUsers:(h=(0,u.default)(r.default.mark((function e(){var s,t,o=this;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this.select,e.next=3,(0,c.unsuspendUsers)({select:s},{manual:!0});case 3:500!=e.sent.status&&(t=this.setStatus("active"),s.forEach((function(e){t(e),o.getChildUsers(e).forEach(t)}))),this.$reloadApiTable({reset:!1}),this.select=[];case 7:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)}),filterDeletedUsers:function(e){return"deleted"!==this.userStatus[e.username]},mapUserStatus:function(e){return g(g({},e),{},{suspended:this.userStatus[e.username]?"suspended"===this.userStatus[e.username]:e.suspended})},getSentEmailsString:function(e){var s=e.split(":"),t=(0,a.default)(s,3),o=t[0],n=t[1],r=t[2];return n&&r?this.$gettextInterpolate(this.$gettext("%{ sent } (Today: %{ today } / %{ limit })"),{sent:o,today:n,limit:r}):o},loginAs:function(e){this.$store.dispatch("app/LOGIN_AS",{user:e,path:this.$route.path,router:this.$router})},changePassword:function(e){this.$refs.cpd.show(e)}}};s.Z=w},"./src/js/api/commands/admin/users/actions.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.unsuspendUsers=s.suspendUsers=s.saveComments=s.getUsersCountPerReseller=s.deleteUsers=s.createAdmin=void 0;var n=o(t("./src/js/api/command/index.js")),r=n.default.post({url:"/CMD_SELECT_USERS",notifySuccess:!0,notifyError:!0,params:{location:"CMD_ALL_USER_SHOW"},schema:{select:n.default.ROWS},blocking:!0}),a=r.extend({params:{dosuspend:!0},schema:{reason:n.default.REQUIRED_STRING},blocking:!0});s.suspendUsers=a;var l=r.extend({params:{dounsuspend:!0},blocking:!0});s.unsuspendUsers=l;var u=r.extend({params:{delete:!0,confirmed:!0},schema:{leave_dns:n.default.OPTIONAL_BOOL},blocking:!0});s.deleteUsers=u;var i=n.default.post({url:"/CMD_ACCOUNT_ADMIN",params:{action:"create"},schema:{username:n.default.REQUIRED_STRING,email:n.default.REQUIRED_STRING,passwd:n.default.REQUIRED_STRING,passwd2:n.default.REQUIRED_STRING,notify:n.default.REQUIRED_BOOL}});s.createAdmin=i;var d=n.default.post({url:"/CMD_COMMENTS",params:{location:"CMD_SHOW_RESELLER"},schema:{user:n.default.REQUIRED_STRING,comments:n.default.REQUIRED_STRING}});s.saveComments=d;var c=n.default.post({url:"/CMD_MOVE_USERS",id:"USERS_COUNT_PER_RESELLER",response:{},after:function(e){return e.flow(e.getProp("data_list"),e.mapValues((function(e){return e.length})))}});s.getUsersCountPerReseller=c},"./src/js/api/commands/admin/users/index.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.getUsers=s.getAdmins=void 0,t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.regexp.exec.js"),t("./node_modules/core-js/modules/es.string.split.js"),t("./node_modules/core-js/modules/es.string.trim.js"),t("./node_modules/core-js/modules/es.number.constructor.js"),t("./node_modules/core-js/modules/es.array.join.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.array.concat.js");var n=o(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),r=o(t("./node_modules/@babel/runtime/helpers/slicedToArray.js")),a=o(t("./src/js/api/command/index.js"));function l(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);s&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,o)}return t}function u(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?l(Object(t),!0).forEach((function(s){(0,n.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var i=a.default.get({id:"ALL_USERS",url:"/CMD_ALL_USER_SHOW",pagination:!0,params:{bytes:!0},after:function(e){return e.flow(e.wrap("users"),e.moveProp({"users.reasons":"options.reasons","users.add_leave_dns":"options.add_leave_dns","users.remote_server":"options.remote_servers","users.RESULT":"options.connectionError"}),e.mapProp("users",e.toTable(e.flow(e.mapArrayProps({username:e.getProp("value"),is_user:e.feedWith(1,e.flow(e.getProp("username.is_user"),e.convert.toAppBoolean)),suspended:e.flow(e.getProp("value"),e.convert.toAppBoolean),reason:e.feedWith(1,(function(e){return e.suspended.reason||"none"})),vdomains:e.toLimitedUsage(),bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),date_created:e.convert.toAppDate,mysql:function(s){if(s){var t=s.split("/").map((function(e){return e.trim()})),o=(0,r.default)(t,2),n=o[0],a=o[1];return e.toLimitedUsage()({limit:Number(a)||1/0,usage:n})}}}),e.mapArray((function(e){return u(u({},e),{},{test:"test"})}))))),e.mapProp("options",e.mapProps({add_leave_dns:e.convert.toAppBoolean,connectionError:function(s){return(s||"").split("<br>\\n").filter(e.notEmpty).join("<br>")},remote_servers:e.flow((function(e){return e||{}}),e.mapValues((function(s,t){var o=s.ssl,n=s.port,r=e.convert.toAppBoolean(o)?"https":"http";return"".concat(r,"://").concat(t,":").concat(n)}))),reasons:e.toSelect})))}});s.getUsers=i;var d=a.default.get({id:"ADMINS",url:"/CMD_ADMIN_SHOW",params:{bytes:!0},pagination:!0,after:function(e){return e.flow(e.wrap("admins"),e.moveProp({"admins.reasons":"reasons"}),e.mapProp("admins",e.toTable(e.mapArrayProps({nusers:e.convert.toAppNumber,suspended:e.flow(e.getProp("value"),e.isEqual("no:"),e.not),reason:e.feedWith(1,(function(e){return e.suspended.reason||"none"})),vdomains:e.toLimitedUsage(),bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage()}))),e.mapProp("reasons",e.toSelect))}});s.getAdmins=d},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&":function(){},"./src/js/components/local/user-domains.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return r}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=script&lang=js&"),n=o.Z,r=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&"),(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{class:{"scrollbar:primary":!e.$_Client.isPhone},style:{"overflow-x":"auto","min-width":e.$_Client.isPhone?"auto":"15rem"}},[e._l(e.shownDomains,(function(s,o){return t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],key:o},[t("a",{attrs:{href:"http://"+o,target:"_blank"}},[e._v("\n            "+e._s(e._f("p6eUnicode")(o))+"\n        ")]),e._v("\n         \n        "),s.length&&0!==e.showPointers?t("ui-tooltip",[t("translate",{staticClass:"txt:bold",attrs:{slot:"trigger"},slot:"trigger"},[e._v("\n                (pointers)\n            ")]),e._v(" "),t(1===e.showPointers?"ul":"ol",{tag:"component",staticClass:"wrap:nowrap user-domains--pointers"},e._l(s,(function(s){return t("li",{key:s},[t("a",{attrs:{href:"http://"+s,target:"_blank"}},[e._v("\n                        "+e._s(e._f("p6eUnicode")(s))+"\n                    ")])])})),0)],1):e._e()],1)})),e._v(" "),e.showExpandButton&&!e.showAllDomains?t("ui-button",{attrs:{theme:"light",size:"small"},on:{click:function(s){e.showAll=!0}}},[t("translate",[e._v("show all...")]),e._v(" "),t("ui-icon",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{id:"caret-down",size:"small"}})],1):e._e()],2)}),[],!1,null,null,null).exports)},"./src/js/pages/admin/users/index.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return i}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/users/index.vue?vue&type=script&lang=js&"),n=o.Z,r=t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=t("./src/js/pages/admin/users/index.vue?vue&type=custom&index=0&blockType=route"),l=t.n(a),u=(0,r.Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{actions:[{name:"reseller/users/create",label:e.$gettext("Add New User"),icon:"add-new-user"}]}},[t("app-page-section",[t("ui-api-table",e._b({on:{"action:message":function(s){e.$dialog("CREATE_MESSAGE_DIALOG").open()},"action:suspend":function(s){e.$dialog("SUSPEND_USER_DIALOG").open()},"action:unsuspend":e.unsuspendUsers,"action:del":function(s){e.$dialog("DELETE_ITEMS_DIALOG").open()}},scopedSlots:e._u([{key:"col:username",fn:function(s){var o=s.username,n=s.suspended,r=s.deleted,a=s.remote_server,l=s.is_user,u=s.reason;return t("div",{staticClass:"wrap:nowrap"},[t("ui-link",a?{attrs:{href:e.options.remote_servers[a]+"/CMD_SHOW_USER="+o,target:"_blank"}}:{attrs:{name:l?"reseller/users/view":"admin/users/resellers/view",params:{user:o}}},[e._v("\n                    "+e._s(o)+"\n                ")]),e._v(" "),n?t("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[u?t("translate",{attrs:{"translate-params":{reason:e.reasons[u]}}},[e._v("\n                        Suspended: %{ reason }\n                    ")]):t("translate",[e._v("\n                        Suspended\n                    ")])],1):e._e(),e._v(" "),r?t("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[t("translate",[e._v("Deleted")])],1):e._e()],1)}},{key:"col:creator",fn:function(s){var o=s.creator;return["root"!==o?t("ui-link",{attrs:{name:"admin/users/resellers/view",params:{user:o}}},[e._v("\n                    "+e._s(o)+"\n                ")]):e._e()]}},{key:"col:bandwidth",fn:function(s){var o=s.bandwidth;return t("ui-limited-usage",e._b({},"ui-limited-usage",o,!1))}},{key:"col:quota",fn:function(s){var o=s.quota;return t("ui-limited-usage",e._b({},"ui-limited-usage",o,!1))}},{key:"col:vdomains",fn:function(s){var o=s.vdomains;return t("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",o,!1))}},{key:"col:mysql",fn:function(s){var o=s.mysql;return t("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",o,!1))}},{key:"col:ip",fn:function(s){var o=s.ip;return[o.length?e._e():t("span"),e._v(" "),e._l(o,(function(s){return t("p",{directives:[{name:"margin",rawName:"v-margin",value:0,expression:"0"}],key:s},[e._v("\n                    "+e._s(s)+"\n                ")])}))]}},{key:"col:domains",fn:function(s){var o=s.domains;return t("user-domains",e._b({},"user-domains",{domains:o},!1))}},{key:"col:sent_emails",fn:function(s){var t=s.sent_emails;return[e._v("\n                "+e._s(e.getSentEmailsString(t))+"\n            ")]}},{key:"col:date_created",fn:function(s){var t=s.date_created;return[e._v("\n                "+e._s(e._f("date")(t))+"\n            ")]}},{key:"row:actions",fn:function(s){var o=s.username,n=s.suspended;return t("ui-actions",{},[t("ui-link",{on:{click:function(s){e.select=[o],e.$dialog("CREATE_MESSAGE_DIALOG").open()}}},[t("translate",[e._v("Send a Message")])],1),e._v(" "),n?e._e():t("ui-link",{on:{click:function(s){e.select=[o],e.$dialog("SUSPEND_USER_DIALOG").open()}}},[t("translate",[e._v("Suspend")])],1),e._v(" "),n?t("ui-link",{on:{click:function(s){e.select=[o],e.unsuspendUsers()}}},[t("translate",[e._v("Unsuspend")])],1):e._e(),e._v(" "),t("ui-link",{on:{click:function(s){return e.loginAs(o)}}},[t("translate",{attrs:{"translate-params":{username:o}}},[e._v("\n                        Login as %{ username }\n                    ")])],1),e._v(" "),t("ui-link",{on:{click:function(s){return e.changePassword(o)}}},[t("translate",{attrs:{"translate-params":{username:o}}},[e._v("\n                        Change %{ username }'s password\n                    ")])],1),e._v(" "),t("ui-link",{on:{click:function(s){e.select=[o],e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[t("translate",[e._v("Remove")])],1)],1)}}]),model:{value:e.select,callback:function(s){e.select=s},expression:"select"}},"ui-api-table",{command:e.$commands.getUsers,endpoint:"GET_ALL_USERS",property:"users",rowID:"username",columns:Object.assign({},{username:{label:e.$gettext("Username"),searchable:!0},creator:{label:e.$gettext("Creator"),searchable:!0},bandwidth:{label:e.$gettext("Bandwidth"),getClass:function(e){return e.bandwidth.status?"--usage:"+e.bandwidth.status:""}},quota:{label:e.$gettext("Disk Usage"),getClass:function(e){return e.bandwidth.status?"--usage:"+e.quota.status:""}},vdomains:e.$gettext("# of domains"),domains:{label:e.$gettext("Domain(s)"),width:"minmax(15rem, auto)",searchable:!0},ip:{label:e.$gettext("IP(s)"),searchable:!0},suspended:{label:e.$gettext("Suspended"),hide:!0,searchable:{type:"select",options:{Yes:e.$gettext("Yes"),No:e.$gettext("No")}}},sent_emails:e.$gettext("Sent E-mails"),remote_server:{label:e.$gettext("Remote Server"),hide:!e.showRemoteServer}},e.additionalColumns),actions:{message:e.$gettext("Send a Message"),suspend:e.$gettext("Suspend"),unsuspend:e.$gettext("Unsuspend"),del:e.$gettext("Delete")},updateOn:["SUSPEND_USERS","UNSUSPEND_USERS","DELETE_USERS"],rowsMapper:e.mapUserStatus,rowsFilter:e.filterDeletedUsers,verticalLayout:e.$_Client.isPhone},!1))],1),e._v(" "),t("create-message-dialog",{attrs:{users:e.select}}),e._v(" "),t("ui-dialog",{attrs:{id:"DELETE_ITEMS_DIALOG"}},[t("template",{slot:"title"},[e._v("\n            "+e._s(e.$ngettext("Delete user","Delete users",e.select.length))+"\n        ")]),e._v(" "),t("template",{slot:"content"},[t("ui-form-element",{attrs:{underline:!!e.deleteData.length}},[t("template",{slot:"content"},[t("span",{staticClass:"txt:bold"},[e._v(e._s(e.$ngettext("Are you sure you want to delete selected user?","Are you sure you want to delete selected users?",e.select.length)))])])],2),e._v(" "),e.deleteData.length?t("ui-form-element",{attrs:{underline:e.options.add_leave_dns}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("table",{staticClass:"table-elem"},[t("tr",[t("th",[e._v("\n                                "+e._s(e.$ngettext("You are deleting reseller that have users under control. If you proceed, these user accounts, along with ALL the associated website and email contents, which are not listed here, will also be removed.","You are deleting resellers that have users under control. If you proceed, these user accounts, along with ALL the associated website and email contents, which are not listed here, will also be removed.",e.deleteData.length))+"\n                            ")])]),e._v(" "),e._l(e.deleteData,(function(s){return t("tr",{key:s.name},[t("td",[t("translate",{attrs:{"translate-params":s,"translate-n":s.nusers,"translate-plural":"%{ name } and %{nusers } users"}},[e._v("\n                                    %{ name } and %{nusers } user\n                                ")])],1)])}))],2)])]):e._e(),e._v(" "),e.options.add_leave_dns?t("ui-form-element",[t("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.leaveDNS,callback:function(s){e.leaveDNS=s},expression:"leaveDNS"}},[t("translate",[e._v("Leave DNS")]),e._v(" "),t("ui-tooltip",[t("translate",[e._v("Do not remove DNS zones of domains owned by the user.")])],1)],1)],1):e._e()],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"danger"},on:{click:e.deleteUsers},slot:"buttons"},[t("translate",[e._v("Delete")])],1)],2),e._v(" "),t("suspend-user-dialog",{attrs:{"api-reasons":e.$api.options.reasons.options},on:{suspend:e.suspendUsers}}),e._v(" "),t("change-password-dialog",{ref:"cpd"})],1)}),[],!1,null,null,null);"function"==typeof l()&&l()(u);var i=u.exports},"./src/js/pages/admin/users/index.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){var o=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/user-domains.vue?vue&type=style&index=0&lang=scss&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("40e09376",o,!0,{})}}]);