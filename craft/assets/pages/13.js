(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1886:function(t,e,r){"use strict";r.r(e),r.d(e,"preload",(function(){return _})),r.d(e,"GET",(function(){return w})),r.d(e,"POST",(function(){return x})),r.d(e,"PUT",(function(){return S})),r.d(e,"PATCH",(function(){return D})),r.d(e,"DELETE",(function(){return P})),r.d(e,"$gettext",(function(){return R}));var n=r(30),o=r.n(n),a=r(28),i=r(9),s=r(1893),u=r(1894),c=r(13),l=new o.a,d={401:"UNAUTHORIZED",404:"ENDPOINT_NOT_FOUND",405:"METHOD_NOT_ALLOWED"},f={BAD_REQUEST:l.$gettext("Bad Request: %{ message }"),UNAUTHORIZED:l.$gettext("Unauthorized"),ACCESS_DENIED:l.$gettext("Access Denied"),INTERNAL_ERROR:l.$gettext("Server Error: %{ message }"),METHOD_NOT_ALLOWED:l.$gettext("Method Not Allowed"),ENDPOINT_NOT_FOUND:l.$gettext("Endpoint Not Found")},p=function(t,e,r){void 0===r&&(r={});var n=l.$gettextInterpolate(e,r||{});return{status:t,message:n,type:r.type,data:i.omit(["type"],r),notify:function(){return a.Store.dispatch("notifications/NOTIFY",{theme:"danger",title:l.$gettext("Error"),content:n,route:a.Store.state.app.route.path||"/",time:new Date})}}},v=function(t,e,r,n){return new(r||(r=Promise))((function(o,a){function i(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,s)}u((n=n.apply(t,e||[])).next())}))},m=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},O={data:{},statusCodes:{},errorMessages:{}},g=function(t,e,r){void 0===r&&(r={});var n=function(t,e){return(t+"_"+e.slice(5).replace(/\//,"_").replace(/\:/,"")).toUpperCase()}(t,e);r=i.mergeDeepRight(O,r);var o=Object(u.registerEndpoint)(n,r.data);return{endpoint:o,request:function(i){return v(void 0,void 0,void 0,(function(){var u,v,O;return m(this,(function(m){switch(m.label){case 0:return a.Store&&a.Store.state.commands.blockingRequest?[4,a.Store.state.commands.blockingRequest]:[3,2];case 1:m.sent(),m.label=2;case 2:o.params=i||{},o.state={isLoading:!0},m.label=3;case 3:return m.trys.push([3,5,,6]),[4,Object(s.request)({endpointID:n,url:e,method:t},o.params)];case 4:return u=m.sent(),"get"===t&&(o.data=u.data),o.state={isOk:!0,isDone:!0,isLoading:!1,error:null},[2,{state:"success",data:u.data,error:null}];case 5:return v=m.sent(),401===(O=function(t,e,r){var n;void 0===e&&(e={}),void 0===r&&(r={});var o=Object.assign(e,d),a=Object.assign(r,f);if(t.response){if(t.response.data&&t.response.data.type)if(void 0!==a[(i=t.response.data).type])return p(t.response.status,a[i.type],i);if(o[t.response.status]){var i={type:o[t.response.status]};t.response.data=i;var s=o[t.response.status];if(s&&a[s])return p(t.response.status,a[s],{type:s})}}else if(t.request)return c.emitter.emit("request:networkerror"),p(-1,l.$gettext("Network Error: Server is unreachable"),{type:"NETWORK_UNREACHABLE"});return p((null===(n=null==t?void 0:t.response)||void 0===n?void 0:n.status)||-1,l.$gettext("Unknown Error"),{type:"UNKNOWN_ERROR"})}(v,r.statusCodes,r.errorMessages)).status&&window.location.reload(),o.state={isOk:!1,isDone:!0,isLoading:!1,error:O},[2,{state:"error",error:O,data:null}];case 6:return[2]}}))}))}}},h=function(t,e,r){void 0===r&&(r={});var n=g(t,e,r),o=n.endpoint,a=n.request;return Object.freeze({get params(){return o.params},get state(){return o.state},request:a})},b=function(t,e,r,n){return new(r||(r=Promise))((function(o,a){function i(t){try{u(n.next(t))}catch(t){a(t)}}function s(t){try{u(n.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,s)}u((n=n.apply(t,e||[])).next())}))},y=function(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},E=function(t,e){return t.notify(),e(!1)},_=function(t,e){return void 0===e&&(e=E),function(r,n,o){return b(void 0,void 0,void 0,(function(){var a,i,s;return y(this,(function(u){switch(u.label){case 0:return[4,Promise.all(t.map((function(t){return t(r,n)})))];case 1:return a=u.sent(),void 0!==(i=a.find((function(t){return"error"===t.state})))?(s=i.error,[2,e(s,o)]):(o(),[2])}}))}))}},w=function(t,e){return function(t,e,r){void 0===r&&(r={});var n=g(t,e,r),o=n.endpoint,a=n.request;return Object.freeze({get data(){return o.data},set data(t){o.data=t},get params(){return o.params},get state(){return o.state},request:a,bindData:function(t){return function(){return t?t(o.data):o.data}}})}("get",t,e)},x=function(t,e){return h("post",t,e)},S=function(t,e){return h("put",t,e)},D=function(t,e){return h("patch",t,e)},P=function(t,e){return h("delete",t,e)},R=(new o.a).$gettext},1893:function(t,e,r){"use strict";r(16),r(14),r(23),r(25),r(18),r(6);var n=r(1),o=r(19);Object.defineProperty(e,"__esModule",{value:!0}),e.request=void 0;var a=n(r(36)),i=n(r(37));r(12),r(15),r(21),r(40),r(84);var s=n(r(505)),u=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};var r=d(e);if(r&&r.has(t))return r.get(t);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if("default"!==i&&Object.prototype.hasOwnProperty.call(t,i)){var s=a?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}n.default=t,r&&r.set(t,n);return n}(r(9)),c=r(31),l=r(28);function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(d=function(t){return t?r:e})(t)}var f=s.default.create({baseURL:"/api"});f.interceptors.request.use(u.mergeDeepRight({timeout:0,headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache"}}));var p,v=function(t,e){if(t.includes(":")){var r=[];return{url:t.replace(/:[a-z]*/g,(function(t){if(":domain"===t&&!e.domain)return l.Store.state.app.domain;t=t.slice(1);var n=e[t];if(void 0===n)throw new Error("EndpointParamError: ".concat(t," is not defined"));return r.push(t),n})),urlParams:r}}return{url:t,urlParams:[]}},m=(p=(0,i.default)(a.default.mark((function t(e,r){var n,o,i,s,l,d,p;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"==typeof e.url){t.next=2;break}throw new Error("Unsupported URL format");case 2:return n=v(e.url,r),o=n.url,i=n.urlParams,s={endpointID:e.endpointID,url:o,method:e.method},l=u.omit(i,r),!1===u.isEmpty(l)&&(d="get"===e.method?"params":"data",s[d]=l),t.prev=6,t.next=9,f.request(s);case 9:return t.abrupt("return",t.sent);case 12:throw t.prev=12,t.t0=t.catch(6),c.ENV.DEV&&(console.group(),console.dir(s),p=s.params||s.data,console.table({"Endpoint ID":s.endpointID,Url:s.url,Method:s.method,"Request Data":JSON.stringify(p),"Response Status Code":t.t0.response.status,"Response Data":JSON.stringify(t.t0.response.data)}),console.groupEnd()),t.t0;case 16:case"end":return t.stop()}}),t,null,[[6,12]])}))),function(t,e){return p.apply(this,arguments)});e.request=m},1894:function(t,e,r){"use strict";r(16),r(14),r(23),r(25),r(18),r(6);var n=r(19);Object.defineProperty(e,"__esModule",{value:!0}),e.registerEndpoint=void 0,r(49);var o=r(28),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=a?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(o,s,u):o[s]=t[s]}o.default=t,r&&r.set(t,o);return o}(r(9));function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}e.registerEndpoint=function(t,e){return o.Store.commit("endpoints/REGISTER_ENDPOINT",{id:t,data:e}),{get data(){return a.clone(o.Store.state.endpoints[t].data)},set data(e){o.Store.commit("endpoints/SET_DATA",{id:t,data:e})},get state(){return o.Store.state.endpoints[t].state},set state(e){o.Store.commit("endpoints/SET_STATE",{id:t,state:Object.assign({},{isLoading:!1,isOk:!1,isError:!1,error:null},e)})},get params(){return a.clone(o.Store.state.endpoints[t].params)},set params(e){o.Store.commit("endpoints/SET_PARAMS",{id:t,params:e})}}}},2059:function(t,e,r){"use strict";r.r(e),r.d(e,"helpers",(function(){return n})),r.d(e,"getComposer",(function(){return u})),r.d(e,"installComposer",(function(){return c})),r.d(e,"scanComposer",(function(){return l})),r.d(e,"updateComposer",(function(){return d})),r.d(e,"getComposerDetails",(function(){return f}));var n={};r.r(n),r.d(n,"processEntries",(function(){return s}));var o=r(1886),a=r(28),i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=function(t){return void 0===t&&(t=[]),t.map((function(t){var e="."===t.dir?"domains/"+a.Store.state.app.domain:t.dir;return i(i({},t),{pretty_dir:e,path:e+"/composer.json"})}))},u=Object(o.GET)("/composer/:domain"),c=Object(o.POST)("/composer/:domain/install",{statusCodes:{520:"COMPOSER_CMD_ERROR",409:"COMPOSER_NOT_FOUND"},errorMessages:{COMPOSER_CMD_ERROR:Object(o.$gettext)("%{ message }"),COMPOSER_NOT_FOUND:Object(o.$gettext)("composer.json not found.")}}),l=Object(o.POST)("/composer/:domain/scan"),d=Object(o.POST)("/composer/:domain/update",{statusCodes:{520:"COMPOSER_CMD_ERROR",409:"COMPOSER_NOT_FOUND"},errorMessages:{COMPOSER_CMD_ERROR:Object(o.$gettext)("%{ message }"),COMPOSER_NOT_FOUND:Object(o.$gettext)("composer.json not found.")}}),f=Object(o.GET)("/composer/:domain/:dir")},2394:function(t,e,r){"use strict";r.r(e);var n=r(2395),o=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},2395:function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=n(r(36)),i=n(r(37)),s=r(2059),u={extends:n(r(3084)).default,beforeCreate:function(){this.id="COMPOSER_INSTALL_DIALOG",this.title=this.$gettext("Install Composer"),this.actionLabel=this.$gettext("Install"),this.docs="https://getcomposer.org/doc/03-cli.md#install-i"},methods:{submit:(o=(0,i.default)(a.default.mark((function t(e,r){var n,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.installComposer.request({domain:this.$domain,dir:e,mode:r});case 2:n=t.sent,(o=n.error)?this.$emit("error",o,"Error installing composer packages"):(this.$notifications.success({title:this.$gettext("Composer Install"),content:this.$gettext("Install completed")}),this.$dialog("COMPOSER_INSTALL_DIALOG").close());case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})}};e.default=u},2396:function(t,e,r){"use strict";r.r(e);var n=r(2397),o=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},2397:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{dir:{type:String,required:!0}},data:function(){return{mode:"prod"}}};e.default=n},2398:function(t,e,r){"use strict";r.r(e);var n=r(2399),o=r.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(a);e.default=o.a},2399:function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=n(r(36)),i=n(r(37)),s=r(2059),u={extends:n(r(3084)).default,beforeCreate:function(){this.id="COMPOSER_UPDATE_DIALOG",this.title=this.$gettext("Update Composer"),this.actionLabel=this.$gettext("Update"),this.docs="https://getcomposer.org/doc/03-cli.md#update-u"},methods:{submit:(o=(0,i.default)(a.default.mark((function t(e,r){var n,o;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.updateComposer.request({dir:e,mode:r});case 2:n=t.sent,(o=n.error)?this.$emit("error",o,"Error updating composer packages"):(this.$notifications.success({title:this.$gettext("Composer Update"),content:this.$gettext("Update completed")}),this.$dialog("COMPOSER_UPDATE_DIALOG").close());case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})}};e.default=u},3083:function(t,e,r){"use strict";r.r(e);var n=r(2394);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);var a=r(0),i=Object(a.a)(n.default,void 0,void 0,!1,null,null,null);e.default=i.exports},3084:function(t,e,r){"use strict";r.r(e);var n=r(4228),o=r(2396);for(var a in o)["default"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return o[t]}))}(a);var i=r(0),s=Object(i.a)(o.default,n.a,n.b,!1,null,null,null);e.default=s.exports},3085:function(t,e,r){"use strict";r.r(e);var n=r(2398);for(var o in n)["default"].indexOf(o)<0&&function(t){r.d(e,t,(function(){return n[t]}))}(o);var a=r(0),i=Object(a.a)(n.default,void 0,void 0,!1,null,null,null);e.default=i.exports},4228:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ui-dialog",{attrs:{id:t.id,"no-auto-close":"",cancel:!1}},[r("template",{slot:"title"},[t._v("\n        "+t._s(t.title)+"\n        "),r("ui-tooltip",{attrs:{theme:"safe"}},[r("ui-link",{attrs:{slot:"trigger",href:t.docs,target:"_blank"},slot:"trigger"},[r("ui-icon",{directives:[{name:"margin",rawName:"v-margin:left",value:.5,expression:"0.5",arg:"left"}],attrs:{id:"question",color:"#fff"}})],1),t._v(" "),r("translate",[t._v("View command description")])],1)],1),t._v(" "),r("div",{attrs:{slot:"content"},slot:"content"},[r("ui-form-element",{attrs:{vertical:""}},[r("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Environment\n            ")]),t._v(" "),r("input-select",{attrs:{slot:"content",options:{prod:t.$gettext("Production"),dev:t.$gettext("Development")}},slot:"content",model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1),t._v(" "),r("div",{directives:[{name:"padding",rawName:"v-padding:left",value:1.5,expression:"1.5",arg:"left"}],staticClass:"c:txt:muted",staticStyle:{"font-size":"95%","letter-spacing":"0.5px"}},[t._v("\n            "+t._s("prod"===t.mode?t.$gettext("Skips packages listed in require-dev."):t.$gettext("Includes additional dependencies for development."))+"\n        ")])],1),t._v(" "),t._e(),t._v(" "),r("ui-button",{attrs:{slot:"buttons",theme:"primary"},domProps:{textContent:t._s(t.actionLabel)},on:{click:function(e){return t.submit(t.dir,t.mode)}},slot:"buttons"})],2)},o=[]}}]);