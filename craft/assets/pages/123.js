(window.webpackJsonp=window.webpackJsonp||[]).push([[123],{1853:function(t,e,n){"use strict";n.r(e);var a=n(4051),i=n(2717);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var u=n(0),l=n(3738),o=n.n(l),s=Object(u.a)(i.default,a.a,a.b,!1,null,null,null);"function"==typeof o.a&&o()(s),e.default=s.exports},2717:function(t,e,n){"use strict";n.r(e);var a=n(2718),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e.default=i.a},2718:function(t,e,n){"use strict";n(7),n(10),n(5),n(6),n(11),n(16),n(23),n(25),n(18);var a=n(1),i=n(19);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(38)),u=a(n(2));n(27),n(26),n(8),n(72),n(14),n(65);var l=f(n(9)),o=f(n(3736)),s=a(n(3737));function c(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(c=function(t){return t?n:e})(t)}function f(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var n=c(e);if(n&&n.has(t))return n.get(t);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var l=r?Object.getOwnPropertyDescriptor(t,u):null;l&&(l.get||l.set)?Object.defineProperty(a,u,l):a[u]=t[u]}return a.default=t,n&&n.set(t,a),a}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,u.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={preload:o.getSettings,api:o.getSettings,components:{SettingInput:s.default},data:function(){return{defaults:{},data:[],key:""}},computed:{overridenSettings:function(){return l.map(l.prop("name"),this.data)},availableSettings:function(){return l.without(this.overridenSettings,l.keys(this.$api.template))},requestData:function(){return this.data.reduce((function(t,e){var n,a=e.name,i=e.value;return p(p({},t),{},(n={},(0,u.default)(n,a,i),(0,u.default)(n,"save_".concat(a),i),n))}),{})}},created:function(){this.updateData()},methods:{updateData:function(){var t=this;Object.entries(this.$api.template).forEach((function(e){var n=(0,r.default)(e,2),a=n[0],i=n[1];return t.$set(t.defaults,a,i.default.toString())})),this.data=l.map((function(t){var e=(0,r.default)(t,2);return{name:e[0],value:e[1]}}),l.toPairs(this.$api.data)),this.$nextTick(this.updateKey)},addOverride:function(t){this.data.push({name:t,value:this.defaults[t]}),this.saveSettings().then(this.getSettings)},saveSettings:function(){return o.saveSettings(this.requestData)},updateKey:function(){this.key=this.availableSettings[0]},getSettings:function(){return o.getSettings().then(this.updateData)},deleteSetting:function(t){return o.deleteSetting({select:[t]}).then(this.getSettings)}}};e.default=v},2719:function(t,e,n){"use strict";n.r(e);var a=n(2720),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e.default=i.a},2720:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={model:{prop:"value",event:"change"},props:{type:{type:String,required:!0},value:{type:String,default:"",required:!1},values:{type:Array,default:function(){return[]},required:!1}},data:function(){return{dataValue:this.value}},watch:{value:function(t){t!==this.dataValue&&(this.dataValue=t)},dataValue:function(t){t!==this.value&&this.$emit("change",t)}}};e.default=a},3736:function(t,e,n){"use strict";var a=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.deleteSetting=e.saveSettings=e.getSettings=void 0;var i=a(n(78)),r="/CMD_PHP_SETTINGS",u=i.default.get({id:"PHP_SETTINGS",url:r,domain:!0,mapResponse:{template:function(t){return t.template_php_ini},data:function(t){return t.domain_php_ini}}});e.getSettings=u;var l=i.default.post({url:r,domain:!0,params:{action:"add"}});e.saveSettings=l;var o=i.default.select({url:r,params:{action:"delete"},domain:!0});e.deleteSetting=o},3737:function(t,e,n){"use strict";n.r(e);var a=n(4182),i=n(2719);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);var u=n(0),l=Object(u.a)(i.default,a.a,a.b,!1,null,null,null);e.default=l.exports},3738:function(t,e){},4051:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[t.data.length?n("app-page-section",[n("ui-table",{attrs:{items:t.data}},[n("ui-column",{attrs:{id:"name",label:t.$gettext("Setting"),fit:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.name;return[n("strong",[t._v(t._s(a))])]}}],null,!1,2977923381)}),t._v(" "),n("ui-column",{attrs:{id:"value",label:t.$gettext("Value")},scopedSlots:t._u([{key:"default",fn:function(e){return[n("setting-input",t._b({key:e.name,model:{value:e.value,callback:function(n){t.$set(e,"value",n)},expression:"item.value"}},"setting-input",t.$api.template[e.name],!1))]}}],null,!1,1771075036)}),t._v(" "),n("ui-column",{attrs:{id:"button",fit:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.name;return[n("ui-button",{attrs:{theme:"danger",size:"normal",icon:"delete"},on:{click:function(e){return t.deleteSetting(a)}}},[n("translate",[t._v("Delete")])],1)]}}],null,!1,2619655991)})],1),t._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:t.saveSettings},slot:"footer:buttons"},[n("translate",[t._v("Save")])],1)],1):t._e(),t._v(" "),t.availableSettings.length?n("app-page-section",[n("translate",{attrs:{slot:"section:title"},slot:"section:title"},[t._v("\n            Add New Override\n        ")]),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Setting\n            ")]),t._v(" "),n("input-select",{attrs:{slot:"content",options:Object.keys(t.$api.template),"disabled-options":t.overridenSettings},slot:"content",model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),t._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Value\n            ")]),t._v(" "),t.key?n("setting-input",t._b({attrs:{slot:"content"},slot:"content",model:{value:t.defaults[t.key],callback:function(e){t.$set(t.defaults,t.key,e)},expression:"defaults[key]"}},"setting-input",t.$api.template[t.key],!1)):t._e()],1),t._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",size:"normal",theme:"safe"},on:{click:function(e){return t.addOverride(t.key)}},slot:"footer:buttons"},[n("translate",[t._v("Add")])],1)],1):t._e()],1)},i=[]},4182:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"bool"===t.type?n("input-select",{attrs:{options:{On:t.$gettext("On"),Off:t.$gettext("Off")}},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):"list"===t.type?n("input-select",{attrs:{options:t.values},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):"int"===t.type?n("input-text",{staticClass:"width:100%",attrs:{number:""},model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}}):n("input-text",{staticClass:"width:100%",model:{value:t.dataValue,callback:function(e){t.dataValue=e},expression:"dataValue"}})},i=[]}}]);