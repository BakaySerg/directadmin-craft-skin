(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[3473],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/protected-directories/index.vue?vue&type=script&lang=js&":function(e,t,r){"use strict";r("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,r("./node_modules/core-js/modules/es.array.map.js");var o=r("./src/js/pages/user/protected-directories/_commands/index.js"),s={preload:o.getDirectories,api:[{command:o.getDirectories,bind:"dirs"}],computed:{rows:function(){return this.$api.dirs.map((function(e){return{path:e}}))}},watch:{$domain:function(){(0,o.getDirectories)()}}};t.Z=s},"./src/js/pages/user/protected-directories/_commands/index.js":function(e,t,r){"use strict";r("./node_modules/core-js/modules/es.object.define-property.js");var o=r("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.updateName=t.unprotectDirectory=t.protectDirectory=t.getDirs=t.getDirectoryStatus=t.getDirectoryInfo=t.getDirectories=t.deleteUsers=t.addUser=void 0,r("./node_modules/core-js/modules/es.object.to-string.js"),r("./node_modules/core-js/modules/es.promise.js");var s=o(r("./src/js/api/command/index.js")),a="/CMD_FILE_MANAGER",d=s.default.post({url:a,params:{action:"protect",enabled:!0},schema:{path:s.default.REQUIRED_STRING,user:s.default.REQUIRED_STRING,passwd:s.default.REQUIRED_STRING,passwd2:s.default.REQUIRED_STRING}});t.protectDirectory=d;var u=s.default.get({id:"PROTECTED_DIRECTORIES",url:"/CMD_PROTECTED_DIRECTORIES",domain:!0,response:[]});t.getDirectories=u;var i=s.default.get({id:"PROTECTED_DIRECTORY_STATUS",url:a,params:{action:"protect"},schema:{path:s.default.REQUIRED_STRING},response:{protected:!1},after:function(){return function(e){return{protected:!!e.ENABLED}}}});t.getDirectoryStatus=i;var n=i.extend({id:"PROTECTED_DIRECTORY_INFO",pagination:!0,response:{},after:function(e){return e.flow(e.deleteProp("ENABLED"),e.deleteProp("domain"),e.deleteProp("path"),e.processTableInfo("users"),e.moveProp({users:"rows",NAME:"name"}),e.mapProp("rows",e.toArray))}});t.getDirectoryInfo=n;var c=s.default.post({url:a,params:{action:"protect",enabled:!0},schema:{name:s.default.REQUIRED_STRING,path:s.default.REQUIRED_STRING,user:s.default.REQUIRED_STRING,passwd:s.default.REQUIRED_STRING,passwd2:s.default.REQUIRED_STRING}});t.addUser=c;var l=s.default.select({url:a,params:{action:"delete"},schema:{path:s.default.REQUIRED_STRING}});t.deleteUsers=l;var p=s.default.post({url:a,params:{action:"protect"},schema:{name:s.default.REQUIRED_STRING,path:s.default.REQUIRED_STRING}});t.unprotectDirectory=p;var m=s.default.post({url:a,params:{action:"protect",enabled:!0},schema:{name:s.default.REQUIRED_STRING,path:s.default.REQUIRED_STRING}});t.updateName=m;var R=s.default.get({url:"/CMD_FILE_MANAGER",params:{action:"json_all",ipp:1e5,comparison12:"equals",value12:"directory"}});t.getDirs=R},"./src/js/pages/user/protected-directories/index.vue":function(e,t,r){"use strict";r.r(t),r.d(t,{__esModule:function(){return o.X},default:function(){return n}});var o=r("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/protected-directories/index.vue?vue&type=script&lang=js&"),s=o.Z,a=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),d=r("./src/js/pages/user/protected-directories/index.vue?vue&type=custom&index=0&blockType=route"),u=r.n(d),i=(0,a.Z)(s,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("app-page",{attrs:{actions:[{label:e.$gettext("Add Protected Directory"),icon:"#plus-fill",name:"user/protected-directories/add"}]}},[r("ui-button-link",{attrs:{slot:"header:buttons",name:"user/protected-directories/add",theme:"primary"},slot:"header:buttons"},[r("translate",[e._v("Add Protected Directory")])],1),e._v(" "),r("app-page-section",[r("ui-r-table",{attrs:{rows:e.rows,columns:[{id:"path",label:e.$gettext("Current Protected Directories")}],"is-checkable":!1,"disable-pagination":""},scopedSlots:e._u([{key:"col:path",fn:function(t){var o=t.path;return r("ui-link",{attrs:{name:"user/protected-directories/view",query:{path:o}}},[e._v("\n                "+e._s(o)+"\n            ")])}}])})],1)],1)}),[],!1,null,null,null);"function"==typeof u()&&u()(i);var n=i.exports},"./src/js/pages/user/protected-directories/index.vue?vue&type=custom&index=0&blockType=route":function(){}}]);