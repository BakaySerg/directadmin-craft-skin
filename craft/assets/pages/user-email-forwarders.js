(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[674],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog-legacy.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.weak-map.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js");var a=s(o("./node_modules/@babel/runtime/regenerator/index.js")),n=s(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var o=l(t);if(o&&o.has(e))return o.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}s.default=e,o&&o.set(e,s);return s}(o("./src/js/api/commands/user/email/forwarders.js"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(l=function(e){return e?o:t})(e)}var d,u={data:function(){return{data:""}},methods:{createForwarders:(d=(0,n.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.createForwardersRaw({forwarders:this.data}).then(i.getForwarders);case 1:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),multilineValidator:function(e){return!e||!1===e.includes("\n")}}};t.Z=u},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.weak-map.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=s(o("./node_modules/@babel/runtime/regenerator/index.js"));o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.array.find.js"),o("./node_modules/core-js/modules/es.string.trim.js");var n=s(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=s(o("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var o=u(t);if(o&&o.has(e))return o.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}s.default=e,o&&o.set(e,s);return s}(o("./src/js/api/commands/user/email/forwarders.js")),d=(o("./src/js/modules/constants.js"),o("./src/js/api/commands/validation/index.js"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(u=function(e){return e?o:t})(e)}var c,m,p={data:function(){return{source:[],destination:[],newSource:"",newDestination:{type:"email",value:""}}},api:[{command:d.validateForwarder,bind:"validateForwarder"}],computed:{fullSource:function(){return this.$valid("add-forwarder-name")?[].concat((0,i.default)(this.source),[{value:this.newSource}]):this.source},fullDestination:function(){return this.$valid("add-forwarder-destination")?[].concat((0,i.default)(this.destination),[{value:this.getStringDestination(this.newDestination)}]):this.destination},validForwarder:function(){return this.destination.length&&this.source.length}},methods:{addSource:function(){var e=this;this.newSource&&this.$valid("add-forwarder-name")&&(this.source.push({value:this.newSource}),this.newSource="",setTimeout((function(){e.$store.commit("validation/TOUCH_GROUP_INPUTS","add-forwarder-name")}),500))},removeSource:function(e){this.source=this.source.filter((function(t){return t.value!==e}))},addDestination:function(){var e=this;this.newDestination.value&&this.$valid("add-forwarder-destination")&&(this.destination.push({value:this.getStringDestination(this.newDestination)}),this.newDestination.value="",setTimeout((function(){e.$store.commit("validation/TOUCH_GROUP_INPUTS","add-forwarder-destination")}),500))},removeDestination:function(e){this.destination=this.destination.filter((function(t){return t.value!==e}))},getStringDestination:function(e){return["blackhole","fail"].includes(e.type)?":".concat(e.type,":"):"email"===e.type||e.value.includes('"|')?e.value:'"|'.concat(e.value,'"')},createForwarders:(m=(0,n.default)(a.default.mark((function e(){var t,o,s=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fullSource.map((function(e){return e.value})).join(","),o=this.fullDestination.map((function(e){return e.value})).map((function(e){return e.includes('"|')?e:s.$p6e.email2ascii(e)})).join(","),e.next=4,l.createForwarder({user:t,email:o});case 4:this.$reset(),l.getForwarders();case 6:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)}),validateSpace:function(e){return!e||!e.includes(" ")},validateUniqueName:function(e){return!e||!Boolean(this.source.find((function(t){return t.value===e})))},validateUniqueDestination:function(e){var t=this;return!e||!Boolean(this.destination.find((function(e){return e.value===t.getStringDestination(t.newDestination)})))},validateEmpty:function(e){return!e||!!e.trim()},validateForwarder:(c=(0,n.default)(a.default.mark((function e(t){var o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,(0,d.validateForwarder)({value:"".concat(t,"@").concat(this.$domain)});case 4:return o=e.sent,s=o.valid,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})}};t.Z=p},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-forwarder-dialog.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.weak-map.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=s(o("./node_modules/@babel/runtime/regenerator/index.js"));o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.find.js"),o("./node_modules/core-js/modules/es.string.trim.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.function.name.js");var n=s(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),i=s(o("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var o=d(t);if(o&&o.has(e))return o.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}s.default=e,o&&o.set(e,s);return s}(o("./src/js/api/commands/user/email/forwarders.js"));o("./src/js/modules/constants.js");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(d=function(e){return e?o:t})(e)}var u,c={props:{name:{type:String,required:!0},value:{type:Array,required:!0}},data:function(){return{destination:[],newDestination:{type:"email",value:""}}},computed:{fullDestination:function(){return this.$valid("add-forwarder-destination")?[].concat((0,i.default)(this.destination),[{value:this.getStringDestination(this.newDestination)}]):this.destination}},methods:{addDestination:function(){var e=this;this.newDestination.value&&this.$valid("add-forwarder-destination")&&(this.destination.push({value:this.getStringDestination(this.newDestination)}),this.newDestination.value="",setTimeout((function(){e.$store.commit("validation/TOUCH_GROUP_INPUTS","add-forwarder-destination")}),500))},removeDestination:function(e){this.destination=this.destination.filter((function(t){return t.value!==e}))},getStringDestination:function(e){return["blackhole","fail"].includes(e.type)?":".concat(e.type,":"):"email"===e.type||e.value.includes('"|')?e.value:'"|'.concat(e.value,'"')},validateUniqueDestination:function(e){var t=this;return!e||!Boolean(this.destination.find((function(e){return e.value===t.getStringDestination(t.newDestination)})))},validateEmpty:function(e){return!e||!!e.trim()},validateForwarder:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=(0,n.default)(a.default.mark((function e(t){var o,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,validateForwarder({value:"".concat(t,"@").concat(this.$domain)});case 4:return o=e.sent,s=o.valid,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),loadData:function(){var e=this;this.destination=this.value.map((function(t){return{value:t.includes('"|')?t:e.$p6e.email2unicode(t)}}))},modifyForwarder:(u=(0,n.default)(a.default.mark((function e(){var t,o=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fullDestination.map((function(e){return e.value})).map((function(e){return e.includes('"|')?e:o.$p6e.email2ascii(e)})).join(","),e.next=3,l.modifyForwarder({user:this.name,email:t});case 3:e.sent&&(this.$reset(),l.getForwarders(),this.$emit("modified"));case 5:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})}};t.Z=c},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/forwarders.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/es.weak-map.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js"),o("./node_modules/core-js/modules/es.object.define-property.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=o("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=s(o("./node_modules/@babel/runtime/regenerator/index.js")),n=s(o("./node_modules/@babel/runtime/helpers/toConsumableArray.js")),i=s(o("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.array.includes.js"),o("./node_modules/core-js/modules/es.string.includes.js");var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var o=m(t);if(o&&o.has(e))return o.get(e);var s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=a?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(s,n,i):s[n]=e[n]}s.default=e,o&&o.set(e,s);return s}(o("./src/js/api/commands/user/email/forwarders.js")),d=s(o("./src/js/pages/user/email/_components/create-forwarder-dialog.vue")),u=s(o("./src/js/pages/user/email/_components/modify-forwarder-dialog.vue")),c=s(o("./src/js/pages/user/email/_components/create-forwarder-dialog-legacy.vue"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(m=function(e){return e?o:t})(e)}var p,f,v={name:"EmailForwarders",preload:l.getForwarders,commands:l,api:[{command:l.getForwarders,bind:"forwarders"}],components:{CreateForwardersDialog:d.default,ModifyForwarderDialog:u.default,CreateForwardersDialogLegacy:c.default},data:function(){return{checkedRows:[],modify:{name:"",value:[]},filter:""}},computed:{checkedForwarders:function(){return this.checkedRows.map((function(e){return e.name}))},limit:function(){return this.$_session.usage.emailForwarders.limit},canCreateForwarder:function(){return this.limit>this.$api.forwarders.length},forwarders:function(){if(this.filter){var e=this.filter.toLowerCase(),t=function(t){return t.toLowerCase().includes(e)};return this.$api.forwarders.filter((function(e){return t(e.name)||e.value.some(t)}))}return this.$api.forwarders}},watch:{$domain:function(){l.getForwarders()}},methods:{deleteForwarders:(f=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.deleteForwarders({select:this.checkedForwarders});case 2:e.sent&&(this.checkedRows=[],l.getForwarders());case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)}),modifyForwarderDialog:(p=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.modify.name=t.name,this.modify.value=(0,n.default)(t.value),this.$dialog("MODIFY_FORWARDER_DIALOG").open();case 3:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})}};t.Z=v},"./src/js/api/commands/user/email/forwarders.js":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.modifyForwarder=t.getForwarders=t.deleteForwarders=t.createForwardersRaw=t.createForwarder=void 0,o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js");var r=s(o("./src/js/api/command/index.js")),a=r.default.get({id:"FORWARDERS",url:"/CMD_EMAIL_FORWARDER",response:[],domain:!0,after:function(e){return e.flow(e.mapValues((function(e,t){return{name:t,value:e}})),e.toArray)}});t.getForwarders=a;var n=r.default.post({url:"/CMD_EMAIL_FORWARDER",params:{action:"create"},domain:!0,schema:{user:r.default.REQUIRED_STRING,email:r.default.REQUIRED_STRING}});t.createForwarder=n;var i=r.default.post({url:"/CMD_EMAIL_FORWARDER",params:{action:"create"},schema:{forwarders:r.default.REQUIRED_STRING},before:function(e){return{forwarders:null,raw_forwarders:e.forwarders}}});t.createForwardersRaw=i;var l=n.extend({params:{action:"modify"}});t.modifyForwarder=l;var d=r.default.select({url:"/CMD_EMAIL_FORWARDER",method:"POST",params:{action:"delete",delete:!0},domain:!0});t.deleteForwarders=d},"./src/js/api/commands/validation/index.js":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.validateUsername=t.validateSubdomain=t.validatePassword=t.validateMXValue=t.validateIPRangeList=t.validateForwarder=t.validateFTP=t.validateEmail=t.validateDomain=t.validateDatabase=t.validateDNSValue=t.validateDNSName=t.validateDBUser=void 0;var r=s(o("./src/js/api/command/index.js")),a=s(o("./node_modules/punycode/punycode.es6.js")),n=s(o("./src/js/api/commands/validation/$processors.ts")),i=r.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:r.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:n.default.isValid,message:n.default.getMessage}}),l=i.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});t.validateForwarder=l;var d=i.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});t.validateEmail=d;var u=i.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});t.validateFTP=u;var c=i.extend({params:{type:"dns"},domain:!0,schema:{record:r.default.REQUIRED_STRING}}),m=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:r.default.REQUIRED_STRING}});t.validateDNSValue=m;var p=m.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});t.validateMXValue=p;var f=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:r.default.REQUIRED_STRING,value:null}});t.validateDNSName=f;var v=i.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});t.validateDatabase=v;var _=i.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});t.validateDBUser=_;var j=i.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});t.validateUsername=j;var y=i.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});t.validateSubdomain=y;var w=i.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});t.validatePassword=w;var g=i.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var t=e.value;return{value:a.default.toASCII(t)}}});t.validateDomain=g;var b=i.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});t.validateIPRangeList=b},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&":function(){},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&":function(){},"./src/js/api/commands/validation/$processors.ts":function(e,t,o){"use strict";o.r(t);var s=o("./src/js/api/commands/converters/index.ts");t.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return(0,s.toAppHtml)(e.error||"")}}},"./src/js/pages/user/email/_components/create-forwarder-dialog-legacy.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return a}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog-legacy.vue?vue&type=script&lang=js&"),r=s.Z,a=(0,o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ui-dialog",{attrs:{id:"CREATE_FORWARDERS_DIALOG_LEGACY",size:"normal"},on:{"dialog:open":e.$reset}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Create Forwarder\n    ")]),e._v(" "),o("ui-form-element",{attrs:{slot:"content",vertical:"",group:"create-forwarders-raw",validators:{required:!0,multilineValidator:e.multilineValidator}},slot:"content"},[o("input-textarea",{staticClass:"width:100%",attrs:{slot:"content",placeholder:"info@test.com --\x3e matt@test.com, nick@test.com, jeff@test.com, phil@test.com",rows:"1"},slot:"content",model:{value:e.data,callback:function(t){e.data=t},expression:"data"}}),e._v(" "),o("translate",{attrs:{slot:"error:multilineValidator"},slot:"error:multilineValidator"},[e._v("\n            The raw forwarders create action does not support multiple lines.\n        ")])],1),e._v(" "),o("ui-button",{attrs:{slot:"buttons",theme:"safe","validate-group":"create-forwarders-raw"},on:{click:e.createForwarders},slot:"buttons"},[o("translate",[e._v("\n            Save\n        ")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/user/email/_components/create-forwarder-dialog.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return n}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog.vue?vue&type=script&lang=js&"),r=s.Z,a=(o("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&"),(0,o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ui-dialog",{attrs:{id:"CREATE_FORWARDERS_DIALOG",size:"normal"}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Create Forwarders\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[e.source.length?o("ui-table",{attrs:{items:e.source}},[o("ui-column",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{id:"value",label:e.$gettext("Forwarder Name")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(t.value)+"@"+e._s(e.$domainUnicode)+"\n                ")]}}],null,!1,3627313924)}),e._v(" "),o("ui-column",{attrs:{id:"remove",fit:""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("ui-button-icon",{attrs:{icon:"delete",title:e.$gettext("Remove Forwarder")},on:{click:function(o){return e.removeSource(t.value)}}})]}}],null,!1,448510911)})],1):e._e(),e._v(" "),o("ui-form-element",{attrs:{vertical:"",group:"add-forwarder-name",validators:{required:!0,validateForwarder:e.validateForwarder,validateSpace:e.validateSpace,validateUniqueName:e.validateUniqueName}}},[e.source.length?e._e():o("translate",{attrs:{slot:"title",vertical:""},slot:"title"},[e._v("\n                New Forwarder Name\n            ")]),e._v(" "),o("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSource.apply(null,arguments)}},slot:"content",model:{value:e.newSource,callback:function(t){e.newSource=t},expression:"newSource"}},[o("ui-button",{staticClass:"domainButton",attrs:{slot:"additions:right",theme:"light",size:"normal",disabled:""},slot:"additions:right"},[e._v("\n                    @"+e._s(e.$domainUnicode)+"\n                ")]),e._v(" "),o("ui-button",{attrs:{slot:"additions:right",theme:"safe",size:"normal",icon:"plus-fill","validate-group":"add-forwarder-name"},on:{click:e.addSource},slot:"additions:right"},[o("translate",[e._v("Add")])],1)],1),e._v(" "),o("span",{attrs:{slot:"error:validateForwarder"},domProps:{innerHTML:e._s(e.$api.validateForwarder.message)},slot:"error:validateForwarder"}),e._v(" "),o("translate",{attrs:{slot:"error:validateSpace"},slot:"error:validateSpace"},[e._v("\n                Should not contain spaces\n            ")]),e._v(" "),o("translate",{attrs:{slot:"error:validateUniqueName"},slot:"error:validateUniqueName"},[e._v("\n                Name already in list\n            ")])],1),e._v(" "),e.destination.length?o("ui-table",{attrs:{items:e.destination}},[o("ui-column",{attrs:{id:"value",label:e.$gettext("Destination")}}),e._v(" "),o("ui-column",{attrs:{id:"remove",fit:""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("ui-button-icon",{attrs:{icon:"delete",title:e.$gettext("Remove Destination")},on:{click:function(o){return e.removeDestination(t.value)}}})]}}],null,!1,3552980462)})],1):e._e(),e._v(" "),o("ui-form-element",{attrs:{vertical:""}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Add Destination\n            ")]),e._v(" "),o("input-select",{attrs:{slot:"content",options:{email:e.$gettext("E-Mail"),pipe:e.$gettext("Pipe"),blackhole:":blackhole:",fail:":fail:"}},slot:"content",model:{value:e.newDestination.type,callback:function(t){e.$set(e.newDestination,"type",t)},expression:"newDestination.type"}})],1),e._v(" "),"email"===e.newDestination.type?o("ui-form-element",{key:"emailDestination",attrs:{vertical:"",group:"add-forwarder-destination",validators:{required:!0,email:!0,validateUniqueDestination:e.validateUniqueDestination}}},[o("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addDestination.apply(null,arguments)}},slot:"content",model:{value:e.newDestination.value,callback:function(t){e.$set(e.newDestination,"value",t)},expression:"newDestination.value"}},[o("ui-button",{attrs:{slot:"additions:right",size:"normal",theme:"safe",icon:"plus-fill","validate-group":"add-forwarder-destination"},on:{click:e.addDestination},slot:"additions:right"},[o("translate",[e._v("Add")])],1)],1),e._v(" "),o("translate",{attrs:{slot:"error:validateUniqueDestination"},slot:"error:validateUniqueDestination"},[e._v("\n                Destination already in list\n            ")])],1):"pipe"===e.newDestination.type?o("ui-form-element",{key:"pipeDestination",attrs:{vertical:"",group:"add-forwarder-destination",validators:{required:!0,validateEmpty:e.validateEmpty,validateUniqueDestination:e.validateUniqueDestination}}},[o("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addDestination.apply(null,arguments)}},slot:"content",model:{value:e.newDestination.value,callback:function(t){e.$set(e.newDestination,"value",t)},expression:"newDestination.value"}},[o("ui-button",{attrs:{slot:"additions:right",size:"normal",theme:"safe",icon:"plus-fill","validate-group":"add-forwarder-destination"},on:{click:e.addDestination},slot:"additions:right"},[o("translate",[e._v("Add")])],1)],1),e._v(" "),o("translate",{attrs:{slot:"error:validateEmpty"},slot:"error:validateEmpty"},[e._v("\n                Empty pipes are not allowed\n            ")]),e._v(" "),o("translate",{attrs:{slot:"error:validateUniqueDestination"},slot:"error:validateUniqueDestination"},[e._v("\n                Destination already in list\n            ")])],1):e._e()],1),e._v(" "),o("ui-button",{attrs:{slot:"buttons",theme:"primary",disabled:!e.fullSource.length||!e.fullDestination.length},on:{click:e.createForwarders},slot:"buttons"},[o("translate",[e._v("Create")])],1)],1)}),[],!1,null,null,null)),n=a.exports},"./src/js/pages/user/email/_components/modify-forwarder-dialog.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return n}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-forwarder-dialog.vue?vue&type=script&lang=js&"),r=s.Z,a=(o("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&"),(0,o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ui-dialog",{attrs:{id:"MODIFY_FORWARDER_DIALOG",size:"normal"},on:{"dialog:open":e.loadData}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Modify Forwarder\n    ")]),e._v(" "),o("div",{attrs:{slot:"content"},slot:"content"},[o("ui-form-element",{attrs:{vertical:""}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Forwarder Name\n            ")]),e._v(" "),o("input-text",{attrs:{slot:"content",disabled:"disabled",value:e.name+"@"+e.$domainUnicode},slot:"content"})],1),e._v(" "),e.destination.length?o("ui-table",{attrs:{items:e.destination}},[o("ui-column",{attrs:{id:"value",label:e.$gettext("Destination")}}),e._v(" "),o("ui-column",{attrs:{id:"remove",fit:""},scopedSlots:e._u([{key:"default",fn:function(t){return[o("ui-button-icon",{attrs:{icon:"delete",title:e.$gettext("Remove Destination")},on:{click:function(o){return e.removeDestination(t.value)}}})]}}],null,!1,3552980462)})],1):e._e(),e._v(" "),o("ui-form-element",{attrs:{vertical:""}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Add Destination\n            ")]),e._v(" "),o("input-select",{attrs:{slot:"content",options:{email:e.$gettext("E-Mail"),pipe:e.$gettext("Pipe"),blackhole:e.$gettext("Blackhole"),fail:e.$gettext("Fail")}},slot:"content",model:{value:e.newDestination.type,callback:function(t){e.$set(e.newDestination,"type",t)},expression:"newDestination.type"}})],1),e._v(" "),"email"===e.newDestination.type?o("ui-form-element",{key:"emailDestination",attrs:{vertical:"",group:"add-forwarder-destination",validators:{required:!0,email:!0,validateUniqueDestination:e.validateUniqueDestination}}},[o("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addDestination.apply(null,arguments)}},slot:"content",model:{value:e.newDestination.value,callback:function(t){e.$set(e.newDestination,"value",t)},expression:"newDestination.value"}},[o("ui-button",{attrs:{slot:"additions:right",size:"normal",theme:"safe",icon:"plus-fill","validate-group":"add-forwarder-destination"},on:{click:e.addDestination},slot:"additions:right"},[o("translate",[e._v("Add")])],1)],1),e._v(" "),o("translate",{attrs:{slot:"error:validateUniqueDestination"},slot:"error:validateUniqueDestination"},[e._v("\n                Destination already in list\n            ")])],1):"pipe"===e.newDestination.type?o("ui-form-element",{key:"pipeDestination",attrs:{vertical:"",group:"add-forwarder-destination",validators:{required:!0,validateEmpty:e.validateEmpty,validateUniqueDestination:e.validateUniqueDestination}}},[o("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addDestination.apply(null,arguments)}},slot:"content",model:{value:e.newDestination.value,callback:function(t){e.$set(e.newDestination,"value",t)},expression:"newDestination.value"}},[o("ui-button",{attrs:{slot:"additions:right",size:"normal",theme:"safe",icon:"plus-fill","validate-group":"add-forwarder-destination"},on:{click:e.addDestination},slot:"additions:right"},[o("translate",[e._v("Add")])],1)],1),e._v(" "),o("translate",{attrs:{slot:"error:validateEmpty"},slot:"error:validateEmpty"},[e._v("\n                Empty pipes are not allowed\n            ")]),e._v(" "),o("translate",{attrs:{slot:"error:validateUniqueDestination"},slot:"error:validateUniqueDestination"},[e._v("\n                Destination already in list\n            ")])],1):e._e()],1),e._v(" "),o("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"modifyForwarder",disabled:!e.fullDestination.length},on:{click:e.modifyForwarder},slot:"buttons"},[o("translate",[e._v("Save")])],1)],1)}),[],!1,null,null,null)),n=a.exports},"./src/js/pages/user/email/forwarders.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return d}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/forwarders.vue?vue&type=script&lang=js&"),r=s.Z,a=o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),n=o("./src/js/pages/user/email/forwarders.vue?vue&type=custom&index=0&blockType=route"),i=o.n(n),l=(0,a.Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("app-page",{attrs:{actions:e.canCreateForwarder?[{label:e.$gettext("Create E-mail Forwarder"),handler:e.$dialog("CREATE_FORWARDERS_DIALOG").open,icon:"#plus-fill",theme:"primary"},{label:e.$gettext("Create forwarders from raw data"),handler:e.$dialog("CREATE_FORWARDERS_DIALOG_LEGACY").open,icon:"#console"}]:[]}},[o("template",{slot:"details"},[o("ui-infobar-item",{attrs:{title:e.$gettext("Details")}},[o("ui-infobar-stats",{attrs:{title:e.$gettext("Forwarders"),usage:e.$api.forwarders.length,limit:e.limit}})],1)],1),e._v(" "),o("ui-limited-button",{attrs:{slot:"header:buttons",theme:"primary",usage:e.$api.forwarders.length,limit:e.$_session.usage.emailForwarders.limit},on:{click:function(t){e.$dialog("CREATE_FORWARDERS_DIALOG").open()}},slot:"header:buttons"},[o("translate",[e._v("Create E-mail Forwarder")]),e._v(" "),o("translate",{attrs:{slot:"limitText"},slot:"limitText"},[e._v("\n            E-mail Forwarders limit reached\n        ")])],1),e._v(" "),e.canCreateForwarder&&"standard2021"!==e.$_layout?o("ui-link",{attrs:{slot:"bottom:links",bullet:""},on:{click:function(t){e.$dialog("CREATE_FORWARDERS_DIALOG_LEGACY").open()}},slot:"bottom:links"},[o("translate",[e._v("Create forwarders from raw data")])],1):e._e(),e._v(" "),o("app-page-section",[o("ui-r-table",e._b({attrs:{"disable-pagination":"","vertical-layout":e.$_Client.isPhone},on:{"update:checkedRows":function(t){e.checkedRows=t}},scopedSlots:e._u([{key:"col:name",fn:function(t){var o=t.name;return[e._v("\n                "+e._s(o)+"@"+e._s(e.$domainUnicode)+"\n            ")]}},{key:"col:value",fn:function(t){var s=t.value;return e._l(s,(function(t){return o("div",{key:t},[e._v("\n                    "+e._s(e._f("p6eUnicodeEmail")(t))+"\n                ")])}))}},{key:"row:actions",fn:function(t){var s=t.item;return[o("ui-button-icon",{attrs:{icon:"pencil",title:e.$gettext("Edit")},on:{click:function(t){return e.modifyForwarderDialog(s)}}})]}}])},"ui-r-table",{rows:e.forwarders,checkedRows:e.checkedRows,columns:[{id:"name",label:e.$gettext("Forwarder")},{id:"value",label:e.$gettext("Value")}]},!1),[o("template",{slot:"buttons:before"},[o("input-text",{attrs:{placeholder:e.$gettext("Filter forwarders")},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},[o("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[o("ui-icon",{attrs:{id:"search"}})],1),e._v(" "),o("ui-button",{attrs:{slot:"additions:right",disabled:""},on:{click:function(t){e.filter=""}},slot:"additions:right"},[o("ui-icon",{attrs:{id:"cancel"}})],1)],1)],1),e._v(" "),o("template",{slot:"table:actions"},[o("ui-table-action",{on:{click:function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[o("translate",[e._v("Delete")])],1)],1)],2)],1),e._v(" "),o("create-forwarders-dialog"),e._v(" "),o("create-forwarders-dialog-legacy"),e._v(" "),o("modify-forwarder-dialog",e._b({on:{modified:e.$reset}},"modify-forwarder-dialog",e.modify,!1)),e._v(" "),o("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("forwarder","forwarders",e.checkedRows.length)},on:{"click:confirm":e.deleteForwarders}})],2)}),[],!1,null,null,null);"function"==typeof i()&&i()(l);var d=l.exports},"./src/js/pages/user/email/forwarders.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&":function(e,t,o){var s=o("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/create-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);(0,o("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("1e33b0bf",s,!0,{})},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&":function(e,t,o){var s=o("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-forwarder-dialog.vue?vue&type=style&index=0&lang=scss&");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);(0,o("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("0cb20cc3",s,!0,{})}}]);