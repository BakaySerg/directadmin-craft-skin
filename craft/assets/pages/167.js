(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{1830:function(e,t,n){"use strict";n.r(t);var a=n(4028),s=n(2642);for(var o in s)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);var r=n(0),u=n(3668),c=n.n(u),l=Object(r.a)(s.default,a.a,a.b,!1,null,null,null);"function"==typeof c.a&&c()(l),t.default=l.exports},1953:function(e,t,n){"use strict";n(7),n(10),n(5),n(6),n(8),n(11);var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.changePassword=t.updateSettings=t.getSettings=t.deleteAccounts=t.unsuspendAccounts=t.suspendAccounts=t.updateAccount=t.createAccount=t.getAccounts=t.getAccount=void 0;var s=a(n(2)),o=a(n(78));function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u=o.default.get({id:"FTP_ACCOUNT",url:"/CMD_FTP_SHOW",domain:!0,schema:{user:o.default.REQUIRED_STRING}});t.getAccount=u;var c=o.default.get({id:"FTP_ACCOUNTS",url:"/CMD_FTP",response:[],params:{full_json:!0},domain:!0,after:function(e){return e.flow(e.project({accounts:"users",anonLogin:"ANONLOGIN"}),e.mapProp("accounts",e.flow(e.mapValues((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({login:t},e)})),e.toArray,e.mapArrayProps({suspended:e.convert.toAppBoolean}))))}});t.getAccounts=c;var l=o.default.post({url:"/CMD_FTP",params:{action:"create"},domain:!0,schema:{user:o.default.REQUIRED_STRING,passwd:o.default.REQUIRED_STRING,passwd2:o.default.REQUIRED_STRING,type:o.default.REQUIRED_STRING,custom_val:o.default.OPTIONAL_STRING},notifySuccess:!1});t.createAccount=l;var d=l.extend({params:{action:"modify"},schema:{passwd:o.default.OPTIONAL_STRING,passwd2:o.default.OPTIONAL_STRING}});t.updateAccount=d;var i=o.default.select({url:"/CMD_FTP",domain:!0,params:{action:"delete"},notifySuccess:!1,notifyError:!1}),p=i.extend({params:{suspend:!0}});t.suspendAccounts=p;var f=i.extend({params:{unsuspend:!0}});t.unsuspendAccounts=f;var m=i.extend({params:{delete:!0}});t.deleteAccounts=m;var v=o.default.get({id:"FTP_SETTINGS",url:"/CMD_FTP_SETTINGS",domain:!0,after:function(e){return function(t){return{access:e.convert.toAppBoolean(t.Anonymous),upload:e.convert.toAppBoolean(t.AnonymousUpload),message:e.flow(e.convert.toAppString,e.convert.toAppText)(t.message)}}}});t.getSettings=v;var g=o.default.post({url:"/CMD_FTP_SETTINGS",params:{action:"modify"},domain:!0,schema:{anon:o.default.REQUIRED_BOOL,anonup:o.default.REQUIRED_BOOL,message:o.default.REQUIRED_STRING}});t.updateSettings=g;var _=o.default.post({url:"/CMD_CHANGE_FTP_PASSWORD",schema:{ftp:o.default.REQUIRED_STRING,password1:o.default.REQUIRED_STRING,password2:o.default.REQUIRED_STRING}});t.changePassword=_},2642:function(e,t,n){"use strict";n.r(t);var a=n(2643),s=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t.default=s.a},2643:function(e,t,n){"use strict";var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(49),n(21),n(40);var s=n(1953),o=a(n(1935)),r={preload:s.getSettings,api:[{command:s.getSettings,bind:"settings"}],components:{InputTextEditor:o.default},data:function(){return{message:"",access:"",upload:"",allow:[]}},created:function(){Object.assign(this,this.$api.settings)},methods:{updateSettings:function(){(0,s.updateSettings)({anon:this.access,anonup:this.upload,message:this.message.replace(/\n/g,"\r\n")})}}};t.default=r},3668:function(e,t){},4028:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[n("app-page-section",[n("ui-form-element",{attrs:{group:"ftpSettings",validators:{required:!0},underline:!1}},[n("input-text-editor",{attrs:{slot:"content",mode:"text",theme:"chrome","disable-modes":"","disable-themes":""},slot:"content",model:{value:e.message,callback:function(t){e.message=t},expression:"message"}},[n("translate",{attrs:{slot:"header"},slot:"header"},[e._v("\n                    Welcome Message\n                ")])],1)],1),e._v(" "),n("ui-form-element",{attrs:{underline:!1}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Allow:\n            ")]),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{slot:"content"},slot:"content"},[n("input-checkbox",{on:{change:function(t){e.upload=e.access&&e.upload}},model:{value:e.access,callback:function(t){e.access=t},expression:"access"}},[e._v("\n                    Access\n                ")]),e._v(" "),n("input-checkbox",{attrs:{disabled:!e.access},model:{value:e.upload,callback:function(t){e.upload=t},expression:"upload"}},[e._v("\n                    Upload\n                ")])],1)],1)],1),e._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:e.updateSettings},slot:"footer:buttons"},[n("translate",[e._v("Save")])],1)],1)},s=[]}}]);