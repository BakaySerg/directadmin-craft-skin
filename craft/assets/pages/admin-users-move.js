(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[9589],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/users/move.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js"),s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),o=s("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=r(s("./node_modules/@babel/runtime/regenerator/index.js")),u=r(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js");var a=c(s("./src/js/api/commands/admin/users/move.js")),l=c(s("./node_modules/ramda/src/index.js"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(i=function(e){return e?s:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var s=i(t);if(s&&s.has(e))return s.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=n?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(r,u,a):r[u]=e[u]}return r.default=e,s&&s.set(e,r),r}var d,m={preload:a.getList,api:[{command:a.getList,bind:"list"}],data:function(){return{users:[],creator:""}},computed:{targetCreators:function(){return l.keys(this.$api.list)},userGroups:function(){return l.pipe(l.filter(this.hasUsers),l.map(this.getUserGroup))(this.targetCreators)}},watch:{creator:function(e){var t=this;this.users=l.filter((function(s){return!t.$api.list[e].includes(s)}),this.users)}},methods:{hasUsers:function(e){return!!this.$api.list[e].length},getResellerLabel:function(e){return this.$gettextInterpolate(this.$gettext("Reseller: %{ creator }"),{creator:e})},getUserGroup:function(e){return{label:this.getResellerLabel(e),entries:this.$api.list[e],disabled:this.creator===e}},moveUsers:(d=(0,u.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.moveUsers({select:this.users,creator:this.creator});case 2:a.getList(),this.checkedRows=[];case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})}};t.Z=m},"./src/js/api/commands/admin/users/move.js":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var r=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.moveUsers=t.getList=void 0;var o=r(s("./src/js/api/command/index.js")),n="/CMD_MOVE_USERS",u=o.default.get({id:"USERS_MOVE_LIST",url:n,after:function(e){return e.getProp("data_list")}});t.getList=u;var a=o.default.select({url:n,params:{action:"moveusers"},schema:{creator:o.default.REQUIRED_STRING}});t.moveUsers=a},"./src/js/pages/admin/users/move.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return r.X},default:function(){return i}});var r=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/users/move.vue?vue&type=script&lang=js&"),o=r.Z,n=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=s("./src/js/pages/admin/users/move.vue?vue&type=custom&index=0&blockType=route"),a=s.n(u),l=(0,n.Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("app-page",{attrs:{id:"move-users"}},[s("ui-form-element",{attrs:{vertical:""}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Select Users\n        ")]),e._v(" "),s("input-select-multiple",{attrs:{slot:"content",options:e.userGroups},slot:"content",model:{value:e.users,callback:function(t){e.users=t},expression:"users"}})],1),e._v(" "),s("ui-form-element",{attrs:{vertical:""}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Select Reseller\n        ")]),e._v(" "),s("div",{directives:[{name:"flex",rawName:"v-flex"}],attrs:{slot:"content"},slot:"content"},[s("input-select",{attrs:{options:e.targetCreators},model:{value:e.creator,callback:function(t){e.creator=t},expression:"creator"}})],1)],1),e._v(" "),s("ui-button",{attrs:{slot:"footer:buttons",theme:"primary",disabled:!e.users.length||!e.creator},on:{click:e.moveUsers},slot:"footer:buttons"},[s("translate",[e._v("Move Users")])],1)],1)}),[],!1,null,null,null);"function"==typeof a()&&a()(l);var i=l.exports},"./src/js/pages/admin/users/move.vue?vue&type=custom&index=0&blockType=route":function(){}}]);