(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1873:function(t,e,a){"use strict";a.r(e);var r=a(4071),o=a(2808);for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(n);a(3808);var s=a(0),i=a(3810),u=a.n(i),l=Object(s.a)(o.default,r.a,r.b,!1,null,"6ecf1bf6",null);"function"==typeof u.a&&u()(l),e.default=l.exports},1931:function(t,e,a){"use strict";a(10),a(5),a(6),a(8),a(11);var r=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getPhpDocrootOptions=e.phpOverride=e.docrootOverride=e.getSubdomainLog=e.deleteSubdomains=e.createSubdomain=e.getSubdomains=void 0,a(7),a(84);var o=r(a(2)),n=r(a(78));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var i=n.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,o.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({domain:n.default.DOMAIN},n.default.PAGINATION),after:function(t){return t.flow(t.moveProp("subdomains","rows"),t.moveProp("allow_subdomain_docroot_override","docroot"),t.processTableInfo("rows"),t.mapProps({awstats:function(t){return"0"!==t},webalizer:t.isEqual("1"),docroot:t.isEqual("1"),has_php_selector:t.isEqual("yes"),rows:t.flow(t.toArray,t.mapArray(t.moveProp("subdomain_docroot_override","docroot")),t.mapArrayProps({bandwidth:t.convert.toAppNumber,stats:t.mapProps({webalizer_only:t.convert.toAppBoolean}),docroot:function(e){if(e&&Object.keys(e).length){if(void 0!==e.php1_select){var a=t.toSelect(e.php1_select),r=a.options,o=a.value;return{public_html:e.public_html,private_html:e.private_html,php_labels:r,php1_select:o}}return e}return!1}}))}))}});e.getSubdomains=i;var u=n.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:n.default.DOMAIN,subdomain:n.default.REQUIRED_STRING}});e.createSubdomain=u;var l=n.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:n.default.REQUIRED_BOOL}});e.deleteSubdomains=l;var c=n.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:n.default.DOMAIN,type:n.default.REQUIRED_STRING,subdomain:n.default.REQUIRED_STRING,lines:n.default.OPTIONAL_STRING},after:function(t){return t.flow(t.convert.toLines,(function(t){return t.slice(0,-1)}))}});e.getSubdomainLog=c;var d=n.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:n.default.REQUIRED_STRING,private_html:n.default.OPTIONAL_STRING,public_html:n.default.OPTIONAL_STRING}});e.docrootOverride=d;var p=n.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:n.default.REQUIRED_STRING,php1_select:n.default.REQUIRED_STRING}});e.phpOverride=p;var f=n.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:n.default.REQUIRED_STRING},after:function(t){return t.flow(t.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),t.mapProps({php:t.toSelect,has_php_selector:t.isEqual("yes")}))}});e.getPhpDocrootOptions=f},2808:function(t,e,a){"use strict";a.r(e);var r=a(2809),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e.default=o.a},2809:function(t,e,a){"use strict";a(10),a(5),a(6),a(8),a(11);var r=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(a(38)),n=r(a(2));a(730),a(21),a(65),a(55),a(7),a(40),a(24);var s=a(1931),i=a(3807),u=a(58),l=a(32),c=r(a(712));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={preload:[s.getSubdomains,i.getWebalizerStatus],api:[{command:s.getSubdomains,bind:"subdomains"},{command:i.getWebalizerStatus,bind:"webalizerStatus"}],mixins:[(0,u.$bindTab)({param:"tab",defaultTab:"webalizer"})],props:{subdomain:{type:String,required:!0}},data:function(){return{report:""}},computed:{awstats:function(){var t=this,e={January:this.$gettext("January"),February:this.$gettext("February"),March:this.$gettext("March"),April:this.$gettext("April"),May:this.$gettext("May"),June:this.$gettext("June"),July:this.$gettext("July"),August:this.$gettext("August"),September:this.$gettext("September"),October:this.$gettext("October"),November:this.$gettext("November"),December:this.$gettext("December")},a=new RegExp(Object.keys(e).join("|"));if(this.$api.subdomains.awstats){var r=l.fp.transformObject((function(r,o){return"has_dynamic"===o?{}:"present"===r?(0,n.default)({},o,t.$gettext("Present")):(0,n.default)({},o,function(t){return(0,c.default)(l.fp.convert.toAppDate(t),"MMMM yyyy",{awareOfUnicodeTokens:!0}).replace(a,(function(t){return e[t]}))}(r))})),o=this.$api.subdomains.subdomain_awstats[this.subdomain];return p(p({},"1"===o.has_dynamic?(0,n.default)({},"/CMD_AWSTATS/".concat(this.$domain,"/").concat(this.subdomain,"/awstats.pl"),this.$gettext("All Month(cgi)")):{}),r(o))}return!1},webalizer:function(){return!(!this.$api.subdomains.webalizer||!this.$api.webalizerStatus)&&"/CMD_WEBALIZER/".concat(this.$domain,"/").concat(this.subdomain,"/index.html")}},created:function(){if(this.awstats){var t=Object.keys(this.awstats),e=(0,o.default)(t,1);this.report=e[0]}!this.webalizer&&this.awstats&&(this.tab="awstats")}};e.default=f},3160:function(t,e,a){var r=a(3809);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(4).default)("2bbd5982",r,!0,{})},3807:function(t,e,a){"use strict";var r=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.getWebalizerStatus=void 0,a(24);var o=r(a(78)),n=o.default.get({id:"WEBALIZER_STATUS",url:"/CMD_FILE_MANAGER",response:!1,params:{action:"exists"},schema:{domain:o.default.DOMAIN,subdomain:o.default.OPTIONAL_STRING},before:function(t){var e=t.domain,a=t.subdomain;return{path:a?"/domains/".concat(e,"/stats/").concat(a,"/index.html"):"/domains/".concat(e,"/stats/index.html"),domain:null,subdomain:null}},after:function(){return function(t){return"1"===t.exists}}});e.getWebalizerStatus=n},3808:function(t,e,a){"use strict";a(3160)},3809:function(t,e,a){},3810:function(t,e){},4071:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return o}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",{attrs:{id:"subdomain-stats"}},[a("app-page-section",[a("ui-tabs",{attrs:{tabs:[t.webalizer?{id:"webalizer",label:t.$gettext("Webalizer")}:{},t.awstats?{id:"awstats",label:t.$gettext("AWstats")}:{}],"hide-single-tab":"",selected:t.tab},on:{"update:selected":function(e){t.tab=e}}},[a("template",{slot:"tab:webalizer"},[t.webalizer?a("iframe",{staticClass:"report",attrs:{src:t.webalizer,frameborder:"0"}}):a("app-page-section",[a("translate",{attrs:{slot:"section:title"},slot:"section:title"},[t._v("\n                        File does not exist\n                    ")]),t._v(" "),a("translate",[t._v("You must wait for the stats to be computed. This will only happen *after* logs exist (domain must resolve and be used).")])],1)],1),t._v(" "),a("template",{slot:"tab:awstats"},[a("ui-form-element",{attrs:{vertical:t.$_Client.isPhone}},[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                        Month\n                    ")]),t._v(" "),a("input-select",{attrs:{slot:"content",options:t.awstats},slot:"content",model:{value:t.report,callback:function(e){t.report=e},expression:"report"}})],1),t._v(" "),t.report?a("iframe",{staticClass:"report",attrs:{src:t.report,frameborder:"0"}}):t._e()],1)],2)],1)],1)},o=[]}}]);