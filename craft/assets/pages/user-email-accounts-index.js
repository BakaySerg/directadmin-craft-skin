(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[1307],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-account-dialog.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=o(s("./node_modules/@babel/runtime/regenerator/index.js")),n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.array.concat.js");var i,l,r=s("./src/js/api/commands/user/email/accounts/index.js"),u=s("./src/js/api/commands/validation/index.js"),d={api:[{command:r.getAccounts,bind:{"response.emails.rows":"accounts","response.options":"options"}},{command:u.validateEmail,bind:"emailValidation"}],commands:{validatePassword:u.validatePassword},props:{account:{type:String,required:!0}},data:function(){return{username:"",password:""}},computed:{user:function(){var e=this;return this.$api.accounts.find((function(t){return t.account===e.account}))},options:function(){return this.$api.options},limit:function(){if(!this.options.user_can_set_email_limit)return null;var e=(this.user.sent||{}).limit,t=void 0===e?1/0:e;return t!==1/0?t.toString():this.options.GLOBAL_PER_EMAIL_LIMIT.toString()},quota:function(){if(this.user.usage.quota===1/0)return"0";var e=Math.floor(this.user.usage.quota/1048576);return e.toString()}},methods:{initData:function(){this.username=this.$p6e.toU(this.user.login)},modifyAccount:(l=(0,n.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$p6e.toA(this.username),this.username!==t&&this.$notifications.info({title:this.$gettext("Username punycoded"),content:this.$gettext("Username has been automatically converted to punycode format. Punycode is used to encode internationalized domain names (IDN) by converting Unicode characters to ASCII.")}),e.next=4,(0,r.modifyAccount)({user:this.user.login,newuser:t,passwd:this.password,passwd2:this.password,quota:this.quota,limit:this.limit});case 4:this.$reset(),this.$emit("reload");case 6:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)}),validateUser:(i=(0,n.default)(a.default.mark((function e(t){var s,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t!==this.user.login){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,(0,u.validateEmail)({value:"".concat(this.$p6e.toA(t),"@").concat(this.$domain)});case 4:return s=e.sent,o=s.valid,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}};t.Z=d},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-account-quota-dialog.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=o(s("./node_modules/@babel/runtime/regenerator/index.js")),n=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.regexp.to-string.js"),s("./node_modules/core-js/modules/es.number.constructor.js");var i,l=s("./src/js/api/commands/user/email/accounts/index.js"),r={api:[{command:l.getAccounts,bind:{"response.options.user_can_set_email_limit":"setLimit","response.options.GLOBAL_PER_EMAIL_LIMIT":"globalSendLimit","response.options.DEFAULT_POP_QUOTA":"defaultQuota","response.options.MAX_PER_EMAIL_SEND_LIMIT":"maxPerEmailSendLimit","response.emails.rows":"accounts","response.options.user_email_quota_max":"emailQuotaMax"}}],props:{account:{type:String,required:!0}},data:function(){return{quota:"0",limit:"",limitUnlimited:!1,quotaUnlimited:!1}},computed:{user:function(){var e=this;return this.$api.accounts.find((function(t){return t.account===e.account}))},canSetUnlimited:function(){return"0"===this.maxLimit},maxLimit:function(){return"-1"===this.$api.maxPerEmailSendLimit?this.$api.globalSendLimit:this.$api.maxPerEmailSendLimit},showUnlimitedQuotaCheckbox:function(){return"0"===this.$api.emailQuotaMax||"-1"===this.$api.emailQuotaMax||void 0===this.$api.emailQuotaMax}},watch:{quotaUnlimited:"revalidate",limitUnlimited:"revalidate"},methods:{revalidate:function(){this.$store.dispatch("validation/REVALIDATE_GROUP","modifyAccountQuota")},initData:function(){this.$api.setLimit&&(this.limit=this.user.sent.limit===1/0?"0":this.user.sent.limit.toString()||this.$api.globalSendLimit,this.limitUnlimited="0"===this.limit,this.limitUnlimited&&!this.canSetUnlimited&&(this.limitUnlimited=!1,this.limit=this.$api.globalSendLimit)),this.quota=this.user.usage.quota===1/0?"0":String(this.user.usage.quota/1048576),this.quotaUnlimited="0"===this.quota},modifyAccount:(i=(0,n.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.modifyAccount)({user:this.user.login,newuser:this.user.login,passwd:"",passwd2:"",quota:this.quota||"0",limit:this.limit||this.maxLimit});case 2:this.$reset(),this.$emit("reload");case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),toggleLimit:function(){this.limitUnlimited=!this.limitUnlimited,this.limit=this.limitUnlimited?"0":""},toggleQuota:function(){var e="0"===this.$api.defaultQuota?"":this.$api.defaultQuota;this.quotaUnlimited=!this.quotaUnlimited,this.quota=this.quotaUnlimited?"0":e},validateQuota:function(e){return!e||Number(e)<=100*Math.pow(2,20)},validateQuotaRequired:function(e){return!!this.quotaUnlimited||!!e},validateUnlimited:function(e){return!(e&&!this.limitUnlimited)||Number(e)},validateLimit:function(e){return"0"===this.maxLimit||Number(e||0)<=Number(this.maxLimit)},validateLimitRequired:function(e){return!!this.limitUnlimited||!!e}}};t.Z=r},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/purge-folder-dialog.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a,n=o(s("./node_modules/@babel/runtime/regenerator/index.js")),i=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=s("./src/js/api/commands/user/email/accounts/index.js"),r={props:{select:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{folder:"spambox",period:"all"}},api:[{command:l.getAccounts,bind:{"response.options.purge_select.options":"folders","response.options.when_select.options":"periods"}}],methods:{purgeFile:(a=(0,i.default)(n.default.mark((function e(){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.purgeAccounts)({file:this.folder,what:this.period,select:this.select});case 2:this.$emit("requestReload");case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})}};t.Z=r},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/show-smtp-log-dialog.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var o={api:[{command:s("./src/js/api/commands/user/email/usage.js").loadSmtpLog,bind:"log"}],computed:{log:function(){return this.$api.log}}};t.Z=o},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/accounts/index.vue?vue&type=script&lang=js&":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.symbol.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("./node_modules/core-js/modules/es.object.define-properties.js"),s("./node_modules/core-js/modules/es.object.define-property.js"),s("./node_modules/core-js/modules/es.array.iterator.js"),s("./node_modules/core-js/modules/es.string.iterator.js"),s("./node_modules/core-js/modules/es.weak-map.js"),s("./node_modules/core-js/modules/web.dom-collections.iterator.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),a=s("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=o(s("./node_modules/@babel/runtime/regenerator/index.js"));s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.function.name.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.concat.js");var i=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=o(s("./node_modules/@babel/runtime/helpers/slicedToArray.js")),r=o(s("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var s=b(t);if(s&&s.has(e))return s.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=n?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(o,i,l):o[i]=e[i]}o.default=e,s&&s.set(e,o);return o}(s("./src/js/api/commands/user/email/accounts/index.js")),d=s("./src/js/vue/helpers.js"),c=s("./src/js/store/index.js"),m=s("./src/js/api/commands/user/email/usage.js"),p=o(s("./src/js/pages/user/email/_components/purge-folder-dialog.vue")),_=o(s("./src/js/pages/user/email/_components/modify-account-dialog.vue")),v=o(s("./src/js/pages/user/email/_components/modify-account-quota-dialog.vue")),f=o(s("./src/js/pages/user/email/_components/show-smtp-log-dialog.vue")),g=o(s("./src/js/components/local/layouts/standard-2021/components/info-bar-text-item.vue"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,s=new WeakMap;return(b=function(e){return e?s:t})(e)}function j(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,o)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?j(Object(s),!0).forEach((function(t){(0,i.default)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):j(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var y,x,A,S={name:"EmailAccounts",preload:(A=(0,r.default)(n.default.mark((function e(t){var s,o,a,i;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.email&&(s=t.email.split("@"),o=(0,l.default)(s,2),a=o[0],i=o[1],c.Store.commit("app/SET_DOMAIN",i),t.comparison1="equals",t.value1=a,delete t.email),e.next=3,u.getAccounts(t);case 3:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)}),api:[{command:u.getAccounts,bind:{"response.emails":"emails","response.options":"options"}}],commands:u,components:{PurgeFolderDialog:p.default,ModifyAccountDialog:_.default,ModifyAccountQuotaDialog:v.default,ShowSmtpLogDialog:f.default,TextItem:g.default},props:{email:{type:String,required:!1,default:""}},data:function(){return{select:[],cleanForwarders:!0,modifyAccount:""}},computed:{hasActions:function(){var e=this;return function(t){return t.account!==e.$state.app.user.name||(e.$_cmd("/CMD_PASSWD")||!e.$api.options.hide_outlook)}},userLimit:function(){return Number(this.$api.options.USER_EMAIL_SEND_LIMIT)||1/0},hasOverride:function(){var e=this;return this.$api.emails.rows.some((function(t){return t.sent&&e.getSent(t.sent).limit>e.userLimit}))},limit:function(){return this.$_session.usage.emailAccounts.limit},filters:function(){if(this.email){var e=this.email.split("@");return[{column:"account",type:"equals",value:(0,l.default)(e,1)[0]}]}return[]}},watch:{email:function(e){var t=e.split("@").pop();t!==this.$domain&&c.Store.commit("app/SET_DOMAIN",t)},$domain:function(){this.$refs.table.reloadTable()}},methods:{showLog:(x=(0,r.default)(n.default.mark((function e(t,s){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.loadSmtpLog)({user:t,method:s});case 2:this.$dialog("SHOW_SMTP_LOG_DIALOG").open();case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return x.apply(this,arguments)}),downloadOutlookSettings:function(e){window.location.href="/CMD_EMAIL_REG/".concat(this.$domain,"/").concat(e.login,"@").concat(this.$domain,"/").concat(e.account,"@").concat(this.$domain,"/outlook_").concat(e.login,".reg")},suspendAccounts:function(){u.suspendAccounts(this.$get("select")).then(this.$reloadApiTable)},unsuspendAccounts:function(){u.unsuspendAccounts(this.$get("select")).then(this.$reloadApiTable)},deleteAccounts:function(){u.deleteAccounts({select:this.select,clean_forwarders:this.cleanForwarders}).then(this.$reloadApiTable)},getSent:function(e){var t=e.usage,s=e.limit;return s!==1/0?{usage:t,limit:s}:"0"!==this.$api.options.USER_EMAIL_SEND_LIMIT?{usage:t,limit:Number(this.$api.options.USER_EMAIL_SEND_LIMIT)}:{usage:t,limit:1/0}},setLimitForARow:function(e){return e.sent?h(h({},e),{},{sent:this.getSent(e.sent)}):e},toggleDKIMStatus:function(){var e=this.$api.options.DKIM_ENABLED?"disable":"enable";u.changeDKIMStatus({action:e}).then(this.$reloadApiTable)},webmailSSO:(y=(0,r.default)(n.default.mark((function e(t){var s,o,a,i;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("roundcube"!==(s=this.$_session.webmailLink)){e.next=8;break}return e.next=4,u.webmailSSO({email:"".concat(t,"@").concat(this.$domain)});case 4:"yes"===(o=e.sent).success&&(0,d.openInNewTab)("".concat(o.url,"?token=").concat(o.token)),e.next=11;break;case 8:a=this.$gettext("Cannot Execute Your Request"),i=this.$gettextInterpolate(this.$gettext("One-Click login requires does not support webmail_link=%{ webmail_link }. Try webmail_link=roundcube"),{webmail_link:s}),this.$notifications.error({title:a,content:i,extended:!0});case 11:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)}),webmailSystemSSO:function(){this.webmailSSO(this.$state.app.user.name)}}};t.Z=S},"./src/js/api/commands/user/email/accounts/index.js":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.webmailSSO=t.unsuspendAccounts=t.suspendAccounts=t.purgeAccounts=t.modifyAccount=t.getLoginsList=t.getAccounts=t.deleteAccounts=t.createAccount=t.changePassword=t.changeDKIMStatus=t.$processors=void 0;var a=o(s("./node_modules/@babel/runtime/helpers/defineProperty.js")),n=o(s("./node_modules/@babel/runtime/helpers/typeof.js"));s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.array.map.js"),s("./node_modules/core-js/modules/es.number.constructor.js"),s("./node_modules/core-js/modules/es.number.is-finite.js"),s("./node_modules/core-js/modules/es.array.flat-map.js"),s("./node_modules/core-js/modules/es.array.unscopables.flat-map.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.string.includes.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.string.replace.js");var i=o(s("./src/js/api/command/index.js")),l=s("./node_modules/monet/dist/monet.js"),r=s("./src/js/api/converters.js"),u=function(e){return l.Maybe.Some(e).map(Number).filter(Number.isFinite).orSome(1/0)},d={sent:function(e){return l.Maybe.fromNull(e).filter((function(e){return"object"===(0,n.default)(e)})).flatMap((function(e){var t=e.sent,s=e.send_limit;try{return l.Maybe.Some({usage:u(t),limit:u(s)})}catch(e){return l.Maybe.None()}})).orSome(!1)},lastChange:function(e){return l.Maybe.fromNull(e).map((function(e){var t=e.ip,s=e.when;return{ip:(0,l.Identity)(t).map(r.toAppString).map(r.toAppText).get(),when:(0,l.Identity)(s).map(r.toAppDate).get()}})).orSome(!1)}};t.$processors=d;var c=i.default.get({id:"EMAIL_ACCOUNTS",url:"/CMD_EMAIL_POP",domain:!0,pagination:!0,params:{bytes:!0},after:function(e){return e.flow(e.wrap("options"),e.moveProp({"options.emails":"emails","options.EMAIL_MESSAGE":"options.email_message"}),e.mapProps({emails:e.toTable(e.mapArray(e.flow(e.moveProp({"usage.last_login":"last_login","usage.last_password_change":"last_password_change"}),e.mapProps({login:function(e){return e.includes("@")?e.split("@")[0]:e},is_default:function(e,t){return!t.login.includes("@")},sent:d.sent,usage:e.mapValues(u),last_login:d.lastChange,last_password_change:d.lastChange})))),options:e.mapProps({DKIM:e.isEqual("1"),DKIM_ENABLED:e.isEqual("1"),block_cracking_unblock:e.convert.toAppNumber,clean_forwarders_on_email_delete:e.isEqual("1"),count_pop_usage:e.isEqual("1"),hide_outlook:e.isEqual("1"),pop_disk_usage_cache:e.isEqual("1"),pop_disk_usage_true_bytes:e.isEqual("1"),user_can_set_email_limit:e.isEqual("1"),purge_select:e.toSelect,when_select:e.toSelect,HAVE_ONE_CLICK_WEBMAIL_LOGIN:e.convert.toAppBoolean,system_user_to_virtual_passwd:e.isEqual("1")})}))}});t.getAccounts=c;var m=i.default.post({url:"/CMD_EMAIL_POP",params:{action:"delete"},domain:!0}),p=m.extend({params:{suspend:!0}});t.suspendAccounts=p;var _=m.extend({params:{unsuspend:!0}});t.unsuspendAccounts=_;var v=m.extend({params:{delete:!0},schema:{clean_forwarders:i.default.REQUIRED_BOOL}});t.deleteAccounts=v;var f=m.extend({params:{purge:!0},body:{file:i.default.REQUIRED_STRING,what:i.default.REQUIRED_STRING}});t.purgeAccounts=f;var g=i.default.post({url:"/CMD_EMAIL_POP",params:{action:"create"},domain:!0,schema:{user:i.default.USER,passwd2:i.default.PASSWORD,passwd:i.default.PASSWORD,quota:i.default.REQUIRED_STRING,limit:i.default.OPTIONAL_STRING},after:function(e){return e.mapProp("result",(function(e){return e.replace(/(\\n)+/g,"\n")}))}});t.createAccount=g;var b=i.default.post({url:"/CMD_EMAIL_POP",params:{action:"modify"},domain:!0,schema:{user:i.default.USER,newuser:i.default.USER,passwd2:i.default.OPTIONAL_STRING,passwd:i.default.OPTIONAL_STRING,quota:i.default.REQUIRED_STRING,limit:i.default.OPTIONAL_STRING}});t.modifyAccount=b;var j=i.default.post({url:"/CMD_CHANGE_EMAIL_PASSWORD",schema:{email:i.default.REQUIRED_STRING,oldpassword:i.default.REQUIRED_STRING,password1:i.default.REQUIRED_STRING,password2:i.default.REQUIRED_STRING}});t.changePassword=j;var h=i.default.post({url:"/CMD_EMAIL_POP",domain:!0,schema:{action:i.default.REQUIRED_STRING},before:function(e){var t=e.action;return(0,a.default)({action:"set_dkim"},t,!0)}});t.changeDKIMStatus=h;var y=i.default.post({url:"/CMD_WEBMAIL_LOGIN",notifySuccess:!1,schema:{email:i.default.REQUIRED_STRING}});t.webmailSSO=y;var x=i.default.get({id:"LOGINS_LIST",url:"/CMD_EMAIL_POP",domain:!0,response:[],params:{quick:!0},mapResponse:function(e){return e.emails}});t.getLoginsList=x},"./src/js/api/commands/user/email/usage.js":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.unblockBlockcrackerPaths=t.loadSmtpLog=t.getUsage=t.getSendingScripts=t.getIdInfo=t.getBlockCracking=void 0,s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/es.promise.js"),s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js");var a=o(s("./src/js/api/command/index.js")),n=a.default.get({id:"BLOCK_CRACKING",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!1,block_cracking_paths:!0},domain:!0,pagination:!0,after:function(e){return e.flow((function(e){return e.block_cracking_paths?e:{block_cracking_paths:"no",block_cracking_paths_table:{info:{ipp:"10",total_pages:"1",current_page:"1",rows:"0"}}}}),e.moveProp({block_cracking_paths:"options.enabled",block_cracking_paths_table:"rows"}),e.processTableInfo("rows"),e.mapProps({options:e.mapProps({enabled:e.convert.toAppBoolean}),rows:e.flow(e.toArray,e.mapArray(e.flow(e.moveProp({date_blocked:"date",blocked_path:"path"}),e.mapProps({date:e.convert.toAppDate}))))}))}});t.getBlockCracking=n;var i=a.default.get({id:"SENDING_SCRIPTS",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!0,block_cracking_paths:!1,which:"both"},domain:!0,pagination:!0,after:function(e){return e.flow(e.moveProp({sending_php_scripts:"rows"}),e.processTableInfo("rows"),e.mapProp("rows",e.flow(e.toArray,e.mapArray(e.flow(e.moveProp({script_name:"script",mail_line_number:"line",send_count:"send"}),e.mapProps({send:e.convert.toAppNumber,line:e.flow(e.convert.toAppString,e.convert.toAppNumber)}))))))}});t.getSendingScripts=i;var l=a.default.get({id:"EMAIL_USAGE",url:"/CMD_EMAIL_USAGE",params:{main_info:!0,sending_php_scripts:!1,block_cracking_paths:!1,which:"both"},schema:{direction:a.default.OPTIONAL_STRING},domain:!0,pagination:!0,after:function(e){return e.flow(e.project({rows:"deliveries",highest:"highest"}),e.processTableInfo("rows"),e.mapProp("rows",e.mapArrayProps({time:e.convert.toAppDate,size:e.convert.toAppNumber})))}});t.getUsage=l;var r=a.default.select({url:"/CMD_EMAIL_USAGE",params:{unblock:!0,action:"unblock"},domain:!0});t.unblockBlockcrackerPaths=r;var u=a.default.get({id:"SMTP_LOG",url:"/CMD_EMAIL_USAGE",params:{action:"smtp_log"},schema:{user:a.default.REQUIRED_STRING,method:a.default.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:function(){return function(e){return e.split("\n")}}});t.loadSmtpLog=u;var d=a.default.get({id:"EMAIL_USAGE_ID_INFO",url:"/CMD_EMAIL_USAGE",params:{action:"id_info"},schema:{id:a.default.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:function(){return function(e){return e.split("\n")}}});t.getIdInfo=d},"./src/js/api/commands/validation/index.js":function(e,t,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var o=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.validateUsername=t.validateSubdomain=t.validatePassword=t.validateMXValue=t.validateIPRangeList=t.validateForwarder=t.validateFTP=t.validateEmail=t.validateDomain=t.validateDatabase=t.validateDNSValue=t.validateDNSName=t.validateDBUser=void 0;var a=o(s("./src/js/api/command/index.js")),n=o(s("./node_modules/punycode/punycode.es6.js")),i=o(s("./src/js/api/commands/validation/$processors.ts")),l=a.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:a.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:i.default.isValid,message:i.default.getMessage}}),r=l.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});t.validateForwarder=r;var u=l.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});t.validateEmail=u;var d=l.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});t.validateFTP=d;var c=l.extend({params:{type:"dns"},domain:!0,schema:{record:a.default.REQUIRED_STRING}}),m=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:a.default.REQUIRED_STRING}});t.validateDNSValue=m;var p=m.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});t.validateMXValue=p;var _=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:a.default.REQUIRED_STRING,value:null}});t.validateDNSName=_;var v=l.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});t.validateDatabase=v;var f=l.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});t.validateDBUser=f;var g=l.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});t.validateUsername=g;var b=l.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});t.validateSubdomain=b;var j=l.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});t.validatePassword=j;var h=l.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var t=e.value;return{value:n.default.toASCII(t)}}});t.validateDomain=h;var y=l.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});t.validateIPRangeList=y},"./node_modules/core-js/internals/number-is-finite.js":function(e,t,s){var o=s("./node_modules/core-js/internals/global.js").isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&o(e)}},"./node_modules/core-js/modules/es.number.is-finite.js":function(e,t,s){s("./node_modules/core-js/internals/export.js")({target:"Number",stat:!0},{isFinite:s("./node_modules/core-js/internals/number-is-finite.js")})},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/layouts/standard-2021/components/info-bar-text-item.vue?vue&type=style&index=0&lang=scss&":function(){},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/accounts/index.vue?vue&type=style&index=0&lang=scss&":function(){},"./src/js/api/commands/validation/$processors.ts":function(e,t,s){"use strict";s.r(t);var o=s("./src/js/api/commands/converters/index.ts");t.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return(0,o.toAppHtml)(e.error||"")}}},"./src/js/components/local/layouts/standard-2021/components/info-bar-text-item.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});s("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/layouts/standard-2021/components/info-bar-text-item.vue?vue&type=style&index=0&lang=scss&");var o=(0,s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)({},(function(e,t){var s=t._c;return s("div",{staticClass:"info-bar-data-text-item"},[s("span",{staticClass:"info-bar-text-item-label"},[t._t("label")],2),t._v(" "),s("span",{staticClass:"info-bar-text-item-value"},[t._t("value")],2)])}),[],!0,null,null,null).exports},"./src/js/pages/user/email/_components/modify-account-dialog.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X},default:function(){return n}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-account-dialog.vue?vue&type=script&lang=js&"),a=o.Z,n=(0,s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ui-dialog",{attrs:{id:"MODIFY_ACCOUNT_DIALOG",size:"normal"},on:{"dialog:open":e.initData}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change Password/Username\n    ")]),e._v(" "),s("template",{slot:"content"},[s("ui-form-element",{attrs:{group:"modifyAccount",vertical:"",validators:{required:!0,validateUser:e.validateUser}}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username\n            ")]),e._v(" "),s("input-text",{attrs:{slot:"content",suffix:"@"+e.$domainUnicode},slot:"content",model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),s("span",{attrs:{slot:"error:validateUser"},domProps:{innerHTML:e._s(e.$api.emailValidation.message)},slot:"error:validateUser"})],1),e._v(" "),s("ui-form-element",{attrs:{group:"modifyAccount",validators:{required:!0,api:e.$commands.validatePassword},vertical:""}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Password\n            ")]),e._v(" "),s("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),s("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"modifyAccount"},on:{click:e.modifyAccount},slot:"buttons"},[s("translate",[e._v("Save")])],1)],2)}),[],!1,null,null,null).exports},"./src/js/pages/user/email/_components/modify-account-quota-dialog.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X},default:function(){return n}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/modify-account-quota-dialog.vue?vue&type=script&lang=js&"),a=o.Z,n=(0,s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ui-dialog",{attrs:{id:"MODIFY_ACCOUNT_QUOTA_DIALOG",size:"normal"},on:{"dialog:open":e.initData}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change Limit/Quota\n    ")]),e._v(" "),s("template",{slot:"content"},[s("ui-form-element",{attrs:{group:"modifyAccountQuota",validators:{validateQuotaRequired:e.validateQuotaRequired,validateQuota:e.validateQuota,notEqual:"0"},vertical:""}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                E-mail Quota (MB)\n            ")]),e._v(" "),s("input-text",{attrs:{slot:"content",value:e.quotaUnlimited?"":e.quota,number:"",disabled:e.quotaUnlimited},on:{input:function(t){e.quota=t}},slot:"content"},[e.showUnlimitedQuotaCheckbox?s("ui-button",{attrs:{slot:"additions:right"},on:{click:e.toggleQuota},slot:"additions:right"},[s("input-checkbox",{attrs:{model:e.quotaUnlimited}},[s("translate",[e._v("Max")])],1)],1):e._e()],1),e._v(" "),s("translate",{attrs:{slot:"error:validateQuotaRequired"},slot:"error:validateQuotaRequired"},[e._v("\n                Required field\n            ")]),e._v(" "),s("translate",{attrs:{slot:"error:validateQuota"},slot:"error:validateQuota"},[e._v("\n                Quota can't be larger than 100TB\n            ")]),e._v(" "),s("translate",{attrs:{slot:"error:notEqual"},slot:"error:notEqual"},[e._v("\n                Should be larger than zero\n            ")])],1),e._v(" "),e.$api.setLimit?s("ui-form-element",{attrs:{group:"modifyAccountQuota",validators:{validateLimitRequired:e.validateLimitRequired,validateLimit:e.validateLimit,validateUnlimited:e.validateUnlimited},vertical:""}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Send Limit\n            ")]),e._v(" "),"0"!==e.maxLimit?s("translate",{attrs:{slot:"tooltip","translate-params":{limit:e.maxLimit}},slot:"tooltip"},[e._v("\n                Blank will default to %{ limit }\n            ")]):s("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[e._v("\n                Blank will default to unlimited\n            ")]),e._v(" "),s("input-text",{attrs:{slot:"content",number:"",value:e.limitUnlimited?"":e.limit,placeholder:"0"===e.maxLimit?"":e.maxLimit,disabled:e.limitUnlimited},on:{input:function(t){e.limit=t}},slot:"content"},[s("ui-button",{attrs:{slot:"additions:right",disabled:!e.canSetUnlimited},on:{click:e.toggleLimit},slot:"additions:right"},[s("input-checkbox",{attrs:{model:e.limitUnlimited}},[s("translate",[e._v("Max")])],1)],1)],1),e._v(" "),s("translate",{attrs:{slot:"error:validateLimitRequired"},slot:"error:validateLimitRequired"},[e._v("\n                Required field\n            ")]),e._v(" "),s("translate",{attrs:{slot:"error:validateLimit","translate-params":{limit:e.maxLimit}},slot:"error:validateLimit"},[e._v("\n                Limit can't be larger than %{ limit }\n            ")]),e._v(" "),s("translate",{attrs:{slot:"error:validateUnlimited"},slot:"error:validateUnlimited"},[e._v("\n                Limit should be larger than 0\n            ")])],1):e._e()],1),e._v(" "),s("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"modifyAccountQuota"},on:{click:e.modifyAccount},slot:"buttons"},[s("translate",[e._v("Save")])],1)],2)}),[],!1,null,null,null).exports},"./src/js/pages/user/email/_components/purge-folder-dialog.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X},default:function(){return n}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/purge-folder-dialog.vue?vue&type=script&lang=js&"),a=o.Z,n=(0,s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ui-dialog",{attrs:{id:"PURGE_DIALOG",theme:"primary"}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Purge Folder\n    ")]),e._v(" "),s("template",{slot:"content"},[s("ui-form-element",{attrs:{validators:{required:!0}}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Folder:\n            ")]),e._v(" "),s("template",{slot:"content"},[s("input-select",{attrs:{options:e.$api.folders},model:{value:e.folder,callback:function(t){e.folder=t},expression:"folder"}})],1)],2),e._v(" "),s("ui-form-element",{attrs:{validators:{required:!0},underline:!1}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Period:\n            ")]),e._v(" "),s("template",{slot:"content"},[s("input-select",{attrs:{options:e.$api.periods},model:{value:e.period,callback:function(t){e.period=t},expression:"period"}})],1)],2)],1),e._v(" "),s("ui-button",{attrs:{slot:"buttons","validate-group":"default",theme:"primary"},on:{click:e.purgeFile},slot:"buttons"},[s("translate",[e._v("Purge")])],1)],2)}),[],!1,null,null,null).exports},"./src/js/pages/user/email/_components/show-smtp-log-dialog.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X},default:function(){return n}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/_components/show-smtp-log-dialog.vue?vue&type=script&lang=js&"),a=o.Z,n=(0,s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ui-dialog",{attrs:{id:"SHOW_SMTP_LOG_DIALOG",size:"normal",expandable:""}},[s("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        SMTP Log\n    ")]),e._v(" "),s("ui-pre",{style:{minHeight:"10rem"},attrs:{slot:"content","content-lines":e.log},slot:"content"})],1)}),[],!1,null,null,null).exports},"./src/js/pages/user/email/accounts/index.vue":function(e,t,s){"use strict";s.r(t),s.d(t,{__esModule:function(){return o.X},default:function(){return u}});var o=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/accounts/index.vue?vue&type=script&lang=js&"),a=o.Z,n=(s("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/accounts/index.vue?vue&type=style&index=0&lang=scss&"),s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=s("./src/js/pages/user/email/accounts/index.vue?vue&type=custom&index=0&blockType=route"),l=s.n(i),r=(0,n.Z)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("app-page",{attrs:{actions:[{label:e.$gettext("Create Account"),visible:e.$api.emails.rowsCount<e.limit,icon:"#plus-fill",name:"user/email/accounts/create"},{label:e.$api.options.DKIM_ENABLED?e.$gettext("Disable DKIM"):e.$gettext("Enable DKIM"),visible:e.$api.options.DKIM,handler:e.toggleDKIMStatus,icon:"#settings"}]}},[s("template",{slot:"details"},[s("ui-infobar-item",{attrs:{title:e.$gettext("Details")}},[s("text-item",[s("translate",{attrs:{slot:"label"},slot:"label"},[e._v("Total Usage")]),e._v(" "),s("span",{attrs:{slot:"value"},slot:"value"},[e._v("\n                    "+e._s(e._f("humanReadableSize")(e.$api.options.total_usage_bytes))+"\n                ")])],1),e._v(" "),s("text-item",[s("translate",{attrs:{slot:"label"},slot:"label"},[e._v("Sends")]),e._v(" "),s("span",{attrs:{slot:"value"},domProps:{textContent:e._s(e.$api.options.EMAIL_SENDS)},slot:"value"})],1),e._v(" "),s("ui-infobar-stats",{attrs:{limit:e.limit,usage:e.$api.emails.rowsCount,title:e.$gettext("E-mail Accounts")}})],1)],1),e._v(" "),s("ui-limited-button",{attrs:{slot:"header:buttons",link:"",theme:"primary",name:"user/email/accounts/create",usage:e.$api.emails.rowsCount,limit:e.$_session.usage.emailAccounts.limit,token:"USEREMAILMAX"},slot:"header:buttons"},[s("translate",[e._v("Create Account")]),e._v(" "),s("translate",{attrs:{slot:"limitText"},slot:"limitText"},[e._v("\n            E-mail accounts limit reached\n        ")])],1),e._v(" "),e.$api.options.DKIM?s("ui-button",{attrs:{slot:"header:buttons",theme:"primary"},on:{click:e.toggleDKIMStatus},slot:"header:buttons"},[e._v("\n        "+e._s(e.$api.options.DKIM_ENABLED?e.$gettext("Disable DKIM"):e.$gettext("Enable DKIM"))+"\n    ")]):e._e(),e._v(" "),e.$_Client.isPhone?s("app-page-section",[s("ui-stats-summary",{attrs:{badges:[{value:e.$api.emails.rowsCount,label:e.$gettext("E-mail accounts")},{value:e.$options.filters.humanReadableSize(e.$api.options.total_usage_bytes),label:e.$gettext("Total Usage")},{value:e.$api.options.EMAIL_SENDS,label:e.$gettext("Sends")}]}})],1):e._e(),e._v(" "),s("app-page-section",[s("ui-api-table",e._b({ref:"table",on:{"action:suspend":e.suspendAccounts,"action:unsuspend":e.unsuspendAccounts,"action:del":function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()},"action:purge":function(t){e.$dialog("PURGE_DIALOG").open()}},scopedSlots:e._u([{key:"col:login",fn:function(t){var o=t.account,a=t.suspended,n=t.is_default;return s("span",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],staticClass:"wrap:nowrap"},[n?s("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}]},[s("ui-tooltip",[s("span",{attrs:{slot:"trigger"},slot:"trigger"},[e._v("\n                            "+e._s(o)+"@"+e._s(e.$domainUnicode)+"\n                        ")]),e._v(" "),s("translate",{attrs:{"translate-params":{login:o}}},[e._v("\n                            Login: %{ login }\n                        ")])],1),e._v(" "),s("ui-badge",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{size:"small",theme:"safe"}},[s("translate",[e._v("Default")])],1),e._v(" "),e.$api.options.system_user_to_virtual_passwd&&e.$api.options.HAVE_ONE_CLICK_WEBMAIL_LOGIN?s("ui-link",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{title:e.$gettext("Sign In to Webmail")},on:{click:e.webmailSystemSSO}},[s("ui-icon",{attrs:{id:"webmail-sso",theme:"primary",size:"medium4"}})],1):e._e()],1):[s("span",[e._v(e._s(o)+"@"+e._s(e.$domainUnicode))]),e._v(" "),e.$api.options.HAVE_ONE_CLICK_WEBMAIL_LOGIN?s("ui-link",{directives:[{name:"margin",rawName:"v-margin",value:[,1,,1],expression:"[, 1, , 1]"}],attrs:{title:e.$gettext("Sign In to Webmail")},on:{click:function(t){return e.webmailSSO(o)}}},[s("ui-icon",{attrs:{id:"webmail-sso",theme:"primary",size:"medium4"}})],1):e._e()],e._v(" "),"no"!==a?s("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},["yes"===a?s("translate",[e._v("\n                        Suspended\n                    ")]):e._e(),e._v(" "),"no:blockcracking:change_pass"===a?s("translate",[e._v("\n                        Blocked\n                    ")]):e._e(),e._v(" "),"no:blockcracking:no_unblock"===a?s("translate",[e._v("\n                        Blocked Permanently\n                    ")]):e._e()],1):e._e()],2)}},{key:"col:login2",fn:function(t){var o=t.login,a=t.last_login,n=t.last_password_change;return[e._v("\n                "+e._s(o)+"\n                "),o!==e.$state.app.user.name?[e._v("\n                    @"+e._s(e.$domainUnicode)+"\n                ")]:e._e(),e._v(" "),a||n?s("ui-tooltip",{attrs:{theme:"primary"}},[a?s("div",{directives:[{name:"translate",rawName:"v-translate",value:{ip:a.ip,date:e.$options.filters.date(a.when)},expression:"{\n                            ip: last_login.ip,\n                            date: $options.filters.date(last_login.when),\n                        }"}]},[s("strong",[e._v("Last Login:")]),e._v("\n                        on %{ date } from %{ ip }\n                    ")]):e._e(),e._v(" "),n?s("div",{directives:[{name:"translate",rawName:"v-translate",value:{ip:n.ip,date:e.$options.filters.date(n.when)},expression:"{\n                            ip: last_password_change.ip,\n                            date: $options.filters.date(\n                                last_password_change.when,\n                            ),\n                        }"}]},[s("strong",[e._v("Last Password Change:")]),e._v("\n                        on %{ date } from %{ ip }\n                    ")]):e._e()]):e._e()]}},{key:"col:usage",fn:function(t){var o=t.item,a=t.usage;return s("ui-grid",{attrs:{main:"between"}},[s("span",[e.$api.options.pop_disk_usage_true_bytes?[e._v("\n                        "+e._s(e._f("humanReadableSize")(a.apparent_usage))+"\n                    ")]:[e._v("\n                        "+e._s(e._f("humanReadableSize")(a.usage))+"\n                    ")],e._v(" "),a.quota!==1/0&&o.login!==e.$state.app.user.name?[e._v("\n                        / "+e._s(e._f("humanReadableSize")(a.quota))+"\n                    ")]:e._e()],2),e._v(" "),a.apparent_usage||a.imap_bytes||a.webmail_bytes?s("ui-tooltip",{attrs:{theme:"primary"}},[a.apparent_usage?s("div",[s("translate",{attrs:{tag:"strong"}},[e._v("Apparent Usage:")]),e._v("\n                        "+e._s(e._f("humanReadableSize")(a.apparent_usage))+"\n                    ")],1):e._e(),e._v(" "),a.imap_bytes?s("div",[s("translate",{attrs:{tag:"strong"}},[e._v("IMAP:")]),e._v("\n                        "+e._s(e._f("humanReadableSize")(a.imap_bytes))+"\n                    ")],1):e._e(),e._v(" "),a.webmail_bytes?s("div",[s("translate",{attrs:{tag:"strong"}},[e._v("Webmail:")]),e._v("\n                        "+e._s(e._f("humanReadableSize")(a.webmail_bytes))+"\n                    ")],1):e._e()]):e._e()],1)}},{key:"col:sent",fn:function(t){var o=t.sent;return[o?[o.limit!==1/0&&o.limit>e.userLimit?s("ui-tooltip",{scopedSlots:e._u([{key:"trigger",fn:function(){return[e._v("\n                            "+e._s(o.usage)+" / "+e._s(e.userLimit)+"\n                        ")]},proxy:!0}],null,!0)},[e._v(" "),s("translate",{attrs:{"translate-params":{limit:o.limit,override:e.userLimit}}},[e._v("\n                            The email limit is %{ limit }, but the User\n                            limit is %{override}, hence it is limited to\n                            %{override}.\n                        ")])],1):[e._v("\n                        "+e._s(o.usage)+" /\n                        "),o.limit===1/0?s("translate",[e._v("\n                            Unlimited\n                        ")]):[e._v("\n                            "+e._s(o.limit)+"\n                        ")]]]:s("span")]}},{key:"col:smtplog",fn:function(t){var o=t.login;return[s("ui-link",{on:{click:function(t){return e.showLog(o,"incoming")}}},[s("translate",[e._v("In")])],1),e._v("\n                ⇄\n                "),s("ui-link",{on:{click:function(t){return e.showLog(o,"outgoing")}}},[s("translate",[e._v("Out")])],1)]}},{key:"row:actions",fn:function(t){var o=t.item;return[e.hasActions(o)?s("ui-actions",{attrs:{position:"left"}},[o.account===e.$state.app.user.name?[e.$_cmd("/CMD_PASSWD")?s("ui-link",{attrs:{name:"user/password"}},[s("translate",[e._v("Change Password")])],1):e._e()]:[s("ui-link",{on:{click:function(t){e.modifyAccount=o.account,e.$dialog("MODIFY_ACCOUNT_DIALOG").open()}}},[s("translate",[e._v("Change Password/Username")])],1),e._v(" "),s("ui-link",{on:{click:function(t){e.modifyAccount=o.account,e.$dialog("MODIFY_ACCOUNT_QUOTA_DIALOG").open()}}},[s("translate",[e._v("Change Limits")])],1)],e._v(" "),e.$api.options.hide_outlook?e._e():s("ui-link",{on:{click:function(t){return e.downloadOutlookSettings(o)}}},[s("translate",[e._v("\n                            Download Outlook Configuration\n                        ")])],1)],2):e._e()]}}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getAccounts,property:"emails",rowID:"login",columns:{account:{label:e.$gettext("Account"),visible:!1},login:{label:e.$gettext("Account"),grow:!0},usage:e.$gettext("Usage"),sent:{label:e.$gettext("Sent"),hide:!e.$api.options.user_can_set_email_limit},smtplog:e.$gettext("SMTP Log")},rowsMapper:e.setLimitForARow,actions:{suspend:{label:e.$gettext("Suspend"),disabled:e.select.includes(e.$state.app.user.name)},unsuspend:{label:e.$gettext("Unsuspend"),disabled:e.select.includes(e.$state.app.user.name)},del:{label:e.$gettext("Delete"),disabled:e.select.includes(e.$state.app.user.name)},purge:e.$gettext("Purge")},verticalLayout:e.$_Client.isPhone,filters:e.filters},!1),[e.$_Client.isPhone||"standard2021"===e.$_layout?e._e():s("ui-stats-summary",{attrs:{slot:"buttons:before",badges:[{value:e.$api.emails.rowsCount,label:e.$gettext("E-mail accounts")},{value:e.$options.filters.humanReadableSize(e.$api.options.total_usage_bytes),label:e.$gettext("Total Usage")},{value:e.$api.options.EMAIL_SENDS,label:e.$gettext("Sends")}]},slot:"buttons:before"})],1),e._v(" "),e.hasOverride?s("translate",{attrs:{"translate-params":{username:e.$state.app.user.name,limit:e.userLimit}}},[e._v("\n            The send limit for %{ username } is %{limit} which overrides\n            per-email limits\n        ")]):e._e()],1),e._v(" "),e.$api.options.email_message?s("div",{attrs:{slot:"footer:text"},domProps:{innerHTML:e._s(e.$api.options.email_message)},slot:"footer:text"}):e._e(),e._v(" "),s("template",{slot:"bottom:links"},[e.email?s("ui-link",{attrs:{name:"user/email/accounts",bullet:""}},[s("translate",[e._v("Show all accounts")])],1):e._e(),e._v(" "),s("ui-link",{attrs:{name:"user/email/usage",bullet:""}},[s("translate",[e._v("E-mail Usage")])],1)],1),e._v(" "),s("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("account","accounts",e.select.length)},on:{"click:confirm":e.deleteAccounts}},[s("ui-form-element",{attrs:{underline:!1,"feature-i-d":"1398",vertical:""}},[s("input-checkbox",{attrs:{slot:"title"},slot:"title",model:{value:e.cleanForwarders,callback:function(t){e.cleanForwarders=t},expression:"cleanForwarders"}},[s("translate",[e._v("Clean Forwarders")])],1)],1)],1),e._v(" "),s("purge-folder-dialog",e._b({on:{requestReload:e.$reloadApiTable}},"purge-folder-dialog",{select:e.select},!1)),e._v(" "),s("modify-account-dialog",{attrs:{account:e.modifyAccount},on:{reload:e.$reloadApiTable}}),e._v(" "),s("modify-account-quota-dialog",{attrs:{account:e.modifyAccount},on:{reload:e.$reloadApiTable}}),e._v(" "),s("show-smtp-log-dialog")],2)}),[],!1,null,null,null);"function"==typeof l()&&l()(r);var u=r.exports},"./src/js/pages/user/email/accounts/index.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/layouts/standard-2021/components/info-bar-text-item.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){var o=s("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/components/local/layouts/standard-2021/components/info-bar-text-item.vue?vue&type=style&index=0&lang=scss&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("7790a082",o,!0,{})},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/accounts/index.vue?vue&type=style&index=0&lang=scss&":function(e,t,s){var o=s("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/email/accounts/index.vue?vue&type=style&index=0&lang=scss&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,s("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("9912dd14",o,!0,{})}}]);