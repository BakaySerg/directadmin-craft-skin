(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1915:function(e,t,n){"use strict";n.r(t);var a=n(1916),s=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},1916:function(e,t,n){"use strict";n(23),n(25),n(6);var a=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(16),n(14),n(18),n(8),n(26);var s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(s,o,l):s[o]=e[o]}s.default=e,n&&n.set(e,s);return s}(n(9));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}var i={props:{options:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{values:{}}},computed:{enabled:function(){return this.options.length&&this.$state.app.tokens.HAVE_CGROUP},requestData:function(){return s.map((function(e){return e.unlimited?"":e.value}),this.values)}},watch:{requestData:{deep:!0,handler:function(e){this.$emit("update:cgroup-values",e)}}},created:function(){var e=this;this.enabled&&this.options.forEach((function(t){var n=t.value||t.default,a=""===n;e.$set(e.values,t.name,{value:n,unlimited:a})}))},methods:{setLimitState:function(e,t){this.values[e.name].unlimited=t,!1===t&&""===this.values[e.name].value&&(this.values[e.name].value=e.placeholder)},checkValue:function(e){""===this.values[e].value&&(this.values[e].unlimited=!0)}}};t.default=i},2005:function(e,t,n){"use strict";n(7),n(10),n(6),n(8),n(11);var a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.doPackageAction=t.updatePackage=t.getPackage=t.importPackages=t.exportPackages=t.deletePackages=t.getPackages=void 0;var s=a(n(2));n(27),n(26),n(57),n(50),n(5);var r=a(n(78));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="/CMD_MANAGE_RESELLER_PACKAGES",u=r.default.get({id:"RESELLER_PACKAGES",url:l,params:{bytes:!0},pagination:!0,after:function(e){return e.toTable(e.mapArrayProps({bandwidth:e.convert.toAppLimit,quota:e.convert.toAppLimit,ips:function(t){return e.convert.toAppNumber(t||"0")}}))}});t.getPackages=u;var c=r.default.post({url:l,schema:{select:r.default.ROWS},before:function(e){return e.select.reduce((function(e,t,n){return o(o({},e),{},(0,s.default)({},"delete".concat(n),t))}),{delete:!0})}});t.deletePackages=c;var d=r.default.post({url:l,params:{export:!0},schema:{select:r.default.ROWS}});t.exportPackages=d;var f=r.default.post({url:l,params:{action:"import"},schema:{import:r.default.REQUIRED_STRING}});t.importPackages=f;var p=r.default.get({url:"/CMD_SHOW_RESELLER_PACKAGE",id:"RESELLER_PACKAGE",params:{bytes:!0},query:{package:r.default.REQUIRED_STRING},after:function(e){return e.flow((function(e){return{data:e}}),e.moveProp({"data.ips":"ips","data.custom_items":"customItems","data.have_inode":"haveInode","data.dns":"dns","data.ip":"ip","data.create_user_home_override":"homeOverride","data.cgroup":"cgroup"}),e.mapProps({homeOverride:e.flow((function(e){return e||{}}),e.toSelect),customItems:e.flow(e.toArray,e.mapArray((function(t){var n={type:t.type,description:t.desc,label:t.string,name:t.name};switch(t.type){case"checkbox":return o(o({},n),{},{value:"yes"===t.checked});case"text":return o(o({},n),{},{value:t.value});case"listbox":return o(o({},n),{},{value:Object.values(t.select).find((function(e){return e.selected})).value,options:e.reduce((function(e,t){return o(o({},e),{},(0,s.default)({},t.value,t.text))}))(t.select)});default:return!1}})),(function(e){return e.filter((function(e){return!!e}))})),haveInode:e.convert.toAppBoolean,dns:e.getProp("value"),ip:e.getProp("value"),ips:e.convert.toAppNumber,features:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("checkbox"))),e.mapValues(e.flow(e.getProp("checked"),e.convert.toAppBoolean)))),limits:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("unlimited"))),e.mapValues((function(t){var n=e.convert.toAppLimit(t.value)===1/0;return{value:n?"":t.value,unlimited:n}})))),cgroup:function(e){return e?Object.values(o(o({},e.options||{}),e.saved||{})):[]}}),e.deleteProp("data"))}});t.getPackage=p;var m=r.default.post({url:l,params:{add:!0},schema:{bandwidth:r.default.OPTIONAL_STRING,ubandwidth:r.default.OPTIONAL_BOOL,quota:r.default.OPTIONAL_STRING,uquota:r.default.OPTIONAL_BOOL,inode:r.default.OPTIONAL_STRING,uinode:r.default.OPTIONAL_BOOL,vdomains:r.default.OPTIONAL_STRING,uvdomains:r.default.OPTIONAL_BOOL,nsubdomains:r.default.OPTIONAL_STRING,unsubdomains:r.default.OPTIONAL_BOOL,nemails:r.default.OPTIONAL_STRING,unemails:r.default.OPTIONAL_BOOL,nemailf:r.default.OPTIONAL_STRING,unemailf:r.default.OPTIONAL_BOOL,nemailml:r.default.OPTIONAL_STRING,unemailml:r.default.OPTIONAL_BOOL,nemailr:r.default.OPTIONAL_STRING,unemailr:r.default.OPTIONAL_BOOL,mysql:r.default.OPTIONAL_STRING,umysql:r.default.OPTIONAL_BOOL,domainptr:r.default.OPTIONAL_STRING,udomainptr:r.default.OPTIONAL_BOOL,ftp:r.default.OPTIONAL_STRING,uftp:r.default.OPTIONAL_BOOL,aftp:r.default.OPTIONAL_STRING,cgi:r.default.OPTIONAL_STRING,git:r.default.OPTIONAL_STRING,php:r.default.OPTIONAL_STRING,spam:r.default.OPTIONAL_STRING,catchall:r.default.OPTIONAL_STRING,ssl:r.default.OPTIONAL_STRING,ssh:r.default.OPTIONAL_STRING,userssh:r.default.OPTIONAL_STRING,oversell:r.default.OPTIONAL_STRING,cron:r.default.OPTIONAL_STRING,sysinfo:r.default.OPTIONAL_STRING,login_keys:r.default.OPTIONAL_STRING,dnscontrol:r.default.OPTIONAL_STRING,dns:r.default.REQUIRED_STRING,serverip:r.default.OPTIONAL_STRING,packagename:r.default.OPTIONAL_STRING,create_user_home_override:r.default.OPTIONAL_STRING,nusers:r.default.OPTIONAL_STRING,unusers:r.default.OPTIONAL_BOOL}});t.updatePackage=m;var v=r.default.post({url:l,schema:{action:r.default.REQUIRED_STRING,from:r.default.REQUIRED_STRING,to:r.default.REQUIRED_STRING},before:function(e){return{from:null,to:null,old_package:e.from,new_package:e.to}}});t.doPackageAction=v},2026:function(e,t,n){"use strict";n.r(t);var a=n(2043),s=n(1915);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);var i=n(0),o=Object(i.a)(s.default,a.a,a.b,!1,null,null,null);t.default=o.exports},2043:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enabled?n("app-page-section",[n("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],attrs:{slot:"section:title"},slot:"section:title"},[n("translate",[e._v("Resource Limits")]),e._v(" "),e.$slots.tooltip?n("ui-tooltip",{directives:[{name:"margin",rawName:"v-margin:left",value:.5,expression:"0.5",arg:"left"}]},[n("translate",[e._v("\n                Set maximum values reseller could set for his users.\n            ")])],1):e._e()],1),e._v(" "),e._l(e.options,(function(t){return n("ui-form-element",{key:t.name},[n("span",{attrs:{slot:"title"},domProps:{textContent:e._s(t.string)},slot:"title"}),e._v(" "),n("span",{attrs:{slot:"tooltip"},domProps:{textContent:e._s(t.desc)},slot:"tooltip"}),e._v(" "),n("input-text",{attrs:{slot:"content",disabled:e.values[t.name].unlimited,placeholder:t.placeholder},on:{blur:function(n){return e.checkValue(t.name)}},slot:"content",model:{value:e.values[t.name].value,callback:function(n){e.$set(e.values[t.name],"value",n)},expression:"values[item.name].value"}},[n("input-checkbox-button",{attrs:{slot:"additions:right",value:e.values[t.name].unlimited},on:{input:function(n){return e.setLimitState(t,n)}},slot:"additions:right"},[n("translate",[e._v("Unlimited")])],1)],1)],1)}))],2):e._e()},s=[]},2194:function(e,t,n){"use strict";n.r(t);var a=n(4100),s=n(2195);for(var r in s)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(r);n(3303);var i=n(0),o=Object(i.a)(s.default,a.a,a.b,!1,null,null,null);t.default=o.exports},2195:function(e,t,n){"use strict";n.r(t);var a=n(2196),s=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);t.default=s.a},2196:function(e,t,n){"use strict";n(10),n(5),n(6),n(8),n(11),n(16),n(14),n(23),n(25),n(18);var a=n(1),s=n(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(12),n(26),n(27),n(7);var r=a(n(2)),i=a(n(44)),o=n(2005),l=a(n(2026)),u=n(32),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(a,i,o):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n(9));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){return c.pipe(c.toPairs,c.filter((function(t){return e.apply(void 0,(0,i.default)(t))})),c.fromPairs)(t)},v={components:{CgroupsEditor:l.default},api:[{command:o.getPackage,bind:"package"}],props:{package:{type:String,required:!1,default:"newpackage"}},data:function(){return{limits:[],features:[],customItems:[],dns:"OFF",serverip:!0,ips:"0",homeOverride:{value:"",options:{}},cgroupValues:{}}},computed:{processedData:function(){return p(p(p(p(p({},u._.reduce(this.limits,(function(e,t,n){var a;return p(p({},e),{},(a={},(0,r.default)(a,n,["bandwidth","quota"].includes(n)?String(t.value/Math.pow(2,20)):t.value),(0,r.default)(a,"u".concat(n),t.unlimited||null),a))}),{})),u._.reduce(this.customItems,(function(e,t){return p(p({},e),{},(0,r.default)({},t.name,!0===t.value?"ON":t.value))}),{})),u._.mapValues(this.features,(function(e){return e?"ON":null}))),this.cgroupValues),{},{serverip:this.serverip?"ON":null,dns:this.dns,ips:this.ips,create_user_home_override:this.canOverrideHome?this.homeOverride.value:null})},canOverrideHome:function(){return this.homeOverride&&!!Object.keys(this.homeOverride.options).length},enabledFeatureLabels:function(){var e=this;return m((function(t,n){return n&&void 0!==e.features[t]}),this.featureLabels)},enabledLimitLabels:function(){var e=this;return m((function(t,n){return n&&e.limits[t]}),this.limitLabels)}},watch:{processedData:function(e){this.$emit("update",e)}},created:function(){this.limitLabels={bandwidth:this.$gettext("Bandwidth"),quota:this.$gettext("Disk Space"),inode:this.$state.app.tokens.HAVE_INODE?this.$gettext("Inode"):void 0,vdomains:this.$gettext("Domains"),nsubdomains:this.$gettext("Sub-Domains"),nemails:this.$gettext("E-mail Accounts"),nemailf:this.$gettext("E-mail Forwarders"),nemailml:this.$gettext("Mailing Lists"),nemailr:this.$gettext("Autoresponders"),mysql:this.$gettext("MySQL Databases"),domainptr:this.$gettext("Domain Pointers"),ftp:this.$gettext("FTP Accounts"),nusers:this.$gettext("User Accounts")},this.featureLabels={aftp:this.$gettext("Anonymous FTP Accounts"),cgi:this.$gettext("CGI Access"),git:this.$gettext("Git"),wordpress:this.$gettext("Wordpress"),clamav:this.$gettext("ClamAV"),php:this.$gettext("PHP Access"),spam:this.$gettext("SpamAssassin"),catchall:this.$gettext("Catch-All E-mail"),ssl:this.$gettext("SSL Access"),ssh:this.$gettext("SSH Access"),userssh:this.$gettext("SSH Access for Users"),redis:this.$gettext("Redis"),oversell:this.$gettext("Allow Overselling"),cron:this.$gettext("Cron Jobs"),sysinfo:this.$gettext("System Info"),login_keys:this.$gettext("Login Keys"),dnscontrol:this.$gettext("DNS Control")},!1===this.$state.app.tokens.HAVE_REDIS&&delete this.featureLabels.redis,!1===this.$state.app.tokens.HAVE_WORDPRESS&&delete this.featureLabels.wordpress,!1===this.$state.app.tokens.HAVE_GIT&&delete this.featureLabels.git,!1===this.$state.app.tokens.HAVE_CLAMAV&&delete this.featureLabels.clamav;var e=this.$api.package;this.limits=u._.cloneDeep(e.limits),this.features=u._.cloneDeep(e.features),this.customItems=u._.cloneDeep(e.customItems),this.ips=e.ips||0,this.homeOverride=u._.cloneDeep(e.homeOverride),this.serverip=e.features.serverip,this.dns=e.dns,null===this.package&&(this.limits.bandwidth.value*=Math.pow(2,20),this.limits.quota.value*=Math.pow(2,20))},methods:{checkEmptyness:function(e){e.value||(e.unlimited=!0)}}};t.default=v},3049:function(e,t,n){var a=n(3304);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(4).default)("5694a386",a,!0,{})},3303:function(e,t,n){"use strict";n(3049)},3304:function(e,t,n){},4100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"reseller-package"},[e._l(e.enabledLimitLabels,(function(t,a){return n("ui-form-element",{key:a},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(t)+"\n        ")]),e._v(" "),n(["bandwidth","quota"].includes(a)?"input-size":"input-text",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}],tag:"component",attrs:{slot:"content",disabled:e.limits[a].unlimited,number:""},on:{blur:function(t){return e.checkEmptyness(e.limits[a])}},slot:"content",model:{value:e.limits[a].value,callback:function(t){e.$set(e.limits[a],"value",t)},expression:"limits[key].value"}},[n("ui-button",{attrs:{slot:"additions:right",tabindex:"-1"},on:{click:function(t){e.limits[a].unlimited=!e.limits[a].unlimited}},slot:"additions:right"},[n("input-checkbox",{attrs:{label:e.$gettext("Unlimited")},model:{value:e.limits[a].unlimited,callback:function(t){e.$set(e.limits[a],"unlimited",t)},expression:"limits[key].unlimited"}})],1)],1)],1)})),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            IPs\n        ")]),e._v(" "),n("input-text",{attrs:{slot:"content",number:""},slot:"content",model:{value:e.ips,callback:function(t){e.ips=t},expression:"ips"}})],1),e._v(" "),e._l(e.enabledFeatureLabels,(function(t,a){return n("ui-form-element",{key:a,class:{dimmed:!e.features[a]},attrs:{"vertical-on-phone":!1,reverse:e.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            "+e._s(t)+"\n        ")]),e._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.features[a],callback:function(t){e.$set(e.features,a,t)},expression:"features[key]"}})],1)})),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Personal DNS's\n        ")]),e._v(" "),n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],attrs:{slot:"content"},slot:"content"},[n("input-radio",{attrs:{value:"OFF"},model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("None")])],1),e._v(" "),n("input-radio",{attrs:{value:"TWO"},model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("Uses 2 IP's, domain uses one of them")])],1),e._v(" "),n("input-radio",{attrs:{value:"Three"},model:{value:e.dns,callback:function(t){e.dns=t},expression:"dns"}},[n("translate",[e._v("Uses 3 IP's, domain gets own IP")])],1)],1)],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Share Server IP\n        ")]),e._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:e.serverip,callback:function(t){e.serverip=t},expression:"serverip"}},[n("translate",[e._v("\n                Allow Reseller to create sites with server IP\n            ")])],1)],1),e._v(" "),e.canOverrideHome?n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Home Directory\n        ")]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("input-select",{attrs:{options:e.homeOverride.options},model:{value:e.homeOverride.value,callback:function(t){e.$set(e.homeOverride,"value",t)},expression:"homeOverride.value"}})],1)],1):e._e(),e._v(" "),e._l(e.customItems,(function(t){return n("ui-form-element",{key:t.name},[n("span",{attrs:{slot:"title"},domProps:{textContent:e._s(t.label)},slot:"title"}),e._v(" "),"checkbox"===t.type?n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"customItem.value"}},[e._v("\n            "+e._s(t.description)+"\n        ")]):n("text"===t.type?"input-text":"input-select",{tag:"component",attrs:{slot:"content",options:"listbox"===t.type?t.options:[]},slot:"content",model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"customItem.value"}},[n("ui-button",{attrs:{slot:"additions:right"},slot:"additions:right"},[e._v("\n                "+e._s(t.description)+"\n            ")])],1)],1)})),e._v(" "),n("cgroups-editor",{attrs:{options:e.$api.package.cgroup},on:{"update:cgroup-values":function(t){e.cgroupValues=t}}},[n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[e._v("\n            Set maximum values reseller could set for his users.\n        ")])],1)],2)},s=[]}}]);