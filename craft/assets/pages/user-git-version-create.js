(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[3710],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/git-version/create.vue?vue&type=script&lang=js&":function(e,t,n){"use strict";n("./node_modules/core-js/modules/es.object.define-property.js");var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=o(n("./node_modules/@babel/runtime/regenerator/index.js"));n("./node_modules/core-js/modules/es.function.name.js");var r,u=o(n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),s=n("./src/js/endpoints/git-version/index.ts"),l={data:function(){return{selectedRows:[],query:{name:"",keyfile:"",remote:""}}},computed:{domain:function(){return this.$domain}},methods:{git:(r=(0,u.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.postInit.request({domain:this.domain,name:this.query.name,keyfile:this.query.keyfile||null,remote:this.query.remote||null});case 2:t=e.sent,(n=t.error)?n.notify():(this.$notifications.success({title:this.$gettext("Git"),content:this.$gettext("Repository created")}),this.$router.push("/user/git-version"));case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}};t.Z=l},"./src/js/endpoints/git-version/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{deleteRepo:function(){return c},getCommit:function(){return y},getGit:function(){return s},getInfo:function(){return p},getLogs:function(){return m},helpers:function(){return o},postDeploy:function(){return u},postFetch:function(){return a},postInit:function(){return l},postWebhook:function(){return d},putModify:function(){return f}});var o={};n.r(o),n.d(o,{getDefaultBranch:function(){return r}});var i=n("./src/js/api/endpoint/index.ts"),r=function(e){return 0===e.length?"":["main","master"].find((function(t){return e.includes(t)}))||e[0]},u=(0,i.POST)("/git/uuid/:uuid/deploy",{statusCodes:{409:"GIT_DEPLOY_BRANCH_NOT_SET",410:"GIT_DEPLOY_DIR_NOT_SET"},errorMessages:{GIT_DEPLOY_BRANCH_NOT_SET:(0,i.$gettext)("Git deploy branch is not set"),GIT_DEPLOY_DIR_NOT_SET:(0,i.$gettext)("Git deploy directory is not set")}}),s=(0,i.GET)("/git/domain/:domain"),l=(0,i.POST)("/git/domain/:domain",{statusCodes:{409:"GIT_DIRECTORY_EXISTS"},errorMessages:{GIT_DIRECTORY_EXISTS:(0,i.$gettext)("Git directory exists %{ directory }")}}),a=(0,i.POST)("/git/uuid/:uuid/fetch"),d=(0,i.POST)("/git/uuid/:uuid/webhook"),c=(0,i.DELETE)("/git/uuid/:uuid"),p=(0,i.GET)("/git/uuid/:uuid"),m=(0,i.GET)("/git/uuid/:uuid/branch/:branch"),f=(0,i.PUT)("/git/uuid/:uuid"),y=(0,i.GET)("/git/uuid/:uuid/commit/:commit")},"./src/js/pages/user/git-version/create.vue":function(e,t,n){"use strict";n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return a}});var o=n("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/git-version/create.vue?vue&type=script&lang=js&"),i=o.Z,r=n("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),u=n("./src/js/pages/user/git-version/create.vue?vue&type=custom&index=0&blockType=route"),s=n.n(u),l=(0,r.Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("app-page",[n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Domain\n        ")]),e._v(" "),n("input-text",{attrs:{slot:"content",disabled:""},slot:"content",model:{value:e.$domainUnicode,callback:function(t){e.$domainUnicode=t},expression:"$domainUnicode"}})],1),e._v(" "),n("ui-form-element",{attrs:{group:"git-init",validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Name\n        ")]),e._v(" "),n("input-text",{attrs:{slot:"content",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.git.apply(null,arguments)}},slot:"content",model:{value:e.query.name,callback:function(t){e.$set(e.query,"name",t)},expression:"query.name"}})],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Remote\n        ")]),e._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[e._v("\n            Optional\n        ")]),e._v(" "),n("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.git.apply(null,arguments)}},slot:"content",model:{value:e.query.remote,callback:function(t){e.$set(e.query,"remote",t)},expression:"query.remote"}})],1),e._v(" "),n("ui-form-element",[n("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Keyfile\n        ")]),e._v(" "),n("translate",{attrs:{slot:"tooltip"},slot:"tooltip"},[e._v("\n            Optional\n        ")]),e._v(" "),n("input-text",{attrs:{slot:"content"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.git.apply(null,arguments)}},slot:"content",model:{value:e.query.keyfile,callback:function(t){e.$set(e.query,"keyfile",t)},expression:"query.keyfile"}})],1),e._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"primary","validate-group":"git-init"},on:{click:e.git},slot:"footer:buttons"},[n("translate",[e._v("Create repository")])],1)],1)}),[],!1,null,null,null);"function"==typeof s()&&s()(l);var a=l.exports},"./src/js/pages/user/git-version/create.vue?vue&type=custom&index=0&blockType=route":function(){}}]);