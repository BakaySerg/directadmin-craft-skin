(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1724:function(t,e,n){"use strict";n.r(e);var r=n(3925),a=n(2109);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);var o=n(0),s=n(3231),l=n.n(s),u=Object(o.a)(a.default,r.a,r.b,!1,null,null,null);"function"==typeof l.a&&l()(u),e.default=u.exports},1888:function(t,e,n){"use strict";n.r(e);var r=n(1889),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=a.a},1889:function(t,e,n){"use strict";n(16),n(23),n(25),n(18),n(6);var r=n(1),a=n(19);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.netmask2cidr=e.cidr2netmask=void 0;var i=r(n(38));n(17),n(55),n(21),n(61),n(14),n(65),n(34),n(24),n(1905),n(12),n(15),n(40);var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var n=u(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}r.default=t,n&&n.set(t,r);return r}(n(9)),s=r(n(1959)),l=n(88);function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(u=function(t){return t?n:e})(t)}var c=function(t){if(!t)return"";for(var e=[],n=Number(t),r=0;r<4;r++){var a=Math.min(n,8);e.push(256-Math.pow(2,8-a)),n-=a}return e.join(".")};e.cidr2netmask=c;var d=function(t){if(!t)return"";var e,n,r;return e=(r=t,r.split(".").map(Number)).map((function(t){return(t>>>0).toString(2)})).join(""),n="1",e.split(n).length-1};e.netmask2cidr=d;var f={mixins:[l.$inputValidation],validate:"value",props:{value:{type:String,required:!0},netmask:{type:String,required:!1},version:{type:String,required:!1,default:"v4"},disableVersionSelect:{type:Boolean,required:!1,default:!1},allowRange:{type:Boolean,required:!1,default:!1}},data:function(){return{focused:!1,dataVersion:"v4",innerCidr:null}},computed:{showVersionsSelect:function(){return!this.disableVersionsSelect&&this.$state.app.tokens.HAVE_IPV6},cidr:function(){return this.netmask&&"v4"===this.dataVersion?d(this.netmask):this.netmask},innerValue:function(){return this.value&&null!==this.innerCidr?"".concat(this.value,"/").concat(this.cidr):this.value},mask:function(){var t={v4:Array(4).fill("i[i[i]]").join("."),v6:"[I[I[I[I]]]]".concat(Array(7).fill("[:[I[I[I[I]]]]]").join(""))}[this.dataVersion],e={v4:"[!r[r[r]]]",v6:"[!R[R[R[R]]]]"}[this.dataVersion],n={v4:"[=[n[n]]]",v6:"[-[N[N[N]]]]"}[this.dataVersion];return this.allowRange&&(t="".concat(t).concat(e)),void 0!==this.netmask&&(t="".concat(t).concat(n)),t}},watch:{version:function(t){this.dataVersion!==t&&(this.dataVersion=t)},dataVersion:function(t){t!==this.version&&(this.$emit("input",""),this.$emit("update:netmask","")),this.applyMask()},innerCidr:function(t,e){null!==t&&(null===e&&""===t&&(this.innerCidr=this.cidr),this.emitNetmask(t))}},methods:{emit:function(t){var e=t.target.value,n=e.split("/"),r=(0,i.default)(n,2),a=r[0],o=r[1];this.innerCidr=e.includes("/")?o:null,this.$emit("input",a),e||this.emitNetmask("")},emitNetmask:function(t){return this.$emit("update:netmask","v4"===this.dataVersion?c(t):t)},moveCursor:function(){this.value||this.$refs.input.setSelectionRange(0,0)},applyMask:function(){new s.default({mask:this.mask,keepStatic:!0,definitions:{i:{validator:function(t,e,n){var r=e.buffer;return n-1>-1&&"."!==r[n-1]?(t=r[n-1]+t,t=n-2>-1&&"."!==r[n-2]?r[n-2]+t:"0".concat(t)):t="00".concat(t),/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(t)},cardinality:1},n:{validator:function(t,e,n){var r=e.buffer;return"/"!==r[n-1]&&(t=r[n-1]+t),/^3[0-2]$|^[0-2][0-9]$|^[0-9]$/.test(t)},cardinality:1},I:{validator:function(t,e,n){var r=e.buffer;return(1!==n||":"!==r[0])&&/[A-Fa-f0-9]/.test(t)},cardinality:1,casing:"lower"},N:{validator:function(t,e,n){var r=e.buffer,a=o.pipe(o.update(n,t),o.takeLast(3),o.without("_"),o.join(""),Number)(r);return a>=0&&a<=128}},":":{validator:function(t,e,n){var r=e.buffer;return":"===t?":"!==r[n-1]||!r.join("").includes("::"):!!/[A-Fa-f0-9]/.test(t)&&{insert:[{pos:n,c:":"},{pos:n+1,c:t}],caret:n+2}},cardinality:1,placeholder:":"},"-":{validator:function(t,e,n){var r=e.buffer;if(!n)return!1;if(":"===r[n-1]&&"/"===t)return n>=3&&":"===r[n-2];var a=r.join("").split("/"),o=(0,i.default)(a,1)[0].split(":").map((function(t){return t.replace(/_/g,"")})).join(":");return"/"===t&&o.includes(":")},cardinality:1,placeholder:"/"},"=":{validator:function(t){return"/"===t},cardinality:1,placeholder:"/"},"!":{validator:function(t){return"-"===t},cardinality:1,placeholder:""},r:{validator:function(t,e,n){var r=e.buffer;return"-"!==r[n-1]?(t=r[n-1]+t,t="-"!==r[n-2]?r[n-2]+t:"0".concat(t)):t="00".concat(t),/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(t)},cardinality:1,placeholder:""},R:{validator:function(t){return/[A-Fa-f0-9]/.test(t)},cardinality:1,placeholder:""}},onUnMask:function(t){return t},skipOptionalPartCharacter:"",placeholder:"_"}).mask(this.$refs.input)}},mounted:function(){this.dataVersion=this.version,this.applyMask()}};e.default=f},1897:function(t,e,n){var r=n(1912);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,n(4).default)("733ad7e9",r,!0,{})},1898:function(t,e,n){"use strict";var r=n(59),a=n(506),i=n(54);t.exports=function(t){for(var e=r(this),n=i(e.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,u=void 0===l?n:a(l,n);u>s;)e[s++]=t;return e}},1905:function(t,e,n){var r=n(29),a=n(1898),i=n(111);r({target:"Array",proto:!0},{fill:a}),i("fill")},1910:function(t,e,n){"use strict";n.r(e);var r=n(1923),a=n(1888);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n(1911);var o=n(0),s=Object(o.a)(a.default,r.a,r.b,!1,null,null,null);e.default=s.exports},1911:function(t,e,n){"use strict";n(1897)},1912:function(t,e,n){},1923:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ui-input-group",{staticClass:"width:100%"},[t.showVersionsSelect?n("input-select",{staticClass:"input-ip-version-select",attrs:{slot:"additions:left",novalidate:"",options:{v4:"IPv4",v6:"IPv6"}},on:{change:function(e){return t.$emit("update:version",e)}},slot:"additions:left",model:{value:t.dataVersion,callback:function(e){t.dataVersion=e},expression:"dataVersion"}}):t._e(),t._v(" "),n("input",{ref:"input",staticClass:"input-ip-mask",attrs:{slot:"input",type:"text"},domProps:{value:t.innerValue},on:{input:t.emit,focus:t.moveCursor},slot:"input"}),t._v(" "),n("template",{slot:"additions:right"},[t._t("additions:right")],2)],2)},a=[]},2016:function(t,e,n){"use strict";n(7),n(10),n(5),n(6),n(8),n(11);var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.resetZone=e.deleteZones=e.addZone=e.getZones=void 0;var a=r(n(2)),i=r(n(78));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=i.default.get({id:"DNS_ZONES",url:"/CMD_DNS_ADMIN",domain:!1,schema:s(s({},i.default.PAGINATION),{},{filters:{type:Object,required:!1},domain:null}),before:function(t){var e=t.filters;if(e){var n={};e.domain&&(n.comparison1=e.searchType,n.value1=e.domain),e.local_data&&(n.comparison2="contains",n.value2=e.local_data),e.local_mail&&(n.comparison3="contains",n.value3=e.local_mail)}return{}},after:function(t){return function(e){return{info:{dns_ns:e.info.dns_ns,dns_ptr:e.info.dns_ptr},zones:t.toTable(t.mapArrayProps({local_data:t.convert.toAppBoolean,local_mail:t.convert.toAppBoolean}))(e)}}}});e.getZones=l;var u=i.default.post({url:"/CMD_DNS_ADMIN",params:{action:"create"},domain:!0,schema:{ip:i.default.REQUIRED_STRING,ns1:i.default.REQUIRED_STRING,ns2:i.default.REQUIRED_STRING,reverse:i.default.OPTIONAL_BOOL}});e.addZone=u;var c=i.default.select({url:"/CMD_DNS_ADMIN",params:{action:"delete"}});e.deleteZones=c;var d=i.default.post({url:"/CMD_DNS_ADMIN",params:{action:"select",reset:!0},domain:!0});e.resetZone=d},2109:function(t,e,n){"use strict";n.r(e);var r=n(2110),a=n.n(r);for(var i in r)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e.default=a.a},2110:function(t,e,n){"use strict";var r=n(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=r(n(36)),o=r(n(37)),s=n(2016),l=r(n(1910)),u={preload:s.getZones,api:[{command:s.getZones,bind:{"response.info.dns_ptr":"dns_ptr"}}],components:{InputIp:l.default},data:function(){return{domain:"",ip:"",ns1:"",ns2:"",reverse:!1}},methods:{addZone:(a=(0,o.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,s.addZone)({domain:this.$p6e.toA(this.domain),ip:this.ip,ns1:this.$p6e.toA(this.ns1),ns2:this.$p6e.toA(this.ns2),reverse:"0"===this.$api.dns_ptr?null:this.reverse});case 2:t.sent&&this.$router.push("/admin/dns");case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})}};e.default=u},3231:function(t,e){},3925:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("app-page",[n("app-page-section",[n("ui-form-element",{attrs:{validators:{required:!0,domain:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Domain Name:\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}}),t._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[t._v("\n                Wrong format for a domain\n            ")])],1),t._v(" "),n("ui-form-element",{attrs:{validators:{required:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                IP Address:\n            ")]),t._v(" "),n("input-ip",{attrs:{slot:"content"},slot:"content",model:{value:t.ip,callback:function(e){t.ip=e},expression:"ip"}}),t._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[t._v("\n                Wrong IP format\n            ")])],1),t._v(" "),n("ui-form-element",{attrs:{validators:{required:!0,domain:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Name Server 1:\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.ns1,callback:function(e){t.ns1=e},expression:"ns1"}}),t._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[t._v("\n                Wrong format for a nameserver\n            ")])],1),t._v(" "),n("ui-form-element",{attrs:{validators:{required:!0,domain:!0}}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Name Server 2:\n            ")]),t._v(" "),n("input-text",{attrs:{slot:"content"},slot:"content",model:{value:t.ns2,callback:function(e){t.ns2=e},expression:"ns2"}}),t._v(" "),n("translate",{attrs:{slot:"error:domain"},slot:"error:domain"},[t._v("\n                Wrong format for a nameserver\n            ")])],1),t._v(" "),"0"!==t.$api.dns_ptr?n("ui-form-element",{attrs:{"vertical-on-phone":!1,reverse:t.$_Client.isPhone,underline:!t.$_Client.isPhone}},[n("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                Create Reverse IP Lookup\n            ")]),t._v(" "),n("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.reverse,callback:function(e){t.reverse=e},expression:"reverse"}})],1):t._e()],1),t._v(" "),n("ui-button",{attrs:{slot:"footer:buttons",theme:"safe","validate-group":"default"},on:{click:t.addZone},slot:"footer:buttons"},[n("translate",[t._v("Create")])],1)],1)},a=[]}}]);