(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{1787:function(t,e,a){"use strict";a.r(e);var n=a(3986),r=a(2388);for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(o);var s=a(0),i=a(3463),l=a.n(i),u=Object(s.a)(r.default,n.a,n.b,!1,null,null,null);"function"==typeof l.a&&l()(u),e.default=u.exports},1980:function(t,e,a){"use strict";a.r(e);var n=a(1981),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},1981:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(2011),r={extends:n.Line,mixins:[n.mixins.reactiveProp],props:["chart","options"],mounted:function(){this.renderChart(this.chartData,this.options)}};e.default=r},2349:function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(14),a(65);var r=n(a(78)),o=r.default.get({id:"BANDWIDTH_BREAKDOWN",url:"/CMD_BANDWIDTH_BREAKDOWN",response:[],schema:{month:r.default.OPTIONAL_STRING,year:r.default.OPTIONAL_STRING,user:r.default.OPTIONAL_STRING},before:function(t){var e=new Date,a=(e.getMonth()+1).toString(),n=e.getFullYear().toString();return void 0===t.month||t.month===a&&t.year===n?{user:t.user,month:null,year:null}:t},after:function(t){return t.flow(t.wrap("rows"),t.moveProp("rows.total","total"),t.mapProp("rows",t.flow(t.deleteProps(["simpletotal","month","year"]),t.toArray,t.mapArray(t.mapValues(t.convert.toAppNumber)))),t.mapProp("total",t.mapValues(t.convert.toAppNumber)))}});e.default=o},2350:function(t,e,a){"use strict";a.r(e);var n=a(1980);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);var o=a(0),s=Object(o.a)(n.default,void 0,void 0,!1,null,null,null);e.default=s.exports},2388:function(t,e,a){"use strict";a.r(e);var n=a(2389),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e.default=r.a},2389:function(t,e,a){"use strict";a(7),a(10),a(5),a(6),a(8),a(11);var n=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(a(2));a(34),a(16),a(14),a(18),a(24),a(21),a(40),a(85);var o=n(a(2349)),s=n(a(2350));function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={preload:o.default,api:[{command:o.default,bind:"breakdown"}],components:{LineChart:s.default},props:{year:{type:String,required:!0},month:{type:String,required:!0}},data:function(){return{showAs:"table"}},computed:{entries:function(){return this.$api.breakdown.rows},total:function(){return this.$api.breakdown.total},columns:function(){var t=[{id:"day",label:this.$gettext("Day"),editable:!1}];return t.push({id:"http",label:this.$gettext("Apache")}),t.push({id:"email",label:this.$gettext("E-mails (Incoming / Outgoing)")}),t.push({id:"ftp",label:this.$gettext("FTP")}),t.push({id:"pop",label:this.$gettext("POP")}),t.push({id:"imap",label:this.$gettext("IMAP")}),t.push({id:"da",label:this.$gettext("Direct Admin")}),t.push({id:"other",label:this.$gettext("Other")}),t.push({id:"total",label:this.$gettext("Total")}),t},chartData:function(){return{labels:this.entries.map((function(t){return t.day})),datasets:[l(l({label:this.$gettext("Total")},this.datasetOptions("rgba(255, 99, 132, 1)")),this.datasetData("total")),l(l({label:this.$gettext("Apache")},this.datasetOptions("rgba(1, 147, 202, 1)")),this.datasetData("http")),l(l({label:this.$gettext("E-mails")},this.datasetOptions("rgba(228, 91, 0, 1)")),this.datasetData("email")),l(l({label:this.$gettext("FTP")},this.datasetOptions("rgba(93, 195, 127, 1)")),this.datasetData("ftp")),l(l({label:this.$gettext("POP")},this.datasetOptions("rgba(52, 56, 60, 1)")),this.datasetData("pop")),l(l({label:this.$gettext("IMAP")},this.datasetOptions("rgba(0, 131, 180, 1)")),this.datasetData("imap")),l(l({label:this.$gettext("Direct Admin")},this.datasetOptions("rgba(198, 208, 218, 1)")),this.datasetData("da")),l(l({label:this.$gettext("Other")},this.datasetOptions("rgba(95, 111, 129, 1)")),this.datasetData("Other"))]}},chartOptions:function(){var t=this;return{scales:{yAxes:[{ticks:{callback:function(e){return t.getHumanReadableVolume(e)}}}]},legend:{onClick:function(){}},tooltips:{enabled:!0,mode:"nearest",intersect:!1,xPadding:10,yPadding:10,titleFontFamily:"Open Sans",bodyFontFamily:"Open Sans",footerFontFamily:"Open Sans",footerFontSize:10,displayColors:!1,callbacks:{title:function(e){return"".concat(e[0].xLabel," ").concat(t.getMonthName(t.month)," ").concat(t.year)},label:function(e){var a=e.datasetIndex,n=e.yLabel,r=[t.$gettext("Total"),t.$gettext("Apache"),t.$gettext("E-mails"),t.$gettext("FTP"),t.$gettext("POP"),t.$gettext("IMAP"),t.$gettext("Direct Admin"),t.$gettext("Other")][a];return"".concat(r,": ").concat(t.getHumanReadableVolume(n))}}}}}},methods:{datasetOptions:function(t){return{backgroundColor:t.replace("1)","0.2)"),borderColor:t,pointBackgroundColor:t,borderWidth:2,pointRadius:2,pointHitRadius:20,fill:!1}},datasetData:function(t){return{data:this.entries.map((function(e){return e[t]}))}},getMonthName:function(t){return[this.$gettext("January"),this.$gettext("February"),this.$gettext("March"),this.$gettext("April"),this.$gettext("May"),this.$gettext("June"),this.$gettext("July"),this.$gettext("August"),this.$gettext("September"),this.$gettext("October"),this.$gettext("November"),this.$gettext("December")][parseInt(t,10)-1]},getHumanReadableVolume:function(t){return this.$options.filters.humanReadableSize(t)}}};e.default=u},3463:function(t,e){},3986:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return r}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("translate",{attrs:{slot:"page:title","translate-params":{month:t.getMonthName(t.month),year:t.year}},slot:"page:title"},[t._v("\n        Bandwidth Breakdown for %{month} %{year}\n    ")]),t._v(" "),a("app-page-section",{directives:[{name:"flex",rawName:"v-flex",value:{main:"between"},expression:"{ main: 'between' }"}],staticClass:"filters"},[a("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[1,null],expression:"[1, null]"}]},[a("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"},{name:"gutter",rawName:"v-gutter",value:[null,1],expression:"[null, 1]"}]},[a("translate",{attrs:{tag:"strong"}},[t._v("\n                    Show As:\n                ")]),t._v(" "),a("input-radio",{attrs:{value:"table"},model:{value:t.showAs,callback:function(e){t.showAs=e},expression:"showAs"}},[a("translate",[t._v("Table")])],1),t._v(" "),a("input-radio",{attrs:{value:"chart"},model:{value:t.showAs,callback:function(e){t.showAs=e},expression:"showAs"}},[a("translate",[t._v("Chart")])],1)],1)])]),t._v(" "),a("transition",{attrs:{name:"fadeBounce"}},["table"===t.showAs?a("app-page-section",[a("ui-r-table",t._b({scopedSlots:t._u([{key:"col:http",fn:function(e){var a=e.http;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}},{key:"col:email",fn:function(e){var a=e.email,n=e.email_count_incoming,r=e.email_count_outgoing;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                    ("+t._s(n)+" / "+t._s(r)+")\n                ")]}},{key:"col:ftp",fn:function(e){var a=e.ftp;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}},{key:"col:pop",fn:function(e){var a=e.pop;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}},{key:"col:imap",fn:function(e){var a=e.imap;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}},{key:"col:da",fn:function(e){var a=e.da;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}},{key:"col:other",fn:function(e){var a=e.other;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}},{key:"col:total",fn:function(e){var a=e.total;return[t._v("\n                    "+t._s(t._f("humanReadableSize")(a))+"\n                ")]}}],null,!1,1514703394)},"ui-r-table",{rows:t.entries,columns:t.columns,isCheckable:!1,isSortable:!0,disablePagination:!0,equalWidthLayout:!0,verticalLayout:t.$_Client.isPhone},!1),[t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),t._v(" "),a("translate",{staticClass:"txt:bold",attrs:{slot:"col:after:day"},slot:"col:after:day"},[t._v("\n                    Total\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:http"},slot:"col:after:http"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.http))+"\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:email"},slot:"col:after:email"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.email))+"\n                    ("+t._s(t.total.email_count_incoming)+" / "+t._s(t.total.email_count_outgoing)+")\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:ftp"},slot:"col:after:ftp"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.ftp))+"\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:pop"},slot:"col:after:pop"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.pop))+"\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:imap"},slot:"col:after:imap"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.imap))+"\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:da"},slot:"col:after:da"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.da))+"\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:other"},slot:"col:after:other"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.other))+"\n                ")]),t._v(" "),a("span",{staticClass:"txt:bold",attrs:{slot:"col:after:total"},slot:"col:after:total"},[t._v("\n                    "+t._s(t._f("humanReadableSize")(t.total.total))+"\n                ")])],1)],1):a("app-page-section",[a("line-chart",t._b({},"line-chart",{chartData:t.chartData,options:t.chartOptions},!1))],1)],1)],1)},r=[]}}]);