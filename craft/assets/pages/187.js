(window.webpackJsonp=window.webpackJsonp||[]).push([[187],{1800:function(t,e,a){"use strict";a.r(e);var n=a(3998),s=a(2542);for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(o);var i=a(0),r=a(3597),l=a.n(r),c=Object(i.a)(s.default,n.a,n.b,!1,null,null,null);"function"==typeof l.a&&l()(c),e.default=c.exports},2542:function(t,e,a){"use strict";a.r(e);var n=a(2543),s=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e.default=s.a},2543:function(t,e,a){"use strict";var n=a(1);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,o,i=n(a(36)),r=n(a(37)),l=a(1960),c=n(a(2113)),u=a(9),f={preload:l.getMXRecords,commands:{setLocalMailStatus:l.setLocalMailStatus,getMXRecords:l.getMXRecords},api:[{command:l.getMXRecords,bind:"mx"}],components:{DnsRecordsTable:c.default},data:function(){return{template:"",affectPointers:!0,status:""}},computed:{mxTemplates:function(){return this.$api.mx.template?(0,u.omit)(["..."],this.$api.mx.template.options):{}},hasAffectPointers:function(){return"0"!==this.$state.app.tokens.USERPOINTERS}},watch:{$domain:function(){(0,l.getMXRecords)().then(this.initData)}},created:function(){this.initData()},methods:{initData:function(){this.template=this.$api.mx.template?this.$api.mx.template.value||!1:"",this.affectPointers=this.$api.mx.affect_pointers,this.status=this.$api.mx.internal},saveTemplate:(o=(0,r.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.setMxTemplate)({mx_template:this.template,affect_pointers:this.affectPointers});case 2:return t.next=4,(0,l.getMXRecords)();case 4:this.status=this.$api.mx.internal;case 5:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),saveStatus:(s=(0,r.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.setLocalMailStatus)({internal:this.status});case 2:(0,l.getMXRecords)();case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})}};e.default=f},3597:function(t,e){},3998:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-page",[a("template",{slot:"details"},[a("ui-infobar-item",{attrs:{title:t.$gettext("Note")}},[a("translate",[t._v("\n                Making modifications to the MX records can potentially\n                disable all of your email accounts from receiving mail.\n            ")])],1)],1),t._v(" "),a("app-page-section",[a("dns-records-table",t._b({attrs:{"has-affect-pointers":t.hasAffectPointers,disabled:!t.$state.app.tokens.USERDNSCONTROL},on:{"rows:update":t.$commands.getMXRecords}},"dns-records-table",{domain:t.$domain,only:"MX",records:t.$api.mx.records,full_mx_records:t.$api.mx.full_mx_records,enableTTL:t.$api.mx.dns_ttl,affectPointersDefault:t.$api.mx.affect_pointers},!1))],1),t._v(" "),a("app-page-section",[a("translate",{attrs:{slot:"section:title"},slot:"section:title"},[t._v("\n            Options\n        ")]),t._v(" "),a("ui-form-element",[a("input-checkbox",{attrs:{slot:"content"},slot:"content",model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[a("translate",[t._v("\n                    Use this server to handle my e-mails. If not, change the\n                    MX records and uncheck this option.\n                ")])],1),t._v(" "),a("ui-button",{attrs:{slot:"buttons",theme:"safe"},on:{click:t.saveStatus},slot:"buttons"},[a("translate",[t._v("Save")])],1)],1),t._v(" "),t.$api.mx.template&&t.$state.app.tokens.USERDNSCONTROL?[a("ui-form-element",[a("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                    MX Template\n                ")]),t._v(" "),a("input-select",{attrs:{slot:"content",options:t.mxTemplates},slot:"content",model:{value:t.template,callback:function(e){t.template=e},expression:"template"}},[a("input-checkbox-button",{attrs:{slot:"additions:right"},slot:"additions:right",model:{value:t.affectPointers,callback:function(e){t.affectPointers=e},expression:"affectPointers"}},[a("translate",[t._v("Affect Pointers")])],1)],1)],1),t._v(" "),a("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:t.saveTemplate},slot:"footer:buttons"},[a("translate",[t._v("Save")])],1)]:t._e()],2),t._v(" "),a("translate",{attrs:{slot:"footer:text"},slot:"footer:text"},[t._v("\n        * Note: Making modifications to the MX records can potentially\n        disable all of your email accounts from receiving mail.\n    ")])],2)},s=[]}}]);