(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[8133],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-pass-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var a=t("./src/js/api/commands/validation/index.js"),r=t("./src/js/api/commands/user/database.js"),o={commands:{validatePassword:a.validatePassword},props:{database:{type:String,required:!0},user:{type:String,required:!0}},data:function(){return{passwd:""}},methods:{submit:function(){(0,r.changeUserPassword)({name:this.database,user:this.user,passwd:this.passwd,passwd2:this.passwd})}}};s.Z=o},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.keys.js"),t("./node_modules/core-js/modules/es.symbol.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),t("./node_modules/core-js/modules/web.dom-collections.for-each.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),t("./node_modules/core-js/modules/es.object.define-properties.js"),t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var r=a(t("./node_modules/@babel/runtime/regenerator/index.js"));t("./node_modules/core-js/modules/es.object.assign.js");var o=a(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),n=a(t("./node_modules/@babel/runtime/helpers/defineProperty.js")),l=t("./src/js/modules/utils/index.js"),i=t("./src/js/api/commands/user/database.js");function d(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,a)}return t}var u,c={props:{database:{type:String,required:!0},user:{type:String,required:!0}},data:function(){return{privileges:{alter:!1,alter_routine_priv:!1,create:!1,create_routine_priv:!1,create_view_priv:!1,delete:!1,drop:!1,event_priv:!1,execute_priv:!1,grant:!1,index:!1,insert:!1,lock_table:!1,reference:!1,select:!1,show_view_priv:!1,tmp_table:!1,trigger_priv:!1,update:!1}}},computed:{requestData:function(){var e=l._.mapValues(this.privileges,(function(e){return e?"Y":"N"}));return function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?d(Object(t),!0).forEach((function(s){(0,n.default)(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}({name:this.database,user:this.user},e)}},methods:{loadUserPrivs:(u=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Object,e.t1=this.privileges,e.next=4,(0,i.getUserPrivs)({name:this.database,user:this.user});case 4:e.t2=e.sent,this.privileges=e.t0.assign.call(e.t0,e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),submit:function(){(0,i.setUserPrivs)(this.requestData)}}};s.Z=c},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var r=a(t("./node_modules/@babel/runtime/regenerator/index.js")),o=a(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));t("./node_modules/core-js/modules/es.function.name.js");var n,l=t("./src/js/api/commands/validation/index.js"),i=t("./src/js/api/commands/user/database.js"),d={commands:{validateDBUser:l.validateDBUser,validatePassword:l.validatePassword},props:{database:{type:String,required:!0}},data:function(){return{user:"",passwd:""}},computed:{prefix:function(){return"".concat(this.$state.app.user.name,"_")}},methods:{submit:(n=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.addUser)({name:this.database,user:this.user,passwd:this.passwd,passwd2:this.passwd});case 2:e.sent&&this.$emit("userAdded");case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}};s.Z=d},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/existing-db-user-dialog.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var r,o=a(t("./node_modules/@babel/runtime/regenerator/index.js")),n=a(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js")),l=t("./src/js/api/commands/user/database.js"),i={props:{database:{type:String,required:!0},users:{type:Array,required:!0}},data:function(){return{user:""}},methods:{submit:(r=(0,n.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.assignUser)({name:this.database,userlist:this.user});case 2:e.sent&&this.$emit("userAssigned");case 4:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}};s.Z=i},"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/view.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var r=a(t("./node_modules/@babel/runtime/regenerator/index.js")),o=a(t("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"));t("./node_modules/core-js/modules/es.array.map.js"),t("./node_modules/core-js/modules/es.function.name.js"),t("./node_modules/core-js/modules/es.array.includes.js"),t("./node_modules/core-js/modules/es.string.includes.js"),t("./node_modules/core-js/modules/es.array.concat.js"),t("./node_modules/core-js/modules/es.array.filter.js"),t("./node_modules/core-js/modules/es.object.to-string.js");var n,l,i,d,u,c=t("./src/js/api/commands/user/database.js"),p=a(t("./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue")),v=a(t("./src/js/pages/user/database/_dialogs/existing-db-user-dialog.vue")),m=a(t("./src/js/pages/user/database/_dialogs/change-db-user-pass-dialog.vue")),_=a(t("./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue")),b={preload:[function(e){var s=e.database;return(0,c.getDatabase)({name:s})},c.getUsers],api:[{command:c.getDatabase,bind:"db"},{command:c.getUsers,bind:{"response.users":"users"}}],components:{CreateDbUserDialog:p.default,ExistingDbUserDialog:v.default,ChangeDbUserPassDialog:m.default,ChangeDbUserPrivsDialog:_.default},props:{database:{type:String,required:!0}},data:function(){return{checkedUserRows:[],checkedHostRows:[],host:"",currentUser:""}},computed:{users:function(){return this.$api.db.users.map((function(e){return{user:e}}))},hosts:function(){return this.$api.db.hosts.map((function(e){return{host:e}}))},checkedUsers:function(){return this.checkedUserRows.map((function(e){return e.user}))},checkedHosts:function(){return this.checkedHostRows.map((function(e){return e.host}))},notAssignedUsers:function(){var e=this,s=this.$state.app.user.name;return this.$api.users.map((function(e){return e.value})).filter((function(t){return!e.$api.db.users.includes("".concat(s,"_").concat(t))}))}},watch:{$domain:function(){this.reload()}},methods:{deleteHosts:(u=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.deleteAccessHost)({name:this.database,select:this.checkedHosts});case 2:e.sent&&(this.reload(),this.checkedHostRows=[]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)}),deleteUsers:(d=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.deleteUsers)({name:this.database,select:this.checkedUsers});case 2:e.sent&&(this.reload(),this.checkedUserRows=[]);case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)}),addNewAccessHost:(i=(0,o.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.addAccessHost)({name:this.database,host:this.host});case 2:e.sent&&this.reload();case 4:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),reload:function(){(0,c.getDatabase)({name:this.database})},changePasswordDialog:function(e){this.currentUser=e,this.$dialog("CHANGE_DB_USER_PASS_DIALOG").open()},changePrivilegesDialog:(l=(0,o.default)(r.default.mark((function e(s){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentUser=s,this.$dialog("CHANGE_DB_USER_PRIVS_DIALOG").open();case 2:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)}),loginPMA:(n=(0,o.default)(r.default.mark((function e(){var s,t,a;return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.loginPMA)({name:this.database});case 2:"yes"===e.sent.success&&((s=window.document.createElement("form")).action="/CMD_PMA_LOGIN",s.method="POST",s.target="_blank",(t=window.document.createElement("input")).type="hidden",t.name="domain",t.value=this.$domainUnicode,s.appendChild(t),(a=window.document.createElement("input")).type="hidden",a.name="name",a.value=this.database,s.appendChild(a),window.document.body.appendChild(s),s.submit());case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})}};s.Z=b},"./src/js/api/commands/user/database.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js"),r=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"__esModule",{value:!0}),s.uploadBackup=s.setUserPrivs=s.repairDatabase=s.optimizeDatabase=s.loginPMA=s.globalLoginPMA=s.getUsers=s.getUserPrivs=s.getLoginPMAStatus=s.getDatabases=s.getDatabase=s.deleteUsers=s.deleteDatabase=s.deleteAccessHost=s.createDatabase=s.checkDatabase=s.changeUserPassword=s.assignUser=s.addUser=s.addAccessHost=void 0,t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.promise.js");var o=a(t("./src/js/api/command/index.js")),n=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l(s);if(t&&t.has(e))return t.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var i=o?Object.getOwnPropertyDescriptor(e,n):null;i&&(i.get||i.set)?Object.defineProperty(a,n,i):a[n]=e[n]}a.default=e,t&&t.set(e,a);return a}(t("./node_modules/ramda/src/index.js"));function l(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:s})(e)}var i=o.default.get({id:"DB_USERS",url:"/CMD_DB_CREATE",domain:!0,mapResponse:{users:n.pipe(n.omit(["MAX_DB_LENGTH","MAX_DB_USER_LENGTH"]),n.values,n.filter((function(e){return"..."!==e.text})),n.map((function(e){return{value:e.value,label:e.text}}))),max_db_length:n.prop("MAX_DB_LENGTH"),max_db_user_length:n.prop("MAX_DB_USER_LENGTH")}});s.getUsers=i;var d=o.default.post({url:"/CMD_DB",params:{action:"create"},domain:!0,schema:{name:o.default.REQUIRED_STRING,user:o.default.REQUIRED_STRING,passwd:o.default.OPTIONAL_STRING,passwd2:o.default.OPTIONAL_STRING,userlist:o.default.OPTIONAL_STRING},after:function(e){return e.mapProp("result",e.convert.toAppHtml)}});s.createDatabase=d;var u=o.default.get({id:"DATABASES",url:"/CMD_DB",domain:!0,pagination:!0,after:function(e){return e.mapProps({databases:e.toTable(e.mapArrayProps({nusers:e.convert.toAppNumber,size:e.convert.toAppNumber})),HAVE_ONE_CLICK_PMA_LOGIN:e.convert.toAppBoolean,total_usage:e.convert.toAppNumber,dbs_select:e.toSelect})}});s.getDatabases=u;var c=o.default.select({url:"/CMD_DB",domain:!0,params:{json:!0}}),p=c.extend({params:{repair:!0}});s.repairDatabase=p;var v=c.extend({params:{check:!0}});s.checkDatabase=v;var m=c.extend({params:{optimize:!0}});s.optimizeDatabase=m;var _=c.extend({params:{delete_db:!0}});s.deleteDatabase=_;var b=o.default.post({url:"/CMD_DB",params:{action:"restore",method:"default"},domain:!0,schema:{name:o.default.REQUIRED_STRING,dbuser:o.default.REQUIRED_STRING,dbpass:o.default.REQUIRED_STRING,file:{type:File,required:!0}},before:function(e){return{file1:e.file,file:null}},fileTransfer:!0,continous:!0});s.uploadBackup=b;var g=o.default.get({id:"DB_VIEW",url:"/CMD_DB_VIEW",params:{page:1,ipp:9999},domain:!0,schema:{name:o.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({hosts:"access_hosts",users:"db_users",pmaLogin:"HAVE_ONE_CLICK_PMA_LOGIN"}),e.mapProps({users:e.flow(e.deleteProp("info"),e.toArray,e.mapArray(e.getProp("User"))),hosts:e.flow(e.deleteProp("info"),e.toArray,e.mapArray(e.getProp("Access Hosts"))),pmaLogin:e.convert.toAppBoolean}))}});s.getDatabase=g;var f=o.default.post({url:"/CMD_DB",method:"POST",params:{action:"deleteuser",delete:!0,json:!0},domain:!0,schema:{name:o.default.REQUIRED_STRING,select:o.default.ROWS}});s.deleteUsers=f;var j=o.default.post({url:"/CMD_DB_ACCESS",domain:!0,params:{add:!0,json:!0},schema:{name:o.default.REQUIRED_STRING,host:o.default.REQUIRED_STRING}});s.addAccessHost=j;var h=o.default.select({url:"/CMD_DB_ACCESS",domain:!0,params:{delete:!0,json:!0},schema:{name:o.default.REQUIRED_STRING}});s.deleteAccessHost=h;var x=o.default.post({url:"/CMD_DB",domain:!0,params:{action:"createuser",json:!0},schema:{name:o.default.REQUIRED_STRING,passwd:o.default.REQUIRED_STRING,passwd2:o.default.REQUIRED_STRING}});s.addUser=x;var y=o.default.post({url:"/CMD_DB",domain:!0,params:{action:"createuser",json:!0,passwd:"*****",passwd2:"*****"},schema:{name:o.default.REQUIRED_STRING,userlist:o.default.REQUIRED_STRING}});s.assignUser=y;var R=o.default.post({url:"/CMD_DB",domain:!0,params:{action:"modifyuser",json:!0},schema:{name:o.default.REQUIRED_STRING,user:o.default.REQUIRED_STRING,passwd:o.default.REQUIRED_STRING,passwd2:o.default.REQUIRED_STRING}});s.changeUserPassword=R;var D=o.default.get({id:"DB_USER_PRIVS",url:"/CMD_DB_USER_PRIVS",domain:!0,schema:{name:o.default.REQUIRED_STRING,user:o.default.REQUIRED_STRING},after:function(e){return e.mapValues(e.isEqual("Y"))}});s.getUserPrivs=D;var E=o.default.post({url:"/CMD_DB_USER_PRIVS",domain:!0,params:{action:"save "},body:{name:o.default.REQUIRED_STRING,user:o.default.REQUIRED_STRING}});s.setUserPrivs=E;var w=o.default.post({url:"/CMD_PMA_LOGIN",domain:!0,params:{json:!0},notifySuccess:!1,notifyError:!1,schema:{name:o.default.REQUIRED_STRING}});s.loginPMA=w;var S=o.default.post({url:"/CMD_PMA_LOGIN",params:{json:!0,name:"all",domain:""},notifySuccess:!1,notifyError:!1});s.globalLoginPMA=S;var A=o.default.get({url:"/CMD_DB",response:!1,mapResponse:function(e){return"yes"===e.HAVE_ONE_CLICK_PMA_LOGIN},notifyError:!1});s.getLoginPMAStatus=A},"./src/js/api/commands/validation/index.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var a=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.validateUsername=s.validateSubdomain=s.validatePassword=s.validateMXValue=s.validateIPRangeList=s.validateForwarder=s.validateFTP=s.validateEmail=s.validateDomain=s.validateDatabase=s.validateDNSValue=s.validateDNSName=s.validateDBUser=void 0;var r=a(t("./src/js/api/command/index.js")),o=a(t("./node_modules/punycode/punycode.es6.js")),n=a(t("./src/js/api/commands/validation/$processors.ts")),l=r.default.get({url:"/CMD_JSON_VALIDATE",schema:{value:r.default.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:n.default.isValid,message:n.default.getMessage}}),i=l.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}});s.validateForwarder=i;var d=l.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}});s.validateEmail=d;var u=l.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0});s.validateFTP=u;var c=l.extend({params:{type:"dns"},domain:!0,schema:{record:r.default.REQUIRED_STRING}}),p=c.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:r.default.REQUIRED_STRING}});s.validateDNSValue=p;var v=p.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:function(e){return{value:"10",mx_value:e.value}}});s.validateMXValue=v;var m=c.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:r.default.REQUIRED_STRING,value:null}});s.validateDNSName=m;var _=l.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}});s.validateDatabase=_;var b=l.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}});s.validateDBUser=b;var g=l.extend({id:"VALIDATE_USERNAME",params:{type:"username"}});s.validateUsername=g;var f=l.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}});s.validateSubdomain=f;var j=l.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}});s.validatePassword=j;var h=l.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:function(e){var s=e.value;return{value:o.default.toASCII(s)}}});s.validateDomain=h;var x=l.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}});s.validateIPRangeList=x},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue?vue&type=style&index=0&id=3dabab98&lang=scss&scoped=true&":function(){},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue?vue&type=style&index=0&id=8d4c83d6&lang=scss&scoped=true&":function(){},"./src/js/api/commands/validation/$processors.ts":function(e,s,t){"use strict";t.r(s);var a=t("./src/js/api/commands/converters/index.ts");s.default={isValid:function(e){return void 0===e.error},getMessage:function(e){return(0,a.toAppHtml)(e.error||"")}}},"./src/js/pages/user/database/_dialogs/change-db-user-pass-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-pass-dialog.vue?vue&type=script&lang=js&"),r=a.Z,o=(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",e._g({attrs:{id:"CHANGE_DB_USER_PASS_DIALOG"}},e.$listeners),[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change password\n    ")]),e._v(" "),t("div",{attrs:{slot:"content"},slot:"content"},[t("ui-form-element",{attrs:{vertical:""}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username:\n            ")]),e._v(" "),t("input-text",{attrs:{slot:"content",value:e.user,disabled:""},slot:"content"})],1),e._v(" "),t("ui-form-element",{attrs:{group:"changePassword",validators:{required:!0,api:e.$commands.validatePassword},vertical:""}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Password:\n            ")]),e._v(" "),t("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.passwd,callback:function(s){e.passwd=s},expression:"passwd"}})],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"changePassword"},on:{click:e.submit},slot:"buttons"},[t("translate",[e._v("Save")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue?vue&type=script&lang=js&"),r=a.Z,o=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue?vue&type=style&index=0&id=3dabab98&lang=scss&scoped=true&"),(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",{attrs:{id:"CHANGE_DB_USER_PRIVS_DIALOG",size:"normal"},on:{"dialog:open":e.loadUserPrivs}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Change privileges\n    ")]),e._v(" "),t("template",{slot:"content"},[t("ui-form-element",{attrs:{vertical:e.$_Client.isPhone}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username\n            ")]),e._v(" "),t("input-text",{attrs:{slot:"content",disabled:"",value:e.user},slot:"content"})],1),e._v(" "),t("ui-form-element",{attrs:{vertical:e.$_Client.isPhone}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Privileges:\n            ")]),e._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"},{name:"gutter",rawName:"v-gutter:padding",value:1,expression:"1",arg:"padding"}],staticClass:"privs-flex",attrs:{slot:"content"},slot:"content"},[t("input-checkbox",{model:{value:e.privileges.select,callback:function(s){e.$set(e.privileges,"select",s)},expression:"privileges.select"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Select\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.insert,callback:function(s){e.$set(e.privileges,"insert",s)},expression:"privileges.insert"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Insert\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.update,callback:function(s){e.$set(e.privileges,"update",s)},expression:"privileges.update"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Update\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.delete,callback:function(s){e.$set(e.privileges,"delete",s)},expression:"privileges.delete"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Delete\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.create,callback:function(s){e.$set(e.privileges,"create",s)},expression:"privileges.create"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.drop,callback:function(s){e.$set(e.privileges,"drop",s)},expression:"privileges.drop"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Drop\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.alter,callback:function(s){e.$set(e.privileges,"alter",s)},expression:"privileges.alter"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Alter\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.index,callback:function(s){e.$set(e.privileges,"index",s)},expression:"privileges.index"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Index\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.grant,callback:function(s){e.$set(e.privileges,"grant",s)},expression:"privileges.grant"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Grant\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.reference,callback:function(s){e.$set(e.privileges,"reference",s)},expression:"privileges.reference"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Reference\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.tmp_table,callback:function(s){e.$set(e.privileges,"tmp_table",s)},expression:"privileges.tmp_table"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create tmp tables\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.lock_table,callback:function(s){e.$set(e.privileges,"lock_table",s)},expression:"privileges.lock_table"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Lock Tables\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.show_view_priv,callback:function(s){e.$set(e.privileges,"show_view_priv",s)},expression:"privileges.show_view_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Show View\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.create_routine_priv,callback:function(s){e.$set(e.privileges,"create_routine_priv",s)},expression:"privileges.create_routine_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create Routine\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.alter_routine_priv,callback:function(s){e.$set(e.privileges,"alter_routine_priv",s)},expression:"privileges.alter_routine_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Alter Routine\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.execute_priv,callback:function(s){e.$set(e.privileges,"execute_priv",s)},expression:"privileges.execute_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Execute\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.create_view_priv,callback:function(s){e.$set(e.privileges,"create_view_priv",s)},expression:"privileges.create_view_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Create View\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.event_priv,callback:function(s){e.$set(e.privileges,"event_priv",s)},expression:"privileges.event_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Event\n                    ")])],1),e._v(" "),t("input-checkbox",{model:{value:e.privileges.trigger_priv,callback:function(s){e.$set(e.privileges,"trigger_priv",s)},expression:"privileges.trigger_priv"}},[t("translate",{attrs:{"translate-context":"mysql_privs"}},[e._v("\n                        Trigger\n                    ")])],1)],1)],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:e.submit},slot:"buttons"},[t("translate",[e._v("Save")])],1)],2)}),[],!1,null,"3dabab98",null).exports)},"./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue?vue&type=script&lang=js&"),r=a.Z,o=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue?vue&type=style&index=0&id=8d4c83d6&lang=scss&scoped=true&"),(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",{attrs:{id:"CREATE_DB_USER_DIALOG"}},[t("translate",{attrs:{slot:"title","translate-params":{database:e.database}},slot:"title"},[e._v("\n        Create New User for %{database}\n    ")]),e._v(" "),t("template",{slot:"content"},[t("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,api:e.$commands.validateDBUser},vertical:""}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Username:\n            ")]),e._v(" "),t("input-text",e._b({attrs:{slot:"content"},slot:"content",model:{value:e.user,callback:function(s){e.user=s},expression:"user"}},"input-text",{prefix:e.prefix},!1))],1),e._v(" "),t("ui-form-element",{attrs:{group:"createUser",validators:{required:!0,api:e.$commands.validatePassword},vertical:""}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Password:\n            ")]),e._v(" "),t("input-password",{attrs:{slot:"content","show-generator":""},slot:"content",model:{value:e.passwd,callback:function(s){e.passwd=s},expression:"passwd"}})],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"primary","validate-group":"createUser"},on:{click:e.submit},slot:"buttons"},[t("translate",[e._v("Create")])],1)],2)}),[],!1,null,"8d4c83d6",null).exports)},"./src/js/pages/user/database/_dialogs/existing-db-user-dialog.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return o}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/existing-db-user-dialog.vue?vue&type=script&lang=js&"),r=a.Z,o=(0,t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js").Z)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ui-dialog",{attrs:{id:"ASSIGN_DB_USER_DIALOG",size:"small"}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n        Assign Existing User to %{database}\n    ")]),e._v(" "),t("ui-form-element",{attrs:{slot:"content",vertical:""},slot:"content"},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n            Username:\n        ")]),e._v(" "),t("ui-input-group",{attrs:{slot:"content"},slot:"content"},[t("ui-button",{attrs:{slot:"additions:left",disabled:""},slot:"additions:left"},[e._v("\n                "+e._s(e.$state.app.user.name)+"_\n            ")]),e._v(" "),t("input-select",{attrs:{slot:"input",options:e.users},slot:"input",model:{value:e.user,callback:function(s){e.user=s},expression:"user"}})],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"buttons",theme:"primary"},on:{click:e.submit},slot:"buttons"},[t("translate",[e._v("Assign")])],1)],1)}),[],!1,null,null,null).exports},"./src/js/pages/user/database/view.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return a.X},default:function(){return d}});var a=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/view.vue?vue&type=script&lang=js&"),r=a.Z,o=t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),n=t("./src/js/pages/user/database/view.vue?vue&type=custom&index=0&blockType=route"),l=t.n(n),i=(0,o.Z)(r,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{actions:e.$api.db.pmaLogin?[{handler:e.loginPMA,label:e.$gettext("Login to phpMyAdmin"),icon:"phpmyadmin"}]:[]}},[e.$api.db.pmaLogin?t("ui-button",{attrs:{slot:"header:buttons",theme:"light",size:"big",title:e.$gettext("Login to phpMyAdmin")},on:{click:e.loginPMA},slot:"header:buttons"},[t("img",{attrs:{src:e.$store.getters["themes/iconsPath"]+"#phpmyadmin",height:"50"}})]):e._e(),e._v(" "),t("app-page-section",[t("translate",{attrs:{slot:"section:title"},slot:"section:title"},[e._v("\n            Users\n        ")]),e._v(" "),t("ui-r-table",e._b({on:{"update:checkedRows":function(s){e.checkedUserRows=s}},scopedSlots:e._u([{key:"col:priv",fn:function(s){var a=s.user;return t("ui-link",{on:{click:function(s){return e.changePrivilegesDialog(a)}}},[e.$_Client.isPhone?t("translate",[e._v("\n                    Modify\n                ")]):t("translate",[e._v("\n                    Modify Privileges\n                ")])],1)}},{key:"col:password",fn:function(s){var a=s.user;return t("ui-link",{on:{click:function(s){return e.changePasswordDialog(a)}}},[e.$_Client.isPhone?t("translate",[e._v("\n                    Change\n                ")]):t("translate",[e._v("\n                    Change Password\n                ")])],1)}}])},"ui-r-table",{columns:[{id:"user",label:e.$gettext("User")},{id:"password",label:e.$gettext("Password")},{id:"priv",label:e.$gettext("Privileges")}],rows:e.users,checkedRows:e.checkedUserRows,verticalLayout:e.$_Client.isPhone,editable:!1},!1),[t("ui-table-action",{attrs:{slot:"table:actions"},on:{click:function(s){e.$dialog("DELETE_USERS_DIALOG").open()}},slot:"table:actions"},[t("translate",[e._v("Delete")])],1),e._v(" "),e._v(" "),e._v(" "),t("template",{slot:"buttons:before"},[t("ui-button",{directives:[{name:"margin",rawName:"v-margin",value:[0,1],expression:"[0, 1]"}],attrs:{theme:"safe",size:"normal"},on:{click:function(s){e.$dialog("CREATE_DB_USER_DIALOG").open()}}},[t("translate",[e._v("Create New User")])],1),e._v(" "),e.notAssignedUsers.length?t("ui-button",{directives:[{name:"margin",rawName:"v-margin",value:[0,1],expression:"[0, 1]"}],attrs:{theme:"primary",size:"normal"},on:{click:function(s){e.$dialog("ASSIGN_DB_USER_DIALOG").open()}}},[t("translate",[e._v("Add Existing User")])],1):e._e()],1)],2)],1),e._v(" "),t("app-page-section",[t("translate",{attrs:{slot:"section:title"},slot:"section:title"},[e._v("\n            Access Hosts\n        ")]),e._v(" "),t("ui-r-table",e._b({attrs:{"hide-before-controls":""},on:{"update:checkedRows":function(s){e.checkedHostRows=s}}},"ui-r-table",{rows:e.hosts,columns:[{id:"host",label:e.$gettext("Access Host")}],checkedRows:e.checkedHostRows,notCheckable:e.hosts.filter((function(e){return"localhost"===e.host}))},!1),[t("ui-table-action",{attrs:{slot:"table:actions"},on:{click:function(s){e.$dialog("DELETE_HOSTS_DIALOG").open()}},slot:"table:actions"},[t("translate",[e._v("Delete")])],1),e._v(" "),t("ui-input-group",{attrs:{slot:"buttons:after"},slot:"buttons:after"},[t("input-text",{attrs:{slot:"input",placeholder:e.$gettext("Access Host")},on:{keydown:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.addNewAccessHost.apply(null,arguments)}},slot:"input",model:{value:e.host,callback:function(s){e.host=s},expression:"host"}}),e._v(" "),t("ui-button",{attrs:{slot:"additions:right",theme:"safe"},on:{click:e.addNewAccessHost},slot:"additions:right"},[t("translate",{staticClass:"wrap:nowrap"},[e._v("\n                        Add New\n                    ")])],1)],1)],1)],1),e._v(" "),t("create-db-user-dialog",e._b({on:{userAdded:e.reload}},"create-db-user-dialog",{database:e.database},!1)),e._v(" "),t("existing-db-user-dialog",e._b({on:{userAssigned:e.reload}},"existing-db-user-dialog",{database:e.database,users:e.notAssignedUsers},!1)),e._v(" "),t("ui-dialog-delete-items",{attrs:{id:"DELETE_HOSTS_DIALOG",subject:e.$ngettext("Access host","Access hosts",e.checkedHosts.length)},on:{"click:confirm":e.deleteHosts}}),e._v(" "),t("ui-dialog-delete-items",{attrs:{id:"DELETE_USERS_DIALOG",subject:e.$ngettext("user","users",e.checkedUsers.length)},on:{"click:confirm":e.deleteUsers}}),e._v(" "),t("change-db-user-pass-dialog",{attrs:{database:e.database,user:e.currentUser}}),e._v(" "),t("change-db-user-privs-dialog",{attrs:{database:e.database,user:e.currentUser}})],1)}),[],!1,null,null,null);"function"==typeof l()&&l()(i);var d=i.exports},"./src/js/pages/user/database/view.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue?vue&type=style&index=0&id=3dabab98&lang=scss&scoped=true&":function(e,s,t){var a=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/change-db-user-privs-dialog.vue?vue&type=style&index=0&id=3dabab98&lang=scss&scoped=true&");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("1f831354",a,!0,{})},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue?vue&type=style&index=0&id=8d4c83d6&lang=scss&scoped=true&":function(e,s,t){var a=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/database/_dialogs/create-db-user-dialog.vue?vue&type=style&index=0&id=8d4c83d6&lang=scss&scoped=true&");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("6b9d9034",a,!0,{})}}]);