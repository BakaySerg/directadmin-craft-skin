(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[4901],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/stats.vue?vue&type=script&lang=js&":function(t,e,s){"use strict";s("./node_modules/core-js/modules/es.symbol.js"),s("./node_modules/core-js/modules/es.array.filter.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),s("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),s("./node_modules/core-js/modules/es.object.define-properties.js"),s("./node_modules/core-js/modules/es.object.define-property.js");var i=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a=i(s("./node_modules/@babel/runtime/helpers/defineProperty.js"));s("./node_modules/core-js/modules/es.object.keys.js"),s("./node_modules/core-js/modules/es.object.to-string.js"),s("./node_modules/core-js/modules/web.dom-collections.for-each.js"),s("./node_modules/core-js/modules/es.array.includes.js"),s("./node_modules/core-js/modules/es.array.index-of.js"),s("./node_modules/core-js/modules/es.array.concat.js");var o=s("./src/js/api/commands/reseller/stats.js"),n=s("./src/js/vue/mixins.js");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){(0,a.default)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={preload:o.getStats,api:[{command:o.getStats,bind:"data"}],mixins:[(0,n.$bindTab)({param:"tab",defaultTab:"usage"})],data:function(){return{limitNotice:"2"}},computed:{stats:function(){return this.$api.data.stats},usage:function(){return this.$api.data.usage},info:function(){return this.$api.data.info},enabledUsages:function(){var t=[];return this.usage.bandwidth&&t.push("bandwidth"),this.usage.quota&&t.push("quota"),this.usage.email_quota&&t.push("email_quota"),this.usage.db_quota&&t.push("db_quota"),t},rowsCount:function(){return Object.keys(this.usageLabels).length+this.enabledUsages.length},usageData:function(){var t=this,e={inode:this.$gettext("Inodes"),vdomains:this.$gettext("# of Domains"),nsubdomains:this.$gettext("# of Subdomains"),nemails:this.$gettext("E-mail Accounts"),nemailf:this.$gettext("E-mail Forwarders"),nemailml:this.$gettext("Mailing Lists"),nemailr:this.$gettext("Autoresponders"),email_deliveries_outgoing:this.$gettext("Sent E-mails"),email_deliveries_incoming:this.$gettext("Received E-mails"),mysql:this.$gettext("# of MySQL DBs"),domainptr:this.$gettext("Domain Pointers"),ftp:this.$gettext("FTP Accounts"),ips:this.$gettext("# of IPs"),free_ips:this.$gettext("# of free IPs")},s=[];return this.usage.bandwidth&&s.push(r(r({id:"bandwidth",label:this.$gettext("Bandwidth")},this.usage.bandwidth),{},{bytes:!0})),this.usage.quota&&s.push(r({id:"quota",label:this.$gettext("Disk Usage"),bytes:!0},this.usage.quota)),this.usage.email_quota&&s.push(r({id:"email_quota",label:this.$gettext("E-mail Disk Usage"),bytes:!0},this.usage.email_quota)),this.usage.db_quota&&s.push(r({id:"quota",label:this.$gettext("Database Disk Usage"),bytes:!0},this.usage.db_quota)),Object.keys(e).forEach((function(i){s.push(r({id:i,label:e[i],bytes:!1},t.usage[i]))})),s}},created:function(){this.featureLabels={userssh:this.$gettext("User SSH"),aftp:this.$gettext("Anonymous FTP"),catchall:this.$gettext("Catch-All E-mail"),cgi:this.$gettext("CGI"),git:this.$gettext("Git"),wordpress:this.$gettext("Wordpress"),clamav:this.$gettext("ClamAV"),nginx_unit:this.$gettext("Nginx Unit"),cron:this.$gettext("Cron"),dns:this.$gettext("DNS Administration"),dnscontrol:this.$gettext("DNS Control"),login_keys:this.$gettext("Login Keys"),oversell:this.$gettext("Oversell"),php:this.$gettext("PHP"),serverip:this.$gettext("Can use Server IP"),spam:this.$gettext("SpamAssassin"),ssh:this.$gettext("SSH"),ssl:this.$gettext("SSL"),sysinfo:this.$gettext("System Info")},this.infoLabels={ns1:this.$gettext("Name Server 1"),ns2:this.$gettext("Name Server 2"),ip:this.$gettext("IP"),package:this.$gettext("Package"),original_package:this.$gettext("Original Package")},this.$api.data.limitNotice&&(this.limitNotice=this.$api.data.limitNotice.value)},methods:{showLimit:function(t){return!["email_quota","db_quota","email_deliveries_outgoing","email_deliveries_incoming","ips","free_ips"].includes(t)},getLimitString:function(t){return t===1/0?this.$gettext("Unlimited"):t},getBadge:function(t){return{label:t?this.$gettext("Enabled"):this.$gettext("Disabled"),theme:t?"safe":"danger",size:"normal"}},getUsageLabelIndex:function(t,e){var s=Object.keys(this.usageLabels).indexOf(e)+this.enabledUsages.length;return"".concat(t,":").concat(s)},saveLimitNotice:function(){(0,o.saveLimitNotice)({value:this.limitNotice})}}};e.Z=u},"./src/js/api/commands/reseller/stats.js":function(t,e,s){"use strict";s("./node_modules/core-js/modules/es.object.define-property.js");var i=s("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(e,"__esModule",{value:!0}),e.saveLimitNotice=e.getStats=e.$processors=void 0;var a=i(s("./src/js/api/command/index.js")),o=s("./src/js/modules/utils/index.js"),n={stats:o.fp.flow(o.fp.moveProp({"limit.userssh":"stats.userssh","limit.aftp":"stats.aftp","limit.catchall":"stats.catchall","limit.cgi":"stats.cgi","limit.cron":"stats.cron","limit.dns":"stats.dns","limit.dnscontrol":"stats.dnscontrol","limit.login_keys":"stats.login_keys","limit.oversell":"stats.oversell","limit.php":"stats.php","limit.serverip":"stats.serverip","limit.spam":"stats.spam","limit.ssh":"stats.ssh","limit.ssl":"stats.ssl","limit.sysinfo":"stats.sysinfo"}),o.fp.getProp("stats"),o.fp.mapValues(o.fp.convert.toAppBoolean)),info:o.fp.flow(o.fp.moveProp({"limit.additional_bandwidth":"info.additional_bandwidth","limit.ip":"info.ip","limit.ips":"info.ips","limit.ns1":"info.ns1","limit.ns2":"info.ns2","limit.original_package":"info.original_package","limit.package":"info.package","limit.reseller_widgets":"info.reseller_widgets","limit.sentwarning":"info.sentwarning","limit.subject":"info.subject"}),o.fp.getProp("info"),o.fp.mapProp("sentwarning",o.fp.convert.toAppBoolean)),usage:function(t){var e=o.fp.flow(o.fp.getProp("usage"),o.fp.mapValues(o.fp.flow((function(e,s){return{usage:e,limit:t.limit[s]||"unlimited",allocated:t.allocated[s]}}),o.fp.mapProps({usage:o.fp.convert.toAppNumber,limit:o.fp.convert.toAppLimit,allocated:o.fp.convert.toAppLimit}))));return e(t)},limitNotice:function(t){var e=t.send_usage_message;if(!e)return!1;var s=o.fp.toSelect(e.select).value;return{defaultValue:e.max_usage,value:s}}};e.$processors=n;var l=a.default.get({id:"RESELLER_STATS",url:"/CMD_RESELLER_STATS",params:{bytes:!0},mapResponse:{stats:n.stats,info:n.info,usage:n.usage,limitNotice:n.limitNotice}});e.getStats=l;var r=a.default.post({url:"/CMD_CHANGE_INFO",params:{send_usage_message_reseller:!0},before:function(t){return{value:null,send_usage_message_value:t.value}},schema:{value:a.default.REQUIRED_STRING}});e.saveLimitNotice=r},"./src/js/pages/reseller/stats.vue":function(t,e,s){"use strict";s.r(e),s.d(e,{__esModule:function(){return i.X},default:function(){return u}});var i=s("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/reseller/stats.vue?vue&type=script&lang=js&"),a=i.Z,o=s("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),n=s("./src/js/pages/reseller/stats.vue?vue&type=custom&index=0&blockType=route"),l=s.n(n),r=(0,o.Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-page",[s("template",{slot:"details"},[s("ui-infobar-item",{attrs:{title:t.$gettext("Related Pages")}},[s("ui-useful-links",{attrs:{links:[{name:"reseller/history",label:t.$gettext("Server History")},{name:"user/stats",label:t.$gettext("User Statistics"),icon:"site-summary"}]}})],1)],1),t._v(" "),s("app-page-section",[s("ui-tabs",{attrs:{tabs:[{id:"usage",label:t.$gettext("Usage Statistics")},{id:"info",label:t.$gettext("Account Info")}],selected:t.tab},on:{"update:selected":function(e){t.tab=e}}},[s("ui-table",{key:"usage",attrs:{slot:"tab:usage",items:t.usageData},slot:"tab:usage"},[s("ui-column",{attrs:{id:"label",label:t.$gettext("Setting")},scopedSlots:t._u([{key:"default",fn:function(e){return s("span",{},[t._v("\n                        "+t._s(e.label)+"\n                    ")])}}])}),t._v(" "),s("ui-column",{attrs:{id:"usage",label:t.$gettext("Usage")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.bytes?[t._v("\n                            "+t._s(t._f("humanReadableSize")(e.usage))+"\n                        ")]:[t._v("\n                            "+t._s(e.usage)+"\n                        ")]]}}])}),t._v(" "),s("ui-column",{attrs:{id:"limit",label:t.$gettext("Limit")},scopedSlots:t._u([{key:"default",fn:function(e){return[t.showLimit(e.id)?[e.limit===1/0?s("translate",[t._v("\n                                Unlimited\n                            ")]):e.bytes?[t._v("\n                                "+t._s(t._f("humanReadableSize")(e.limit))+"\n                            ")]:[t._v("\n                                "+t._s(e.limit)+"\n                            ")]]:t._e()]}}])}),t._v(" "),s("ui-column",{attrs:{id:"allocated",label:t.$gettext("Allocated")},scopedSlots:t._u([{key:"default",fn:function(e){return[t.showLimit(e.id)?[e.allocated===1/0?s("translate",[t._v("\n                                Unlimited\n                            ")]):e.bytes?[t._v("\n                                "+t._s(t._f("humanReadableSize")(e.allocated))+"\n                            ")]:[t._v("\n                                "+t._s(e.allocated)+"\n                            ")]]:t._e()]}}])})],1),t._v(" "),s("div",{attrs:{slot:"tab:info"},slot:"tab:info"},[t._l(t.infoLabels,(function(e,i){return s("ui-form-element",{key:i},[s("span",{attrs:{slot:"title"},domProps:{textContent:t._s(e)},slot:"title"}),t._v(" "),s("input-text",{attrs:{slot:"content",value:t.info[i],disabled:""},slot:"content"})],1)})),t._v(" "),"0"!==t.info.additional_bandwidth?s("ui-form-element",[s("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                        Additional Bandwidth\n                    ")]),t._v(" "),s("input-text",{attrs:{slot:"content",value:t.$options.filters.humanReadableSize(t.info.additional_bandwidth),disabled:""},slot:"content"})],1):t._e(),t._v(" "),t._l(t.featureLabels,(function(e,i){return s("ui-form-element",{key:i,attrs:{"vertical-on-phone":!1,underline:!t.$_Client.isPhone,"grow-title":t.$_Client.isPhone}},[s("span",{attrs:{slot:"title"},domProps:{textContent:t._s(e)},slot:"title"}),t._v(" "),s("div",{attrs:{slot:"content"},slot:"content"},[s("ui-badge",{attrs:{slot:"content",theme:t.stats[i]?"safe":"danger",label:t.stats[i]?t.$gettext("Enabled"):t.$gettext("Disabled")},slot:"content"})],1)])})),t._v(" "),t.$api.data.limitNotice?s("ui-form-element",{attrs:{"feature-i-d":"2242"}},[s("translate",{attrs:{slot:"title"},slot:"title"},[t._v("\n                        Limit Notice\n                    ")]),t._v(" "),s("input-select",{attrs:{slot:"content",options:{2:"1"===t.$api.data.limitNotice.defaultValue?t.$gettext("Default (On)"):t.$gettext("Default (Off)"),0:t.$gettext("Off"),1:t.$gettext("On")}},slot:"content",model:{value:t.limitNotice,callback:function(e){t.limitNotice=e},expression:"limitNotice"}},[s("ui-button",{attrs:{slot:"additions:right",theme:"safe"},on:{click:t.saveLimitNotice},slot:"additions:right"},[s("translate",[t._v("Save Limit Notice")])],1)],1)],1):t._e()],2)],1)],1),t._v(" "),s("template",{slot:"bottom:links"},[s("ui-link",{attrs:{bullet:"",name:"reseller/history"}},[s("translate",[t._v("Reseller History")])],1)],1)],2)}),[],!1,null,null,null);"function"==typeof l()&&l()(r);var u=r.exports},"./src/js/pages/reseller/stats.vue?vue&type=custom&index=0&blockType=route":function(){}}]);