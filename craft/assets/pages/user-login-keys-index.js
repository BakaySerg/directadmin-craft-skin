(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[8466],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/login-keys/index.vue?vue&type=script&lang=js&":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.define-property.js"),Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var s=o("./src/js/api/commands/user/login-keys.js"),r={preload:s.getKeys,commands:{getKeys:s.getKeys},data:function(){return{select:[]}},methods:{deleteKeys:function(){(0,s.deleteKeys)({select:this.select}).then(s.getKeys).then(this.$reset)}}};t.Z=r},"./src/js/api/commands/user/login-keys.js":function(e,t,o){"use strict";o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),o("./node_modules/core-js/modules/es.object.define-properties.js"),o("./node_modules/core-js/modules/es.object.define-property.js");var s=o("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.modifyKey=t.getUsageLog=t.getKeys=t.getKeyDefaults=t.getKey=t.deleteKeys=t.createUrl=t.createKey=void 0;var r=s(o("./node_modules/@babel/runtime/helpers/defineProperty.js"));o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.array.filter.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.string.replace.js");var n=s(o("./src/js/api/command/index.js"));function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,s)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var u="/CMD_LOGIN_KEYS",d=n.default.get({id:"LOGIN_KEYS",url:u,pagination:!0,after:function(e){return e.flow(e.moveProp("login_keys","rows"),e.processTableInfo("rows"),e.mapProp("rows",e.flow(e.toArray,e.mapArrayProps({expiry:function(t){return"0"!==t?e.convert.toAppDate(t):"never"},log:e.convert.toAppBoolean}))))}});t.getKeys=d;var i=n.default.post({url:u,schema:{keyname:n.default.REQUIRED_STRING,key:n.default.REQUIRED_STRING,key2:n.default.REQUIRED_STRING,never_expires:n.default.REQUIRED_BOOL,hour:n.default.REQUIRED_STRING,minute:n.default.REQUIRED_STRING,month:n.default.REQUIRED_STRING,day:n.default.REQUIRED_STRING,year:n.default.REQUIRED_STRING,clear_key:n.default.REQUIRED_BOOL,allow_htm:n.default.REQUIRED_BOOL,select_allow:n.default.ROWS,select_deny:n.default.ROWS,ips:n.default.OPTIONAL_STRING,passwd:n.default.REQUIRED_STRING}}),c=i.extend({params:{action:"create",type:"key"}});t.createKey=c;var m=n.default.post({url:u,params:{action:"create",type:"one_time_url"},schema:{clear_key:n.default.REQUIRED_BOOL,allow_htm:n.default.REQUIRED_BOOL,select_allow:n.default.ROWS,select_deny:n.default.ROWS,ips:n.default.OPTIONAL_STRING,passwd:n.default.REQUIRED_STRING},notifySuccess:!1});t.createUrl=m;var p=i.extend({params:{action:"modify"}});t.modifyKey=p;var y=n.default.get({id:"LOGIN_KEY_DEFAULTS",url:u,params:{action:"show_create"},after:function(e){return e.flow((function(t){return a(a({},t),{},{commands:e.flow(e.toArray,(function(e){return e.map((function(e){return e.allow}))}),(function(e){return e.filter((function(e){return e}))}))(t.allow_table)})}),e.mapProps({allow_table:e.flow(e.toArray,(function(e){return e.filter((function(e){return"unchecked"!==e.checkbox&&e.allow}))}),(function(e){return e.map((function(e){return e.allow}))})),deny_table:e.flow(e.toArray,(function(e){return e.filter((function(e){return"unchecked"!==e.checkbox&&e.deny}))}),(function(e){return e.map((function(e){return e.deny}))})),expiry:e.mapProps({day:e.toSelect,hour:e.toSelect,minute:e.toSelect,month:e.toSelect,year:e.toSelect})}))}});t.getKeyDefaults=y;var f=n.default.get({id:"LOGIN_KEY",url:u,params:{action:"show_modify"},schema:{keyname:n.default.REQUIRED_STRING},after:function(e){return e.flow((function(t){return{values:{allow_htm:e.convert.toAppBoolean(t.data.allow_htm),clear_key:e.convert.toAppBoolean(t.data.clear_key),never_expires:"0"===t.data.expiry,allow:e.flow(e.toArray,(function(e){return e.filter((function(e){return"unchecked"!==e.checkbox&&e.allow}))}),(function(e){return e.map((function(e){return e.allow}))}))(t.allow_table),deny:e.flow(e.toArray,(function(e){return e.filter((function(e){return"unchecked"!==e.checkbox&&e.deny}))}),(function(e){return e.map((function(e){return e.deny}))}))(t.deny_table),hour:e.toSelect(t.expiry.hour).value,minute:e.toSelect(t.expiry.minute).value,day:e.toSelect(t.expiry.day).value,month:e.toSelect(t.expiry.month).value,year:e.toSelect(t.expiry.year).value,ips:t.ips.join("\r\n")},commands:e.flow(e.toArray,(function(e){return e.map((function(e){return e.allow}))}),(function(e){return e.filter((function(e){return e}))}))(t.allow_table),expiry:{hour:e.toSelect(t.expiry.hour).options,minute:e.toSelect(t.expiry.minute).options,day:e.toSelect(t.expiry.day).options,month:e.toSelect(t.expiry.month).options,year:e.toSelect(t.expiry.year).options}}}))}});t.getKey=f;var _=n.default.select({url:u,params:{delete:!0}});t.deleteKeys=_;var v=n.default.get({id:"LOGIN_KEY_USAGE_LOG",url:u,params:{action:"log"},schema:{keyname:n.default.REQUIRED_STRING},after:function(e){return e.flow(e.toArray,e.mapArrayProps({command:function(e){return e.replace("/","")},timestamp:e.convert.toAppDate}))}});t.getUsageLog=v},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/login-keys/index.vue?vue&type=style&index=0&id=50e35838&lang=scss&scoped=true&":function(){},"./src/js/pages/user/login-keys/index.vue":function(e,t,o){"use strict";o.r(t),o.d(t,{__esModule:function(){return s.X},default:function(){return d}});var s=o("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/login-keys/index.vue?vue&type=script&lang=js&"),r=s.Z,n=(o("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/login-keys/index.vue?vue&type=style&index=0&id=50e35838&lang=scss&scoped=true&"),o("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),l=o("./src/js/pages/user/login-keys/index.vue?vue&type=custom&index=0&blockType=route"),a=o.n(l),u=(0,n.Z)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("app-page",{attrs:{actions:[{label:e.$gettext("Create"),name:"user/login-keys/create",icon:"#plus-fill"}]}},[o("template",{slot:"header:buttons"},[o("ui-button-link",{attrs:{theme:"primary",name:"user/login-keys/create"}},[o("translate",[e._v("Create")])],1)],1),e._v(" "),o("template",{slot:"bottom:links"},[o("ui-link",{attrs:{bullet:"",name:"user/password"}},[o("translate",[e._v("Password Management")])],1)],1),e._v(" "),o("template",{slot:"details"},[o("ui-infobar-item",{attrs:{title:e.$gettext("Details")}},[o("p",[o("translate",[e._v("Login keys allow you to create extra passwords for your account.")]),o("br"),e._v(" "),o("translate",[e._v("However, these passwords have attributes, such as the ability to expire and can be limited to certain functions.")]),o("br"),e._v(" "),o("translate",[e._v("Note that the Login Keys are one-way encrypted, just like passwords. They cannot be retrieved if you forget them.")]),o("br"),e._v(" "),o("translate",[e._v("The login username used will still be your normal DA username.")])],1)])],1),e._v(" "),o("app-page-section",[o("ui-api-table",e._b({on:{"action:del":function(t){e.$dialog("DELETE_ITEMS_DIALOG").open()}},scopedSlots:e._u([{key:"col:name",fn:function(t){var s=t.name;return o("ui-link",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{\n                    cross: 'center',\n                }"}],attrs:{name:"user/login-keys/modify",params:{keyname:s}}},[e._v("\n                "+e._s(s)+"\n\n                "),"rootauth"===s?o("ui-tooltip",{directives:[{name:"margin",rawName:"v-margin:left",value:1,expression:"1",arg:"left"}],attrs:{theme:"primary"}},[o("translate",[e._v("This login key is used by administrator or software running on the server to do automatic actions in your account.")])],1):e._e()],1)}},{key:"col:expiry",fn:function(t){var s=t.expiry;return["never"===s?o("translate",[e._v("\n                    Never\n                ")]):[e._v("\n                    "+e._s(e._f("date")(s))+"\n                ")]]}},{key:"col:allow",fn:function(e){var t=e.allow;return[t.length?o("ui-list",{attrs:{items:t,"max-items-visible":5}}):o("span")]}},{key:"col:deny",fn:function(e){var t=e.deny;return[t.length?o("ui-list",{attrs:{items:t,"max-items-visible":5}}):o("span")]}},{key:"col:ips",fn:function(t){var s=t.ips;return o("ul",{},e._l(s,(function(t){return o("li",{key:t,domProps:{textContent:e._s(t)}})})),0)}},{key:"row:actions",fn:function(t){var s=t.item;return s.log?o("ui-button-link",{attrs:{theme:"light",size:"small",name:"user/login-keys/log",params:{keyname:s.name}}},[o("translate",[e._v("Log")])],1):e._e()}}],null,!0),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},"ui-api-table",{command:e.$commands.getKeys,rowID:"name",columns:{name:{label:e.$gettext("Key Name"),grow:!0},expiry:e.$gettext("Expiry"),allow:e.$gettext("Allow"),deny:e.$gettext("Deny"),ips:e.$gettext("IPs")},actions:{del:e.$gettext("Delete")},updateOn:["DELETE_LOGIN_KEYS"],verticalLayout:e.$_Client.isPhone},!1))],1),e._v(" "),o("p",{attrs:{slot:"footer:text"},slot:"footer:text"},[o("translate",[e._v("Login keys allow you to create extra passwords for your account.")]),o("br"),e._v(" "),o("translate",[e._v("However, these passwords have attributes, such as the ability to expire and can be limited to certain functions.")]),o("br"),e._v(" "),o("translate",[e._v("Note that the Login Keys are one-way encrypted, just like passwords. They cannot be retrieved if you forget them.")]),o("br"),e._v(" "),o("translate",[e._v("The login username used will still be your normal DA username.")])],1),e._v(" "),o("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("key","keys",e.select.length)},on:{"click:confirm":e.deleteKeys}})],2)}),[],!1,null,"50e35838",null);"function"==typeof a()&&a()(u);var d=u.exports},"./src/js/pages/user/login-keys/index.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/login-keys/index.vue?vue&type=style&index=0&id=50e35838&lang=scss&scoped=true&":function(e,t,o){var s=o("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/user/login-keys/index.vue?vue&type=style&index=0&id=50e35838&lang=scss&scoped=true&");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);(0,o("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("d0a1a512",s,!0,{})}}]);