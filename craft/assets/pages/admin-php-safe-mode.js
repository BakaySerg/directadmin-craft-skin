(self.webpackChunkcraft=self.webpackChunkcraft||[]).push([[3736],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/php-safe-mode.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.array.iterator.js"),t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.string.iterator.js"),t("./node_modules/core-js/modules/es.weak-map.js"),t("./node_modules/core-js/modules/web.dom-collections.iterator.js"),t("./node_modules/core-js/modules/es.object.define-property.js"),t("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js");var o=t("./node_modules/@babel/runtime/helpers/typeof.js");Object.defineProperty(s,"X",{value:!0}),s.Z=void 0;var a=function(e,s){if(!s&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=l(s);if(t&&t.has(e))return t.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in e)if("default"!==d&&Object.prototype.hasOwnProperty.call(e,d)){var r=n?Object.getOwnPropertyDescriptor(e,d):null;r&&(r.get||r.set)?Object.defineProperty(a,d,r):a[d]=e[d]}a.default=e,t&&t.set(e,a);return a}(t("./src/js/api/commands/admin/php-settings.js"));function l(e){if("function"!=typeof WeakMap)return null;var s=new WeakMap,t=new WeakMap;return(l=function(e){return e?t:s})(e)}var n={preload:a.getData,api:[{command:a.getData,bind:"data"}],commands:a,data:function(){return{select:[],safeMode:!1,openBaseDir:!1,filter:{column:"domain",value:"",type:"equals"}}},computed:{settings:function(){return this.$api.data}},created:function(){this.safeMode=this.settings.safemode,this.openBaseDir=this.settings.open_basedir},methods:{enableBasedir:function(){a.enableBasedir({select:this.select}).then(this.$reloadApiTable)},disableBasedir:function(){a.disableBasedir({select:this.select}).then(this.$reloadApiTable)},saveSettings:function(){a.safeDefaults({enabled:this.safeMode?"ON":"OFF",obdenabled:this.openBaseDir?"ON":"OFF"})}}};s.Z=n},"./src/js/api/commands/admin/php-settings.js":function(e,s,t){"use strict";t("./node_modules/core-js/modules/es.object.define-property.js");var o=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.safeDefaults=s.getData=s.enableBasedir=s.disableBasedir=void 0,t("./node_modules/core-js/modules/es.object.to-string.js"),t("./node_modules/core-js/modules/es.promise.js");var a=o(t("./src/js/api/command/index.js")),l=(t("./src/js/modules/utils/index.js"),"/CMD_PHP_SAFE_MODE"),n=a.default.get({id:"PHP_SAFE_MODE_DATA",url:l,params:{sort1:2},pagination:!0,after:function(e){return e.flow(e.processTableInfo("domains"),e.moveProp("domains","rows"),e.mapProps({rows:e.flow(e.toArray,e.mapArray(e.flow(e.mapProps({php:e.isEqual("ON"),open_basedir:e.isEqual("ON")})))),have_openbasedir:e.isEqual("1"),have_safemode:e.isEqual("1"),open_basedir:e.isEqual("ON"),safemode:e.isEqual("ON")}))}});s.getData=n;var d=a.default.select({url:l,params:{action:"set",enable_obd:!0}});s.enableBasedir=d;var r=a.default.select({url:l,params:{action:"set",disable_obd:!0}});s.disableBasedir=r;var i=a.default.post({url:l,params:{action:"enabled"},schema:{enabled:a.default.REQUIRED_STRING,obdenabled:a.default.REQUIRED_STRING}});s.safeDefaults=i},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/php-safe-mode.vue?vue&type=style&index=0&lang=scss&":function(){},"./src/js/pages/admin/php-safe-mode.vue":function(e,s,t){"use strict";t.r(s),t.d(s,{__esModule:function(){return o.X},default:function(){return i}});var o=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/php-safe-mode.vue?vue&type=script&lang=js&"),a=o.Z,l=(t("./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/php-safe-mode.vue?vue&type=style&index=0&lang=scss&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),n=t("./src/js/pages/admin/php-safe-mode.vue?vue&type=custom&index=0&blockType=route"),d=t.n(n),r=(0,l.Z)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("app-page",{attrs:{id:"php-safe-mode"}},[t("app-page-section",[t("ui-form-element",{attrs:{underline:!1}},[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Show Domains that\n            ")]),e._v(" "),t("ui-input-group",{attrs:{slot:"content"},slot:"content"},[t("input-select",{staticClass:"search-type-select",attrs:{slot:"additions:left",options:{startswith:e.$gettext("Starts With"),contains:e.$gettext("Contains"),equals:e.$gettext("Equals")}},slot:"additions:left",model:{value:e.filter.type,callback:function(s){e.$set(e.filter,"type",s)},expression:"filter.type"}}),e._v(" "),t("input-text",{attrs:{slot:"input"},slot:"input",model:{value:e.filter.value,callback:function(s){e.$set(e.filter,"value",s)},expression:"filter.value"}}),e._v(" "),t("ui-button",{attrs:{slot:"additions:right",theme:"light",size:"normal",icon:"close",title:e.$gettext("Clear Search")},on:{click:function(s){e.filter.value=""}},slot:"additions:right"})],1)],1)],1),e._v(" "),t("app-page-section",[t("ui-api-table",e._b({on:{"action:enable":e.enableBasedir,"action:disable":e.disableBasedir},scopedSlots:e._u([{key:"col:domain",fn:function(s){var o=s.domain;return[void 0===s.checkbox?t("ui-tooltip",[t("strong",{attrs:{slot:"trigger"},slot:"trigger"},[e._v(e._s(e._f("p6eUnicode")(o)))]),e._v(" "),t("translate",[e._v("This domain is controlled by the main domain for this User.")])],1):t("strong",[e._v(e._s(e._f("p6eUnicode")(o)))])]}},{key:"col:user",fn:function(s){var o=s.user;return t("ui-link",{attrs:{name:"reseller/users/view",params:{user:o}}},[e._v("\n                "+e._s(o)+"\n            ")])}},{key:"col:php",fn:function(s){var o=s.php,a=s.open_basedir;return e.settings.have_safemode?t("ui-badge",{attrs:{theme:o?"safe":"danger",title:a?e.$gettext("Enabled"):e.$gettext("Disabled")}},[t("translate",[e._v("PHP")])],1):e._e()}},{key:"col:open_basedir",fn:function(s){var o=s.open_basedir;return e.settings.have_openbasedir?t("ui-badge",{attrs:{theme:o?"safe":"danger",title:o?e.$gettext("Enabled"):e.$gettext("Disabled")}},[t("translate",[e._v("Open BaseDir")])],1):e._e()}}],null,!0),model:{value:e.select,callback:function(s){e.select=s},expression:"select"}},"ui-api-table",{command:e.$commands.getData,rowID:"domain",columns:{domain:{label:e.$gettext("Domain"),grow:!0},user:e.$gettext("User"),open_basedir:{label:e.$gettext("Open Basedir"),visible:e.settings.have_openbasedir},php:{label:e.$gettext("PHP"),visible:e.settings.have_safemode}},actions:{enable:e.$gettext("Enable Open Basedir"),disable:e.$gettext("Disable Open Basedir")},filters:[e.filter],disableSelectFor:function(e){return void 0===e.checkbox},editable:!1},!1))],1),e._v(" "),t("app-page-section",[t("ui-form-element",[t("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                Defaults for new domains\n            ")]),e._v(" "),t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],attrs:{slot:"content"},slot:"content"},[t("input-checkbox",{model:{value:e.safeMode,callback:function(s){e.safeMode=s},expression:"safeMode"}},[t("translate",[e._v("Safe Mode")])],1),e._v(" "),t("input-checkbox",{directives:[{name:"margin",rawName:"v-margin",value:[0,1],expression:"[ 0, 1 ]"}],model:{value:e.openBaseDir,callback:function(s){e.openBaseDir=s},expression:"openBaseDir"}},[t("translate",[e._v("Open BaseDir")])],1)],1)],1)],1),e._v(" "),t("ui-button",{attrs:{slot:"footer:buttons",theme:"safe"},on:{click:e.saveSettings},slot:"footer:buttons"},[t("translate",[e._v("Save")])],1)],1)}),[],!1,null,null,null);"function"==typeof d()&&d()(r);var i=r.exports},"./src/js/pages/admin/php-safe-mode.vue?vue&type=custom&index=0&blockType=route":function(){},"./node_modules/vue-style-loader/index.js!./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/php-safe-mode.vue?vue&type=style&index=0&lang=scss&":function(e,s,t){var o=t("./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-6[0].rules[0].use[1]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[2]!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[3]!./node_modules/sass-loader/dist/cjs.js??clonedRuleSet-6[0].rules[0].use[4]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./src/js/pages/admin/php-safe-mode.vue?vue&type=style&index=0&lang=scss&");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").Z)("05a317c8",o,!0,{})}}]);