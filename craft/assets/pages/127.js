(window.webpackJsonp=window.webpackJsonp||[]).push([[127],{1872:function(e,t,o){"use strict";o.r(t);var n=o(4070),r=o(2806);for(var a in r)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return r[e]}))}(a);o(3804);var i=o(0),s=o(3806),l=o.n(s),u=Object(i.a)(r.default,n.a,n.b,!1,null,"bcf13e88",null);"function"==typeof l.a&&l()(u),t.default=u.exports},1931:function(e,t,o){"use strict";o(10),o(5),o(6),o(8),o(11);var n=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.getPhpDocrootOptions=t.phpOverride=t.docrootOverride=t.getSubdomainLog=t.deleteSubdomains=t.createSubdomain=t.getSubdomains=void 0,o(7),o(84);var r=n(o(2)),a=n(o(78));function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}var s=a.default.get({id:"GET_SUBDOMAINS",url:"/CMD_SUBDOMAIN",schema:function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({domain:a.default.DOMAIN},a.default.PAGINATION),after:function(e){return e.flow(e.moveProp("subdomains","rows"),e.moveProp("allow_subdomain_docroot_override","docroot"),e.processTableInfo("rows"),e.mapProps({awstats:function(e){return"0"!==e},webalizer:e.isEqual("1"),docroot:e.isEqual("1"),has_php_selector:e.isEqual("yes"),rows:e.flow(e.toArray,e.mapArray(e.moveProp("subdomain_docroot_override","docroot")),e.mapArrayProps({bandwidth:e.convert.toAppNumber,stats:e.mapProps({webalizer_only:e.convert.toAppBoolean}),docroot:function(t){if(t&&Object.keys(t).length){if(void 0!==t.php1_select){var o=e.toSelect(t.php1_select),n=o.options,r=o.value;return{public_html:t.public_html,private_html:t.private_html,php_labels:n,php1_select:r}}return t}return!1}}))}))}});t.getSubdomains=s;var l=a.default.post({url:"/CMD_SUBDOMAIN",params:{action:"create"},schema:{domain:a.default.DOMAIN,subdomain:a.default.REQUIRED_STRING}});t.createSubdomain=l;var u=a.default.select({url:"/CMD_SUBDOMAIN",params:{action:"delete"},domain:!0,body:{contents:a.default.REQUIRED_BOOL}});t.deleteSubdomains=u;var c=a.default.get({id:"GET_SUBDOMAIN_LOG",url:"/CMD_SHOW_LOG",params:{json:null},accept:"text/plain",schema:{domain:a.default.DOMAIN,type:a.default.REQUIRED_STRING,subdomain:a.default.REQUIRED_STRING,lines:a.default.OPTIONAL_STRING},after:function(e){return e.flow(e.convert.toLines,(function(e){return e.slice(0,-1)}))}});t.getSubdomainLog=c;var d=a.default.post({url:"/CMD_SUBDOMAIN",params:{action:"document_root_override"},domain:!0,schema:{subdomain:a.default.REQUIRED_STRING,private_html:a.default.OPTIONAL_STRING,public_html:a.default.OPTIONAL_STRING}});t.docrootOverride=d;var p=a.default.post({url:"/CMD_SUBDOMAIN",domain:!0,params:{action:"php_selector"},schema:{subdomain:a.default.REQUIRED_STRING,php1_select:a.default.REQUIRED_STRING}});t.phpOverride=p;var f=a.default.get({url:"/CMD_SUBDOMAIN",id:"SUBDOMAIN_DATA",domain:!0,params:{action:"show_docroot_override"},schema:{subdomain:a.default.REQUIRED_STRING},after:function(e){return e.flow(e.project({has_php_selector:"has_php_selector",http:"public_html",https:"private_html",php:"php1_select"}),e.mapProps({php:e.toSelect,has_php_selector:e.isEqual("yes")}))}});t.getPhpDocrootOptions=f},2806:function(e,t,o){"use strict";o.r(t);var n=o(2807),r=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t.default=r.a},2807:function(e,t,o){"use strict";var n=o(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(24),o(55);var r=o(1931),a={components:{InputTextEditor:n(o(1935)).default},preload:function(e){return(0,r.getSubdomainLog)({subdomain:e.subdomain,type:"usage"===e.type?"log":"error",lines:"100"})},api:[{command:r.getSubdomainLog,bind:"log"}],props:{subdomain:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{lines:"100",show:"lines"}},computed:{rawLink:function(){var e="usage"===this.type?"log":"error",t="/CMD_SHOW_LOG?domain=".concat(this.$domain,"&type=").concat(e,"&subdomain=").concat(this.subdomain);return"lines"===this.show?"".concat(t,"&lines=").concat(this.lines):t},log:function(){return this.$api.log.join("\n")}},methods:{loadLog:function(){var e="usage"===this.type?"log":"error";(0,r.getSubdomainLog)({domain:this.$domain,subdomain:this.subdomain,type:e,lines:"lines"===this.show?this.lines:null})}}};t.default=a},3159:function(e,t,o){var n=o(3805);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,o(4).default)("9eb37402",n,!0,{})},3804:function(e,t,o){"use strict";o(3159)},3805:function(e,t,o){},3806:function(e,t){},4070:function(e,t,o){"use strict";o.d(t,"a",(function(){return n})),o.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("app-page",{attrs:{id:"subdomain-log"}},[o("app-page-section",[o("div",{directives:[{name:"gutter",rawName:"v-gutter",value:1,expression:"1"}],staticClass:"filters"},[o("ui-form-element",{attrs:{underline:"lines"===e.show}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                    Show\n                ")]),e._v(" "),o("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,2],expression:"[0, 2]"}],attrs:{slot:"content"},slot:"content"},[o("input-radio",{attrs:{value:"full"},on:{change:e.loadLog},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("translate",[e._v("Full Log")])],1),e._v(" "),o("input-radio",{attrs:{value:"lines"},on:{change:e.loadLog},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("translate",[e._v("Tail")])],1)],1)],1),e._v(" "),o("transition",{attrs:{name:"fade"}},["lines"===e.show?o("ui-form-element",{attrs:{vertical:e.$_Client.isPhone,underline:!1}},[o("translate",{attrs:{slot:"title"},slot:"title"},[e._v("\n                        Number of lines to show\n                    ")]),e._v(" "),o("ui-grid",{attrs:{slot:"content",column:e.$_Client.isPhone,cross:e.$_Client.isPhone?"stretch":"center"},slot:"content"},[o("input-text",{attrs:{number:""},model:{value:e.lines,callback:function(t){e.lines=t},expression:"lines"}}),e._v(" "),o("ui-button",{attrs:{theme:"safe",size:"normal"},on:{click:e.loadLog}},[o("translate",[e._v("Reload Log")])],1)],1)],1):e._e()],1)],1),e._v(" "),o("input-text-editor",{attrs:{value:e.log,"read-only":"","disable-modes":""}},[o("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center",main:"between"},expression:"{\n                    cross: 'center',\n                    main: 'between',\n                }"}],attrs:{slot:"header"},slot:"header"},[e._v("\n                "+e._s(e.subdomain)+"."+e._s(e.$domainUnicode)+"\n                "),o("ui-button-link",{attrs:{size:"small",theme:"light",href:e.rawLink,target:"_blank"}},[o("translate",[e._v("raw")])],1)],1)])],1)],1)},r=[]}}]);